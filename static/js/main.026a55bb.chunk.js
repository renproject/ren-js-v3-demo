(this["webpackJsonpdemo-v3"]=this["webpackJsonpdemo-v3"]||[]).push([[0],{104:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return v})),n.d(e,"d",(function(){return g})),n.d(e,"a",(function(){return x}));var r,a,i=n(1),s=n.n(i),c=n(16),o=n(81),u=n(3),p=n(55);!function(t){t.ASSET_NOT_SUPPORTED="ASSET_NOT_SUPPORTED",t.NETWORK_ERROR="NETWORK_ERROR"}(r||(r={}));var d,h=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},f="0x"+"00".repeat(20),l=function(t,e){return new o.a(t.addresses.GatewayRegistry,p.b,e)};!function(t){t.MintGateway="Mint Gateway",t.LockGateway="Lock Gateway",t.RenAsset="Ren Asset",t.LockAsset="Lock Asset"}(d||(d={}));var b=(a={},Object(c.a)(a,d.MintGateway,"getMintGatewayBySymbol"),Object(c.a)(a,d.LockGateway,"getLockGatewayBySymbol"),Object(c.a)(a,d.RenAsset,"getRenAssetBySymbol"),Object(c.a)(a,d.LockAsset,"getLockAssetBySymbol"),a),y=function(t){return function(e,n,a){return h(void 0,void 0,void 0,s.a.mark((function i(){var c,o;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,c=l(e,n),i.t0=u.g,i.next=5,c[b[t]](a);case 5:if(i.t1=i.sent,(o=(0,i.t0)(i.t1))&&o!==f){i.next=9;break}throw new u.c("".concat(a," not supported on ").concat(e.selector," - unable to get ").concat(a," ").concat(t),r.ASSET_NOT_SUPPORTED);case 9:return i.abrupt("return",o);case 12:throw i.prev=12,i.t2=i.catch(0),i.t2 instanceof Error&&(i.t2.message="Error looking up ".concat(a," ").concat(t).concat(i.t2.message?": ".concat(String(i.t2.message)):"."),i.t2.code=r.NETWORK_ERROR),i.t2;case 16:case"end":return i.stop()}}),i,null,[[0,12]])})))}},m=y(d.MintGateway),v=y(d.LockGateway),g=y(d.RenAsset),x=y(d.LockAsset)},113:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(1),a=n.n(r),i=n(5),s=n(27),c=n.n(s),o=n(152),u=n.n(o),p=n(3),d=n(17),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},f=function t(e){var n=this;Object(i.a)(this,t),this.fetchHeight=function(){return h(n,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(this.url),{timeout:d.b});case 2:return t.abrupt("return",t.sent.data.bestHeight.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){return h(n,void 0,void 0,a.a.mark((function e(){var n,r,i,s=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/utxo/").concat(t),e.next=3,c.a.get(n,{httpsAgent:new u.a.Agent({rejectUnauthorized:!1}),timeout:d.b});case 3:return r=e.sent,i="string"===typeof r.data?JSON.parse(r.data):r.data,e.next=7,Promise.all(i.map((function(t){return{txid:t.txid,amount:Object(p.y)(t.satoshis)?t.satoshis.toString():Object(p.y)(t.amount)?Object(d.e)(t.amount,8).toFixed():void 0,txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})).map((function(t){return Object(p.y)(t.amount)?t:s.fetchUTXO(t.txid,t.txindex)})));case 7:return e.abrupt("return",e.sent.sort(d.f));case 8:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return h(n,void 0,void 0,a.a.mark((function n(){var r,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,c.a.get(r,{timeout:d.b});case 3:return i=n.sent.data,n.abrupt("return",Object(d.c)({txid:t,amount:i.vout[parseInt(e,10)].value.toString(),txindex:e,height:i.blockheight&&i.blockheight>0?i.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return h(n,void 0,void 0,a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,c.a.post(n,{rawtx:t},{timeout:d.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},114:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return d}));var r=n(5),a=n(1),i=n.n(a),s=(n(43),n(81),n(112)),c=n(3),o=n(48),u=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},p=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];t=Object.assign(Object.assign({},t),s),Object(c.y)(t.value)&&(t.value=t.value.toString()),Object(c.y)(t.gasPrice)&&(t.gasPrice=t.gasPrice.toString())}return t},d=function t(e){var n=this,a=e.network,p=e.signer,d=e.chain,h=e.payload,f=e.target,l=e.getPayloadHandler,b=e.getParams,y=e.onReceipt;Object(r.a)(this,t),this.updateStatus=function(t){n.status=Object.assign(Object.assign({},n.status),t),n.eventEmitter.emit("status",n.status)},this.submit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(c.E)(n.eventEmitter);return u(n,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPayloadHandler(this.payload.type).submit(this.network,this.signer,this.payload,this.getParams(),t,this.getPayloadHandler);case 2:return this.tx=e.sent,this.updateStatus({status:c.a.Confirming,transaction:Object(o.h)(this.chain,this.tx.hash),target:this.target,confirmations:this.tx.confirmations}),e.abrupt("return",this.status);case 5:case"end":return e.stop()}}),e,this)}))).then(e.resolve).catch(e.reject),e},this.wait=function(t){var e=Object(c.E)(n.eventEmitter);return u(n,void 0,void 0,i.a.mark((function e(){var n,r,a,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tx){e.next=2;break}throw new Error('Must call ".submit" first.');case 2:if(0!==(t=Object(c.y)(t)?t:this.target)){e.next=5;break}return e.abrupt("return",this.status);case 5:if(!(this.tx.confirmations<t)){e.next=34;break}return e.prev=6,e.next=9,this.tx.wait(this.tx.confirmations+1);case 9:n=e.sent,this.onReceipt&&(r=this.onReceipt,this.onReceipt=void 0,r(n)),a=this.tx.confirmations,this.tx.confirmations=n.confirmations,n.confirmations>a&&this.updateStatus(Object.assign(Object.assign({},this.status),{status:this.tx.confirmations<t?c.a.Confirming:c.a.Done,transaction:Object(o.h)(this.chain,this.tx.hash),target:t,confirmations:this.tx.confirmations})),e.next=32;break;case 16:if(e.prev=16,e.t0=e.catch(6),!Object(c.A)(e.t0)){e.next=30;break}if(e.t0.code!==s.Logger.errors.TRANSACTION_REPLACED){e.next=27;break}return u=e.t0.replacement,p=this.tx,this.tx=u,this.updateStatus({status:c.a.Confirming,transaction:Object(o.h)(this.chain,u.hash),target:t,confirmations:u.confirmations,replaced:Object(o.h)(this.chain,p.hash)}),e.abrupt("continue",5);case 27:if(e.t0.code!==s.Logger.errors.CALL_EXCEPTION){e.next=30;break}throw this.updateStatus({status:c.a.Reverted,transaction:Object(o.h)(this.chain,this.tx.hash),target:t,confirmations:e.t0.receipt.confirmations,revertReason:e.t0.message}),e.t0;case 30:return console.error(e.t0),e.abrupt("continue",5);case 32:e.next=5;break;case 34:return e.abrupt("return",this.status);case 35:case"end":return e.stop()}}),e,this,[[6,16]])}))).then(e.resolve).catch(e.reject),e},this.network=a,this.signer=p,this.chain=d,this.payload=h,this.target=f,this.getPayloadHandler=l,this.getParams=b,this.onReceipt=y,this.eventEmitter=Object(c.n)(),this.status={chain:d,status:c.a.Ready,confirmations:0,target:0}}},116:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var r=n(5),a=n(37),i=n(199),s=function(t){return Object(a.e)(Object(a.e)(t)).slice(0,4)},c=function e(){var n=this;Object(r.a)(this,e),this.OP=i.a,this.addOp=function(e){return n.script=t.concat([n.script,t.from([e])]),n},this.addData=function(e){return n.script=t.concat([n.script,t.from([e.length]),e]),n},this.toBuffer=function(){return n.script},this.toScriptHashOut=function(){return(new e).addOp(e.OP.OP_HASH160).addData(Object(a.c)(n.toBuffer())).addOp(e.OP.OP_EQUAL).toBuffer()},this.toAddress=function(e){var r=Object(a.c)(n.toBuffer()),i=t.concat([e,r]);return t.concat([i,s(i)])},this.script=t.from([])};c.OP=i.a}).call(this,n(31).Buffer)},124:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return x}));var r=n(1),a=n.n(r),i=n(5),s=n(14),c=n(11),o=n(12),u=n(25),p=n(21),d=n(84),h=n(151),f=n(3),l=n(170),b=n(172),y=n(68),m=n(171),v=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},g=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},x=function(e){Object(c.a)(r,e);var n=Object(o.a)(r);function r(e,c,o,d){var x,O,w=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(i.a)(this,r),(O=n.call(this)).selector="",O.transactions=Object(h.a)(),O.setup={},O._initialize=function(){return v(Object(s.a)(O),void 0,void 0,a.a.mark((function e(){var n,r,i,s,c,o,u,p,d,h,l,y,v,g,x=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.params,r=n.to,i=n.asset,s=n.from,e.next=3,Object(m.a)({asset:i,fromChain:this.fromChain,toChain:this.toChain});case 3:return c=e.sent,o=c.inputType,u=c.outputType,p=c.selector,this.inputType=o,this.outputType=u,this.selector=p,e.prev=10,e.next=13,this.confirmationTarget();case 13:this.targetConfirmations=e.sent,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.error(e.t0);case 19:if(this.outputType!==f.f.Release||Object(f.x)(this.fromChain)){e.next=21;break}throw Object(f.L)(new Error("Cannot release from non-contract chain ".concat(this.fromChain.chain)),f.i.PARAMETER_ERROR);case 21:if(this.outputType!==f.f.Mint||Object(f.x)(this.toChain)){e.next=23;break}throw Object(f.L)(new Error("Cannot mint ".concat(i," to non-contract chain ").concat(this.toChain.chain)),f.i.PARAMETER_ERROR);case 23:if(Object(f.y)(this.params.shard)){e.next=36;break}if(e.t1=this.inputType===f.d.Lock&&Object(f.z)(this.fromChain),!e.t1){e.next=29;break}return e.next=28,this.fromChain.isDepositAsset(i);case 28:e.t1=e.sent;case 29:if(!e.t1){e.next=35;break}return e.next=32,this.provider.selectShard(this.params.asset);case 32:this.params.shard=e.sent,e.next=36;break;case 35:this.params.shard={gPubKey:""};case 36:return e.next=38,this.toChain.getOutputPayload(i,this.outputType,r);case 38:if(d=e.sent,this.pHash=Object(f.u)(d.payload),h=Object(f.v)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),e.t2=Object(f.z)(this.fromChain),!e.t2){e.next=46;break}return e.next=45,this.fromChain.isDepositAsset(this.params.asset);case 45:e.t2=e.sent;case 46:if(!e.t2){e.next=76;break}if(e.prev=47,Object(f.x)(this.toChain)){e.next=50;break}throw new Error("Cannot mint ".concat(i," to non-contract chain ").concat(this.toChain.chain,"."));case 50:if(this.params.shard){e.next=52;break}throw Object(f.L)(new Error("RenVM shard not selected."),f.i.INTERNAL_ERROR);case 52:if(l="string"===typeof this.params.nonce?Object(f.q)(this.params.nonce):Object(f.H)(this.params.nonce||0,32),y=Object(f.s)(this.pHash,h,d.toBytes,l),this.gHash=y,this.gPubKey=Object(f.q)(this.params.shard.gPubKey),this._config.logger.debug("gPubKey:",Object(f.g)(this.gPubKey)),this.gPubKey&&0!==this.gPubKey.length){e.next=59;break}throw Object(f.L)(new Error("Unable to fetch RenVM shard public key."),f.i.NETWORK_ERROR);case 59:if(y&&0!==y.length){e.next=61;break}throw new Error("Invalid gateway hash being passed to gateway address generation.");case 61:if(i&&0!==i.length){e.next=63;break}throw new Error("Invalid asset being passed to gateway address generation.");case 63:return e.next=65,this.fromChain.createGatewayAddress(this.params.asset,this.params.from,this.gPubKey,y);case 65:this.gatewayAddress=e.sent,this._config.logger.debug("gateway address:",this.gatewayAddress),e.next=72;break;case 69:throw e.prev=69,e.t3=e.catch(47),e.t3;case 72:return e.next=74,Object(b.a)(this.provider,i,this.fromChain,this.toChain);case 74:this.fees=e.sent,this.wait().catch(console.error);case 76:if(!Object(f.x)(this.fromChain)){e.next=92;break}return v=function(e){var n=Object(f.I)(e.nonce?Object(f.q)(e.nonce):"string"===typeof x.params.nonce?Object(f.q)(x.params.nonce):Object(f.H)(x.params.nonce||0,32)),r=Object(f.s)(d.payload,h,d.toBytes,Object(f.q)(n));if(x.gHash=r,x.gPubKey=x.gPubKey||t.from([]),!r||0===r.length)throw Object(f.L)(new Error("Invalid gateway hash being passed to gateway address generation."),f.i.PARAMETER_ERROR);if(!i||0===i.length)throw Object(f.L)(new Error("Invalid asset being passed to gateway address generation."),f.i.PARAMETER_ERROR);x.processDeposit(e).catch(console.error)},g=function(){},e.t4=this.fromChain,e.t5=this.inputType,e.t6=i,e.t7=s,e.t8=function(){return{toChain:r.chain,toPayload:d,gatewayAddress:x.gatewayAddress}},e.next=86,this.provider.getConfirmationTarget(this.fromChain.chain);case 86:return e.t9=e.sent,e.t10=v,e.t11=g,e.next=91,e.t4.getInputTx.call(e.t4,e.t5,e.t6,e.t7,e.t8,e.t9,e.t10,e.t11);case 91:this.in=e.sent;case 92:if(!Object(f.x)(this.fromChain)||!this.fromChain.getInputSetup){e.next=99;break}return e.t12=Object,e.t13=Object.assign({},this.setup),e.next=97,this.fromChain.getInputSetup(i,this.inputType,s,(function(){return{toChain:r.chain,toPayload:d,gatewayAddress:x.gatewayAddress}}));case 97:e.t14=e.sent,this.setup=e.t12.assign.call(e.t12,e.t13,e.t14);case 99:if(!Object(f.x)(this.toChain)||!this.toChain.getOutputSetup){e.next=106;break}return e.t15=Object,e.t16=Object.assign({},this.setup),e.next=104,this.toChain.getOutputSetup(i,this.outputType,r);case 104:e.t17=e.sent,this.setup=e.t15.assign.call(e.t15,e.t16,e.t17);case 106:return e.abrupt("return",this);case 107:case"end":return e.stop()}}),e,this,[[10,16],[47,69]])})))},O.confirmationTarget=function(){return v(Object(s.a)(O),void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(f.y)(this.targetConfirmations)){t.next=2;break}return t.abrupt("return",this.targetConfirmations);case 2:return t.next=4,this.provider.getConfirmationTarget(this.fromChain.chain);case 4:return this.targetConfirmations=t.sent,t.abrupt("return",this.targetConfirmations);case 6:case"end":return t.stop()}}),t,this)})))},O.processDeposit=function(t){return v(Object(s.a)(O),void 0,void 0,a.a.mark((function e(){var n,r,i,s,c=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.txid+"_"+String(t.txindex),r=this.transactions.get(n)){e.next=18;break}return i=function(){return v(c,void 0,void 0,a.a.mark((function e(){var n,r,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pHash&&this.gHash&&this.gPubKey){e.next=2;break}throw new Error("Gateway address must be generated before calling 'processDeposit'.");case 2:return n=Object(f.I)(t.nonce?Object(f.q)(t.nonce):"string"===typeof this.params.nonce?Object(f.q)(this.params.nonce):Object(f.H)(this.params.nonce||0,32)),r={asset:this.params.asset,fromTx:t,to:this.params.to,shard:{gPubKey:Object(f.I)(this.gPubKey)},nonce:n},i=new y.a(this.provider,this.fromChain,this.toChain,r,this.in,this._config),e.next=7,i._initialize();case 7:return this.emit("transaction",i),this._config.logger.debug("new deposit:",t),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})))},s=i(),this.transactions=this.transactions.set(n,s),e.prev=6,e.t0=this.transactions,e.t1=n,e.next=11,s;case 11:e.t2=e.sent,this.transactions=e.t0.set.call(e.t0,e.t1,e.t2),e.next=18;break;case 15:e.prev=15,e.t3=e.catch(6),this.transactions=this.transactions.remove(n);case 18:return e.next=20,r;case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,this,[[6,15]])})))},O.addListener=function(t,e){return"transaction"===t&&O.transactions.map((function(t){void 0===t.then&&e(t)})),Object(u.a)((x=Object(s.a)(O),Object(p.a)(r.prototype)),"on",x).call(x,t,e),Object(s.a)(O)},O.on=function(t,e){return O.addListener(t,e)},O.wait=function(){return v(Object(s.a)(O),void 0,void 0,a.a.mark((function t(){var e,n,r,i=this;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gatewayAddress&&Object(f.z)(this.fromChain)&&this.fromChain.watchForDeposits){t.next=2;break}return t.abrupt("return");case 2:if(e=function(){return 0===i.listenerCount("transaction")},t.prev=4,!e()){t.next=9;break}return t.next=8,Object(f.G)(1*f.k);case 8:return t.abrupt("continue",2);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),this._config.logger.error(Object(f.o)(t.t0));case 14:return n=function(t){try{i.processDeposit(t).catch(console.error)}catch(e){i._config.logger.error(e)}},r=function(){},t.prev=16,t.next=19,this.fromChain.watchForDeposits(this.params.asset,this.params.from,this.gatewayAddress,n,r,e);case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(16),this._config.logger.error(Object(f.o)(t.t1));case 24:return t.next=26,Object(f.G)(this._config.networkDelay);case 26:t.next=2;break;case 28:case"end":return t.stop()}}),t,this,[[4,11],[16,21]])})))},O.params=d,O.fromChain=c,O.toChain=o,O.provider=e,O._config=Object.assign(Object.assign({},l.a),w),O.inputType=void 0,O.outputType=void 0,O.fees=void 0;var j=O.params,T=(j.to,j.from,g(j,["to","from"]));return O._config.logger.debug("lockAndMint created:",T),O}return r}(d.EventEmitter)}).call(this,n(31).Buffer)},125:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.label&&!!t.selector&&!!t.nativeAsset&&!!t.p2shPrefix&&!!t.explorer&&!!t.providers}},129:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return f}));var r,a=n(5),i=n(11),s=n(12),c=n(281);!function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.PARAMETER_ERROR="PARAMETER_ERROR",t.INTERNAL_ERROR="INTERNAL_ERROR",t.NETWORK_ERROR="NETWORK_ERROR",t.TRANSACTION_NOT_FOUND="TRANSACTION_NOT_FOUND"}(r||(r={}));var o=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).code=r,i}return n}(Object(c.a)(Error)),u=function(t){return t instanceof Error&&"string"===typeof t.code},p=function(t,e){return t.code=e,t},d=function(t,e){return t.hasOwnProperty(e)},h=function(t){return""===t||"null"===t||"undefined"===t},f=function t(e){if(e&&"object"===typeof e){if(d(e,"response")&&e.response){var n=t(e.response);if(!h(n))return n}if(d(e,"data")&&e.data){var r=t(e.data);if(!h(r))return r}if(d(e,"error")&&e.error){var a=t(e.error);if(!h(a))return a}if(d(e,"context")&&e.context){var i=t(e.context);if(!h(i))return i}if(d(e,"message")&&e.message){var s=t(e.message);if(!h(s))return s}if(d(e,"statusText")&&e.statusText){var c=t(e.statusText);if(!h(c))return c}}try{return"string"===typeof e?("Error: "===e.slice(0,7)&&(e=e.slice(7)),e):JSON.stringify(e)}catch(o){}return String(e)}},131:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return E}));var r=n(43),a=n(18),i=n.n(a),s=n(50),c=n(94),o=n(36),u=function(t){switch(t){case"nil":return 0;case o.a.Bool:return 1;case o.a.U8:return 2;case o.a.U16:return 3;case o.a.U32:return 4;case o.a.U64:return 5;case o.a.U128:return 6;case o.a.U256:return 7;case o.a.Str:return 10;case o.a.Bytes:return 11;case o.a.Bytes32:return 12;case o.a.Bytes65:return 13;case"struct":return 20;case"list":return 21}throw new Error("Unknown type ".concat(String(t),"."))},p=function(t){return function(e){return function(t,e){try{return Object(s.g)("number"===typeof t?t:i.a.isBigNumber(t)?t.toFixed():t.toString(),e/8)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal uint".concat(e," '").concat(String(t),"': ").concat(String(n.message))),n}}(e,t)}},d=p(8),h=p(16),f=p(32),l=p(64),b=p(128),y=p(256),m=function(e){return t.concat([f(e.length),e])},v=function(e){return m(t.from(e))},g=function(e){var n=f(e.struct.length);return t.concat([t.from([u("struct")]),n].concat(Object(r.a)(e.struct.map((function(e){var n=Object.keys(e);if(0===n.length)throw new Error("Invalid struct field with no entries.");if(n.length>1)throw new Error("Invalid struct field with multiple entries.");var r=Object.keys(e)[0],a=e[r];return t.concat([v(r),O(a)])})))))},x=function(e){return t.concat([t.from([u("list")]),O(e.list)])},O=function(e){if(Object(o.c)(e))return g(e);if(Object(o.b)(e))return x(e);if("string"===typeof e)return t.from([u(e)]);throw new Error("Unable to marshal type ".concat(String(e),"."))},w=function(e,n){return t.concat(e.struct.map((function(t){var e=Object.keys(t);if(0===e.length)throw new Error("Invalid struct member with no entries.");if(e.length>1)throw new Error("Invalid struct member with multiple entries.");if("object"!==typeof n)throw new Error('Invalid struct value of type "'.concat(typeof n,'".'));if(null===n)throw new Error('Invalid struct value "null".');var r=Object.keys(t)[0],a=t[r];try{return T(a,n[r])}catch(i){throw i instanceof Error&&(i.message="Unable to marshal struct field ".concat(r,": ").concat(String(i.message))),i}})))},j=function(e,n){var r=e.list;return t.concat(n.map((function(t,e){try{return T(r,t)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal array element #".concat(e,": ").concat(String(n.message))),n}})))},T=function(e,n){if(Object(o.c)(e))return w(e,n);if(Object(o.b)(e))return j(e,n);if("string"===typeof e)return"nil"===e?t.from([]):function(e,n){switch(e){case o.a.Bool:return d(n?1:0);case o.a.U8:return d(n);case o.a.U16:return h(n);case o.a.U32:return f(n);case o.a.U64:return l(n);case o.a.U128:return b(n);case o.a.U256:return y(n);case o.a.Str:return v(n);case o.a.Bytes:return m(t.isBuffer(n)?t.from(n):Object(c.b)(n));case o.a.Bytes32:case o.a.Bytes65:return t.isBuffer(n)?t.from(n):Object(c.b)(n)}}(e,n);throw new Error("Unknown value type ".concat(String(e)).concat(e?"":" for value ".concat(String(n))))},E=function(e){var n=e.t,r=e.v,a=O(n),i=T(n,r);return t.concat([a,i])}}).call(this,n(31).Buffer)},149:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(3),a=function(e){var n=Object(r.K)(e.out);return n&&n.sig&&t.isBuffer(n.sig)&&n.sig.length>0&&(n.sig=Object(r.p)(n.sig)),{version:parseInt(e.version),hash:e.hash,selector:e.selector,in:Object(r.K)(e.in),out:n}}}).call(this,n(31).Buffer)},160:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.addresses}},17:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return m}));var r=n(59),a=n(1),i=n.n(a),s=n(5),c=n(18),o=n.n(c),u=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},p=3e4,d=function(t,e){var n=t.height?new o.a(t.height):null,r=e.height?new o.a(e.height):null;if(n){if(!r)return-1;if(!n.isEqualTo(r))return r.minus(n).toNumber()}else if(r)return 1;var a=new o.a(t.amount),i=new o.a(e.amount);if(a.isEqualTo(i))return i.minus(a).toNumber();if(t.txid!==e.txid)return t.txid<=e.txid?-1:1;var s=new o.a(t.txindex);return new o.a(e.txindex).minus(s).toNumber()},h=function(t,e){return new o.a(t).shiftedBy(e).decimalPlaces(0)},f=function(t,e){return Object.assign(Object.assign({},t),{amount:h(t.amount,e).toFixed()})},l=function(t,e){return t.map((function(t){return f(t,e)}))},b=function(t){if(void 0===t||null===t)throw new Error("Unexpected ".concat(String(t)," value."));return t},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.api&&void 0!==t.priority?t:{api:t,priority:e}},m=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.priority,o=void 0===c?0:c;Object(s.a)(this,t),this.withAPI=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.priority,a=void 0===r?0:r;return e.apis.push(y(t,a)),e},this.fetchHeight=function(){return u(e,void 0,void 0,i.a.mark((function t(){var e=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchHeight}),(function(t){return u(e,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(t.fetchHeight)());case 1:case"end":return e.stop()}}),e)})))})));case 1:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return u(e,void 0,void 0,i.a.mark((function e(){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXO}),(function(e){return u(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(e.fetchUTXO)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t,n){return u(e,void 0,void 0,i.a.mark((function e(){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXOs}),(function(e){return u(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(e.fetchUTXOs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t,n){return u(e,void 0,void 0,i.a.mark((function e(){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchTXs}),(function(e){return u(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(e.fetchTXs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return u(e,void 0,void 0,i.a.mark((function e(){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.broadcastTransaction}),(function(e){return u(n,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",b(e.broadcastTransaction)(t));case 1:case"end":return n.stop()}}),n)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.forEachAPI=function(t,n){return u(e,void 0,void 0,i.a.mark((function e(){var a,s,c,o,u,p,d,h,f,l,b,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.apis.map((function(t,e){return{api:t,index:e}})).filter((function(e){var n=e.api;return t(n.api)})).sort((function(t,e){var n=t.api,r=e.api;return n.priority!==r.priority?n.priority-r.priority:2*Math.random()-1})),a.length){e.next=3;break}throw new Error("No API available for call.");case 3:c=[],o=Object(r.a)(a),e.prev=5,o.s();case 7:if((u=o.n()).done){e.next=24;break}return p=u.value,d=p.api,h=p.index,e.prev=9,e.next=12,n(d.api);case 12:f=e.sent,l=Object(r.a)(c);try{for(l.s();!(b=l.n()).done;)y=b.value,this.apis[y].priority-=5}catch(i){l.e(i)}finally{l.f()}return e.abrupt("return",f);case 18:e.prev=18,e.t0=e.catch(9),c.push(h),s=s||e.t0;case 22:e.next=7;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(5),o.e(e.t1);case 29:return e.prev=29,o.f(),e.finish(29);case 32:throw s;case 33:case"end":return e.stop()}}),e,this,[[5,26,29,32],[9,18]])})))},this.apis=n.map((function(t){return y(t,o)}))}},170:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),a={logLevel:r.e.Debug,logger:r.F,networkDelay:15*r.k}},171:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),a=n.n(r),i=n(3),s=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},c=function(t){var e=t.asset,n=t.fromChain,r=t.toChain;return s(void 0,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.isLockAsset(e);case 2:if(!t.sent){t.next=12;break}if(Object(i.x)(r)){t.next=5;break}throw Object(i.L)(new Error("Cannot mint to non-contract chain ".concat(r.chain,".")),i.i.PARAMETER_ERROR);case 5:return t.next=7,r.isMintAsset(e);case 7:if(t.sent){t.next=9;break}throw Object(i.L)(new Error("Asset '".concat(e,"' is not supported on ").concat(r.chain,".")),i.i.PARAMETER_ERROR);case 9:return t.abrupt("return",{inputType:i.d.Lock,outputType:i.f.Mint,selector:"".concat(e,"/to").concat(r.chain)});case 12:return t.next=14,r.isLockAsset(e);case 14:if(!t.sent){t.next=24;break}if(Object(i.x)(n)){t.next=17;break}throw Object(i.L)(new Error("Cannot burn from non-contract chain ".concat(n.chain,".")),i.i.PARAMETER_ERROR);case 17:return t.next=19,n.isMintAsset(e);case 19:if(t.sent){t.next=21;break}throw Object(i.L)(new Error("Asset '".concat(e,"' is not supported on ").concat(n.chain,".")),i.i.PARAMETER_ERROR);case 21:return t.abrupt("return",{inputType:i.d.Burn,outputType:i.f.Release,selector:"".concat(e,"/from").concat(n.chain)});case 24:throw Object(i.L)(new Error("Burning and minting is not supported yet."),i.i.NOT_IMPLEMENTED);case 25:case"end":return t.stop()}}),t)})))}},172:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(1),a=n.n(r),i=n(18),s=n.n(i),c=n(3),o=(n(124),function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))}),u=1e4,p=function(t,e,n,r){return o(void 0,void 0,void 0,a.a.mark((function i(){var o,p,d,h,f,l,b,y,m,v,g,x,O;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.queryBlockState(5);case 2:if((o=a.sent)[e]){a.next=5;break}throw Object(c.L)(new Error("No fee details found for ".concat(e)),c.i.UNKNOWN_ERROR);case 5:return p=o[e],d=p.gasLimit,h=p.gasCap,f=p.minimumAmount,l=p.dustAmount,b=d.times(h),y=o[e].fees.chains.filter((function(t){return t.chain===r.chain}))[0],a.next=10,n.isLockAsset(e);case 10:return m=a.sent,v=y&&y.mintFee?y.mintFee.toNumber():15,g=y&&y.burnFee?y.burnFee.toNumber():15,x=function(t){return m?new s.a(t).minus(b).times(u-v).dividedBy(u).decimalPlaces(0):new s.a(t).times(u-g).dividedBy(u).minus(b).decimalPlaces(0)},O=f.plus(b).plus(l.plus(1)).times((m?v:g)+u).dividedBy(u).decimalPlaces(0),a.abrupt("return",{lock:b,release:b,mint:v,burn:g,minimumAmount:O,estimateOutput:x});case 16:case"end":return a.stop()}}),i)})))}},174:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return h}));var r,a=n(1),i=n.n(a),s=n(5),c=n(14),o=n(11),u=n(12),p=n(3);!function(t){t.SubmitGateway="ren_submitGateway",t.SubmitTx="ren_submitTx",t.QueryTx="ren_queryTx",t.QueryTxs="ren_queryTxs",t.QueryBlock="ren_queryBlock",t.QueryBlocks="ren_queryBlocks",t.QueryConfig="ren_queryConfig",t.QueryState="ren_queryState",t.QueryBlockState="ren_queryBlockState"}(r||(r={}));p.h.U256,p.h.Str,p.h.Bytes32;var d,h={struct:[{txid:p.h.Bytes},{txindex:p.h.U32},{amount:p.h.U256},{payload:p.h.Bytes},{phash:p.h.Bytes32},{to:p.h.Str},{nonce:p.h.Bytes32},{nhash:p.h.Bytes32},{gpubkey:p.h.Bytes},{ghash:p.h.Bytes32}]},f={struct:[{payload:p.h.Bytes},{phash:p.h.Bytes32},{to:p.h.Str},{nonce:p.h.Bytes32},{nhash:p.h.Bytes32},{gpubkey:p.h.Bytes},{ghash:p.h.Bytes32}]},l=n(27),b=n.n(l),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},m=function(t,e){return{id:1,jsonrpc:"2.0",method:t,params:e}},v=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.F;if(Object(s.a)(this,t),this.sendMessage=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:120*p.k;return y(n,void 0,void 0,i.a.mark((function n(){var s,c,o=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=m(t,e),this.logger.getLevel&&this.logger.getLevel()<=p.e.Debug&&this.logger.debug("[request]",JSON.stringify(s,null,"    ")),n.prev=2,n.next=5,Object(p.J)((function(){return y(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.post(this.nodeURL,s,{timeout:a}));case 1:case"end":return t.stop()}}),t,this)})))}),r,1*p.k);case 5:if(200===(c=n.sent).status){n.next=8;break}throw this.responseError("Unexpected status code ".concat(String(c.status)," returned from node."),c);case 8:if(!c.data.error){n.next=10;break}throw new Error(c.data.error);case 10:if(void 0!==c.data.result){n.next=12;break}throw new Error("Empty result returned from node.");case 12:return this.logger.getLevel&&this.logger.getLevel()<=p.e.Debug&&this.logger.debug("[response]",JSON.stringify(c.data.result,null,"    ")),n.abrupt("return",c.data.result);case 16:throw n.prev=16,n.t0=n.catch(2),new Error(Object(p.o)(n.t0));case 19:case"end":return n.stop()}}),n,this,[[2,16]])})))},this.responseError=function(t,e){var n=new Error(t);return n.response=e,n},this.logger=r,"string"!==typeof e)throw new Error("Invalid node URL ".concat(String(e)));if(-1===e.indexOf("://"))throw new Error("Invalid node URL without protocol: ".concat(e,"."));this.nodeURL=e},g=n(16),x=(d={},Object(g.a)(d,p.j.Mainnet,"https://lightnode-mainnet.herokuapp.com"),Object(g.a)(d,p.j.Testnet,"https://lightnode-testnet.herokuapp.com"),Object(g.a)(d,p.j.Devnet,"https://lightnode-devnet.herokuapp.com/"),d),O=n(149),w=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},j=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.F;return Object(s.a)(this,n),(a=e.call(this,x[t]||t)).queryBlock=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessage(r.QueryBlock,{blockHeight:t},e);case 2:return n.abrupt("return",n.sent.block);case 3:case"end":return n.stop()}}),n,this)})))},a.queryBlocks=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryBlocks,{blockHeight:t,n:e},n);case 2:return a.abrupt("return",a.sent.blocks);case 3:case"end":return a.stop()}}),a,this)})))},a.submitGateway=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.sendMessage(r.SubmitGateway,{gateway:t,tx:e},n));case 1:case"end":return a.stop()}}),a,this)})))},a.submitTx=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.sendMessage(r.SubmitTx,{tx:t},e));case 1:case"end":return n.stop()}}),n,this)})))},a.queryTxs=function(t,e,n,s,o){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryTxs,{tags:t,page:(e||0).toString(),pageSize:(n||0).toString(),txStatus:s},o);case 2:return a.abrupt("return",a.sent.txs.map((function(t){return Object(O.a)(t)})));case 3:case"end":return a.stop()}}),a,this)})))},a.queryConfig=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendMessage(r.QueryConfig,{},t));case 1:case"end":return e.stop()}}),e,this)})))},a.queryBlockState=Object(p.D)((function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendMessage(r.QueryBlockState,{},t);case 2:return n=e.sent,a=n.state,e.abrupt("return",Object(p.K)(a));case 5:case"end":return e.stop()}}),e,this)})))})),a.submitGatewayDetails=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function r(){var a,s,c,o,u,d,h,l,b,y;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.selector,s=e.gHash,c=e.gPubKey,o=e.nHash,u=e.nonce,d=e.payload,h=e.pHash,l=e.to,Object(p.m)("Buffer",{gHash:s,gPubKey:c,nHash:o,nonce:u,payload:d,pHash:h}),Object(p.m)("string",{to:l}),b={t:f,v:{ghash:Object(p.I)(s),gpubkey:Object(p.I)(c),nhash:Object(p.I)(o),nonce:Object(p.I)(u),payload:Object(p.I)(d),phash:Object(p.I)(h),to:l}},y={selector:a,version:"1",in:b},r.next=7,this.submitGateway(t,y,n);case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),r,this)})))},a.queryTx=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(p.m)("string",{txHash:t}),n.prev=1,n.next=4,this.sendMessage(r.QueryTx,{txHash:t},e);case 4:a=n.sent,n.next=18;break;case 7:if(n.prev=7,n.t0=n.catch(1),!n.t0.message.match(/^invalid params: /)){n.next=13;break}throw Object(p.L)(n.t0,p.i.PARAMETER_ERROR);case 13:if(!n.t0.message.match(/not found$/)){n.next=17;break}throw Object(p.L)(n.t0,p.i.TRANSACTION_NOT_FOUND);case 17:throw Object(p.L)(n.t0,p.i.UNKNOWN_ERROR);case 18:return n.prev=18,n.abrupt("return",{tx:Object(O.a)(a.tx),txStatus:a.txStatus});case 22:throw n.prev=22,n.t1=n.catch(18),Object(p.L)(n.t1,p.i.INTERNAL_ERROR);case 25:case"end":return n.stop()}}),n,this,[[1,7],[18,22]])})))},a.selectShard=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.queryBlockState(5);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Object(p.L)(new Error("Error fetching RenVM shards: ".concat(String(e.t0.message))),p.i.NETWORK_ERROR);case 9:if(n[t]){e.next=11;break}throw new Error("No RenVM block state found for ".concat(t,"."));case 11:if((r=n[t].shards[0].pubKey)&&0!==r.length){e.next=14;break}throw new Error("Unable to fetch RenVM public key for ".concat(t,"."));case 14:return Object(p.m)("Buffer",{pubKey:r}),e.abrupt("return",{gPubKey:Object(p.I)(r)});case 16:case"end":return e.stop()}}),e,this,[[0,6]])})))},a.getNetwork=function(){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryConfig();case 2:return t.abrupt("return",t.sent.network);case 3:case"end":return t.stop()}}),t,this)})))},a.getConfirmationTarget=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendMessage(r.QueryConfig,{});case 2:return n=e.sent,e.abrupt("return",parseInt(n.confirmations[t],10));case 4:case"end":return e.stop()}}),e,this)})))},a.logger=o,a}return n}(v)},177:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(59),a=n(1),i=n.n(a),s=n(5),c=n(27),o=n.n(c),u=n(18),p=n.n(u),d=n(152),h=n.n(d),f=n(3),l=n(17),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},y=function t(e){var n=this;Object(s.a)(this,t),this.fetchHeight=function(){return b(n,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(this.url,"/sync"),{timeout:l.b});case 2:return t.abrupt("return",t.sent.data.height.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b(n,void 0,void 0,i.a.mark((function n(){var r,a,s,c,u=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/addr/").concat(t,"/utxo"),n.next=3,o.a.get(r,{httpsAgent:new h.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:return a=n.sent,s="string"===typeof a.data?JSON.parse(a.data):a.data,n.t0=p.a,n.next=8,this.fetchHeight();case 8:return n.t1=n.sent,c=new n.t0(n.t1),n.next=12,Promise.all(s.filter((function(t){return 0===e||t.confirmations>=e})).map((function(t){return{txid:t.txid,txindex:t.vout.toString(),amount:Object(f.y)(t.satoshis)?t.satoshis.toString():Object(f.y)(t.amount)?Object(l.e)(t.amount,8).toFixed():void 0,height:t.confirmations&&t.confirmations>0?c.minus(t.confirmations).plus(1).toFixed():null}})).map((function(t){return Object(f.y)(t.amount)?t:u.fetchUTXO(t.txid,t.txindex)})));case 12:return n.abrupt("return",n.sent.sort(l.f));case 13:case"end":return n.stop()}}),n,this)})))},this.fetchTXs=function(t){return b(n,void 0,void 0,i.a.mark((function e(){var n,a,s,c,u,p,d,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/txs/?address=").concat(t),e.next=3,o.a.get(n,{httpsAgent:new h.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:a=e.sent,s="string"===typeof a.data?JSON.parse(a.data):a.data,c=[],u=Object(r.a)(s.txs);try{for(u.s();!(p=u.n()).done;)for(d=p.value,f=0;f<d.vout.length;f++)(b=d.vout[f]).scriptPubKey.addresses.indexOf(t)>=0&&c.push({txid:d.txid,txindex:f.toString(),amount:Object(l.e)(parseFloat(b.value),8).toFixed(),height:d.blockheight&&d.blockheight>0?d.blockheight.toString():null})}catch(i){u.e(i)}finally{u.f()}return e.abrupt("return",c.sort(l.f));case 9:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return b(n,void 0,void 0,i.a.mark((function n(){var r,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,o.a.get(r,{timeout:l.b});case 3:return a=n.sent.data,n.abrupt("return",Object(l.c)({txid:t,amount:a.vout[parseInt(e,10)].value.toString(),txindex:e,height:a.blockheight&&a.blockheight>0?a.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return b(n,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,o.a.post(n,{rawtx:t},{timeout:l.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},199:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.OP_FALSE=0]="OP_FALSE",t[t.OP_0=0]="OP_0",t[t.OP_PUSHDATA1=76]="OP_PUSHDATA1",t[t.OP_PUSHDATA2=77]="OP_PUSHDATA2",t[t.OP_PUSHDATA4=78]="OP_PUSHDATA4",t[t.OP_1NEGATE=79]="OP_1NEGATE",t[t.OP_RESERVED=80]="OP_RESERVED",t[t.OP_TRUE=81]="OP_TRUE",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.OP_NOP=97]="OP_NOP",t[t.OP_VER=98]="OP_VER",t[t.OP_IF=99]="OP_IF",t[t.OP_NOTIF=100]="OP_NOTIF",t[t.OP_VERIF=101]="OP_VERIF",t[t.OP_VERNOTIF=102]="OP_VERNOTIF",t[t.OP_ELSE=103]="OP_ELSE",t[t.OP_ENDIF=104]="OP_ENDIF",t[t.OP_VERIFY=105]="OP_VERIFY",t[t.OP_RETURN=106]="OP_RETURN",t[t.OP_TOALTSTACK=107]="OP_TOALTSTACK",t[t.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",t[t.OP_2DROP=109]="OP_2DROP",t[t.OP_2DUP=110]="OP_2DUP",t[t.OP_3DUP=111]="OP_3DUP",t[t.OP_2OVER=112]="OP_2OVER",t[t.OP_2ROT=113]="OP_2ROT",t[t.OP_2SWAP=114]="OP_2SWAP",t[t.OP_IFDUP=115]="OP_IFDUP",t[t.OP_DEPTH=116]="OP_DEPTH",t[t.OP_DROP=117]="OP_DROP",t[t.OP_DUP=118]="OP_DUP",t[t.OP_NIP=119]="OP_NIP",t[t.OP_OVER=120]="OP_OVER",t[t.OP_PICK=121]="OP_PICK",t[t.OP_ROLL=122]="OP_ROLL",t[t.OP_ROT=123]="OP_ROT",t[t.OP_SWAP=124]="OP_SWAP",t[t.OP_TUCK=125]="OP_TUCK",t[t.OP_CAT=126]="OP_CAT",t[t.OP_SUBSTR=127]="OP_SUBSTR",t[t.OP_LEFT=128]="OP_LEFT",t[t.OP_RIGHT=129]="OP_RIGHT",t[t.OP_SIZE=130]="OP_SIZE",t[t.OP_INVERT=131]="OP_INVERT",t[t.OP_AND=132]="OP_AND",t[t.OP_OR=133]="OP_OR",t[t.OP_XOR=134]="OP_XOR",t[t.OP_EQUAL=135]="OP_EQUAL",t[t.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",t[t.OP_RESERVED1=137]="OP_RESERVED1",t[t.OP_RESERVED2=138]="OP_RESERVED2",t[t.OP_1ADD=139]="OP_1ADD",t[t.OP_1SUB=140]="OP_1SUB",t[t.OP_2MUL=141]="OP_2MUL",t[t.OP_2DIV=142]="OP_2DIV",t[t.OP_NEGATE=143]="OP_NEGATE",t[t.OP_ABS=144]="OP_ABS",t[t.OP_NOT=145]="OP_NOT",t[t.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",t[t.OP_ADD=147]="OP_ADD",t[t.OP_SUB=148]="OP_SUB",t[t.OP_MUL=149]="OP_MUL",t[t.OP_DIV=150]="OP_DIV",t[t.OP_MOD=151]="OP_MOD",t[t.OP_LSHIFT=152]="OP_LSHIFT",t[t.OP_RSHIFT=153]="OP_RSHIFT",t[t.OP_BOOLAND=154]="OP_BOOLAND",t[t.OP_BOOLOR=155]="OP_BOOLOR",t[t.OP_NUMEQUAL=156]="OP_NUMEQUAL",t[t.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",t[t.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",t[t.OP_LESSTHAN=159]="OP_LESSTHAN",t[t.OP_GREATERTHAN=160]="OP_GREATERTHAN",t[t.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",t[t.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",t[t.OP_MIN=163]="OP_MIN",t[t.OP_MAX=164]="OP_MAX",t[t.OP_WITHIN=165]="OP_WITHIN",t[t.OP_RIPEMD160=166]="OP_RIPEMD160",t[t.OP_SHA1=167]="OP_SHA1",t[t.OP_SHA256=168]="OP_SHA256",t[t.OP_HASH160=169]="OP_HASH160",t[t.OP_HASH256=170]="OP_HASH256",t[t.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",t[t.OP_CHECKSIG=172]="OP_CHECKSIG",t[t.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",t[t.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",t[t.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",t[t.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",t[t.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",t[t.OP_NOP1=176]="OP_NOP1",t[t.OP_NOP2=177]="OP_NOP2",t[t.OP_NOP3=178]="OP_NOP3",t[t.OP_NOP4=179]="OP_NOP4",t[t.OP_NOP5=180]="OP_NOP5",t[t.OP_NOP6=181]="OP_NOP6",t[t.OP_NOP7=182]="OP_NOP7",t[t.OP_NOP8=183]="OP_NOP8",t[t.OP_NOP9=184]="OP_NOP9",t[t.OP_NOP10=185]="OP_NOP10",t[t.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",t[t.OP_PUBKEY=254]="OP_PUBKEY",t[t.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"}(r||(r={}))},200:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(59),a=n(1),i=n.n(a),s=n(5),c=n(27),o=n.n(c),u=n(17),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},d=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.testnet,c=void 0!==a&&a,d=n.apiKey,h=void 0===d?void 0:d;Object(s.a)(this,t),this.getAPIUrl=function(t){return"https://blockstream.info/".concat(e.testnet?"testnet/":"","api").concat(t).concat(e.apiKey?"?key=".concat(e.apiKey):"")},this.fetchHeight=function(){return p(e,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(this.getAPIUrl("/blocks/tip/height"),{timeout:u.b});case 2:return t.abrupt("return",t.sent.data.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return p(e,void 0,void 0,i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/tx/".concat(t)),{timeout:u.b});case 2:return r=e.sent.data,e.abrupt("return",{txid:t,amount:r.vout[parseInt(n,10)].value.toString(),txindex:n,height:r.status.confirmed?r.status.block_height.toString():null});case 4:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/address/".concat(t,"/utxo")),{timeout:u.b});case 2:return n=e.sent,e.abrupt("return",n.data.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.vout.toString(),height:t.status.confirmed?t.status.block_height.toString():null}})).sort(u.f));case 4:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n,a,s,c,p,d,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/address/".concat(t,"/txs")),{timeout:u.b});case 2:n=e.sent,a=[],s=Object(r.a)(n.data);try{for(s.s();!(c=s.n()).done;)for(p=c.value,d=0;d<p.vout.length;d++)(h=p.vout[d]).scriptpubkey_address===t&&a.push({txid:p.txid,amount:h.value.toString(),txindex:d.toString(),height:p.status.confirmed?p.status.block_height.toString():null})}catch(i){s.e(i)}finally{s.f()}return e.abrupt("return",a.sort(u.f));case 7:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post(this.getAPIUrl("/tx"),t,{timeout:u.b});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})))},this.testnet=c,this.apiKey=h}},201:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(59),a=n(1),i=n.n(a),s=n(5),c=n(27),o=n.n(c),u=n(17),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},d=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.testnet,c=void 0!==a&&a;Object(s.a)(this,t),this.endpoint=function(){return e.testnet?"https://trest.bitcoin.com/v2/":"https://rest.bitcoin.com/v2/"},this.endpointV2=function(){return e.testnet?"https://explorer-tbch.api.bitcoin.com/tbch/v1":"https://explorer.api.bitcoin.com/bch/v1"},this.fetchHeight=function(){return p(e,void 0,void 0,i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpointV2(),"/blockchain/getBlockCount"),t.next=3,o.a.get(e,{timeout:u.b});case 3:return n=t.sent,t.abrupt("return",n.data.toString());case 5:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return p(e,void 0,void 0,i.a.mark((function e(){var r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.endpointV2(),"/tx/").concat(t),e.next=3,o.a.get(r,{timeout:u.b});case 3:return a=e.sent,s=a.data,e.abrupt("return",Object(u.c)({txid:t,amount:s.vout[parseInt(n,10)].value.toString(),txindex:n,height:s.blockheight&&s.blockheight>0?s.blockheight.toString():null},8));case 6:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpointV2(),"/addr/").concat(t,"/utxo"),e.next=3,o.a.get(n,{timeout:u.b});case 3:return r=e.sent,e.abrupt("return",Object(u.d)(r.data.map((function(t){return{txid:t.txid,amount:t.amount.toString(),txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})),8).sort(u.f));case 5:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n,a,s,c,p,d,h,f,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/address/transactions/").concat(t),e.next=3,o.a.get(n,{timeout:u.b});case 3:a=e.sent,s=a.data,c=[],p=Object(r.a)(s.txs);try{for(p.s();!(d=p.n()).done;)for(h=d.value,f=0;f<h.vout.length;f++)(l=h.vout[f]).scriptPubKey.addresses.indexOf(t)>=0&&c.push({txid:h.txid,amount:Object(u.e)(parseFloat(l.value),8).toFixed(),txindex:f.toString(),height:h.blockheight&&h.blockheight>0?h.blockheight.toString():null})}catch(i){p.e(i)}finally{p.f()}return e.abrupt("return",c.sort(u.f));case 9:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return p(e,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/rawtransactions/sendRawTransaction"),e.next=3,o.a.post(n,{hexes:[t]},{timeout:u.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data[0]);case 7:case"end":return e.stop()}}),e,this)})))},this.testnet=c}},210:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(18),a=n.n(r),i=n(39),s=n(50),c=n(94),o=function(e){Object(i.b)("Buffer",{signature:e});var n=e.slice(0,32),r=e.slice(32,64),o=e.slice(64,65)[0],u=new a.a(Object(c.a)(r),16);o=(o||0)%27+27;var p=new a.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);return u.gt(p.div(2))&&(u=p.minus(u),o=27===o?28:27),t.concat([n,Object(s.g)(u,32),t.from([o])])}}).call(this,n(31).Buffer)},211:function(t,e,n){"use strict";(function(t){n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return l}));var r=n(132),a=n.n(r),i=n(163),s=n(39),c=n(50),o=n(131),u=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(s.b)("Buffer[]",{msg:n}),t.from(i.keccak256.buffer(t.concat(n)))},p=u,d=function(e){Object(s.b)("string",{selector:e});var n=t.from(e.replace(/\/.*To/,"/to"));return u(n)},h=function(t,e,n,r){return Object(s.b)("Buffer",{pHash:t,nonce:r,sHash:e,to:n}),u(t,e,n,r)},f=function(t,e,n){return Object(s.b)("Buffer",{nonce:t,txid:e}),Object(s.b)("string",{txindex:n}),u(t,e,Object(c.g)(n,4))},l=function(e,n,r){return Object(s.b)("string",{version:e,selector:n}),function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(s.b)("Buffer[]",{msg:n}),a()("sha256").update(t.concat(n)).digest()}(Object(o.a)(e),Object(o.a)(n),Object(o.b)(r))}}).call(this,n(31).Buffer)},226:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r,a=n(5),i=n(11),s=n(12),c=n(16),o=n(3),u=n(85),p=n(200),d=n(82),h=n(78),f=n(37),l={label:"Bitcoin",selector:"Bitcoin",nativeAsset:{name:"Bitcoin",symbol:"BTC",decimals:8},explorer:Object(f.b)("https://live.blockcypher.com/btc/"),p2shPrefix:t.from([5]),providers:[new p.a,new u.a,{api:new d.a,priority:15}]},b={label:"Bitcoin Testnet",selector:"Bitcoin",nativeAsset:{name:"Testnet Bitcoin",symbol:"BTC",decimals:8},isTestnet:!0,explorer:Object(f.b)("https://live.blockcypher.com/btc-testnet/"),p2shPrefix:t.from([196]),providers:[new p.a({testnet:!0})]},y=(r={},Object(c.a)(r,o.j.Mainnet,l),Object(c.a)(r,o.j.Testnet,b),Object(c.a)(r,o.j.Devnet,b),r),m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,Object(f.d)(n.configMap,t))).configMap=y,r.assets=n.assets,r}return n}(h.a);m.chain="Bitcoin",m.configMap=y,m.assets={BTC:"BTC"}}).call(this,n(31).Buffer)},235:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(154),o=n(128),u=n.n(o),p=n(3),d=n(201),h=n(85),f=n(78),l=n(37),b={label:"Bitcoin Cash",selector:"BitcoinCash",nativeAsset:{name:"Bitcoin Cash",symbol:"BCH",decimals:8},explorer:Object(l.b)("https://explorer.bitcoin.com/bch/"),p2shPrefix:t.from([5]),providers:[new d.a,new h.a(h.b.BITCOIN_CASH)]},y={label:"Bitcoin Cash Testnet",selector:"BitcoinCash",nativeAsset:{name:"Testnet Bitcoin Cash",symbol:"BCH",decimals:8},isTestnet:!0,explorer:Object(l.b)("https://explorer.bitcoin.com/tbch/"),p2shPrefix:t.from([196]),providers:[new d.a({testnet:!0})]},m=(e={},Object(s.a)(e,p.j.Mainnet,b),Object(s.a)(e,p.j.Testnet,y),Object(s.a)(e,p.j.Devnet,y),e),v=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(l.d)(n.configMap,t))).configMap=m,a.assets=n.assets,a.validateAddress=function(t){return Object(c.isValidAddress)(t)&&a.network.isTestnet?Object(c.isTestnetAddress)(t):Object(c.isMainnetAddress)(t)},a.encodeAddress=function(t){return Object(c.toCashAddress)(u.a.encode(t))},a}return n}(f.a);v.chain="BitcoinCash",v.configMap=m,v.assets={BCH:"BCH"}}).call(this,n(31).Buffer)},236:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(113),u=n(78),p=n(37),d={label:"DigiByte",selector:"DigiByte",nativeAsset:{name:"DigiByte",symbol:"DGB",decimals:8},explorer:Object(p.b)("https://digiexplorer.info/"),p2shPrefix:t.from([63]),providers:[new o.a("https://multichain-web-proxy.herokuapp.com/digibyte-mainnet"),new o.a("https://digiexplorer.info/api"),new o.a("https://insight.digibyte.host/api")]},h={label:"DigiByte Testnet",selector:"DigiByte",nativeAsset:{name:"Testnet DigiByte",symbol:"DGB",decimals:8},isTestnet:!0,explorer:Object(p.b)("`https://testnetexplorer.digibyteservers.io/"),p2shPrefix:t.from([140]),providers:[new o.a("https://testnetexplorer.digibyteservers.io/api")]},f=(e={},Object(s.a)(e,c.j.Mainnet,d),Object(s.a)(e,c.j.Testnet,h),Object(s.a)(e,c.j.Devnet,h),e),l=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(p.d)(n.configMap,t))).configMap=f,a.assets=n.assets,a}return n}(u.a);l.chain="DigiByte",l.configMap=f,l.assets={DGB:"DGB"}}).call(this,n(31).Buffer)},240:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(85),u=n(82),p=n(78),d=n(37),h={label:"Dogecoin",selector:"Dogecoin",nativeAsset:{name:"Dogecoin",symbol:"DOGE",decimals:8},explorer:Object(d.a)("doge","DOGE"),p2shPrefix:t.from([22]),providers:[new o.a(o.b.DOGECOIN),{api:new u.a(u.b.DOGE),priority:15}]},f={label:"Dogecoin Testnet",selector:"Dogecoin",nativeAsset:{name:"Testnet Dogecoin",symbol:"DOGE",decimals:8},isTestnet:!0,explorer:Object(d.a)("testnet/doge","DOGETEST"),p2shPrefix:t.from([196]),providers:[{api:new u.a(u.b.DOGETEST),priority:15}]},l=(e={},Object(s.a)(e,c.j.Mainnet,h),Object(s.a)(e,c.j.Testnet,f),Object(s.a)(e,c.j.Devnet,f),e),b=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(d.d)(n.configMap,t))).configMap=l,a.assets=n.assets,a}return n}(p.a);b.chain="Dogecoin",b.configMap=l,b.assets={DOGE:"DOGE"}}).call(this,n(31).Buffer)},241:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(113),u=n(85),p=n(177),d=n(82),h=n(78),f=n(37),l={label:"Zcash",selector:"Zcash",nativeAsset:{name:"Zcash",symbol:"ZEC",decimals:8},explorer:Object(f.a)("zcash","ZEC"),p2shPrefix:t.from([28,189]),providers:[new o.a("https://zecblockexplorer.com/api/"),new u.a(u.b.ZCASH),{api:new d.a(d.b.ZEC),priority:15},{api:new p.a("https://explorer.z.cash/api/"),priority:20},{api:new p.a("https://zechain.net/api/v1/"),priority:20}]},b={label:"Zcash Testnet",selector:"Zcash",nativeAsset:{name:"Testnet Zcash",symbol:"ZEC",decimals:8},isTestnet:!0,explorer:Object(f.a)("testnet/zcash","ZECTEST"),p2shPrefix:t.from([28,186]),providers:[new p.a("https://explorer.testnet.z.cash/api/"),{api:new d.a(d.b.ZECTEST),priority:15}]},y=(e={},Object(s.a)(e,c.j.Mainnet,l),Object(s.a)(e,c.j.Testnet,b),Object(s.a)(e,c.j.Devnet,b),e),m=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(f.d)(n.configMap,t))).configMap=y,a.assets=n.assets,a}return n}(h.a);m.chain="Zcash",m.configMap=y,m.assets={ZEC:"ZEC"}}).call(this,n(31).Buffer)},260:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(116),a=function(t,e){return(new r.a).addData(e).addOp(r.a.OP.OP_DROP).addOp(r.a.OP.OP_DUP).addOp(r.a.OP.OP_HASH160).addData(t).addOp(r.a.OP.OP_EQUALVERIFY).addOp(r.a.OP.OP_CHECKSIG)},i=function(t,e,n){return a(t,e).toAddress(n)}},263:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"contract IGatewayRegistry","name":"_registry","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogTransferred","type":"event"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"to","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"release","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"}],"name":"transferWithLog","outputs":[],"stateMutability":"payable","type":"function"}]')},264:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},265:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogLockGatewayDeleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"}],"name":"LogLockGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogMintGatewayDeleted","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"}],"name":"LogMintGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"CAN_ADD_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CAN_UPDATE_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"chainName_","type":"string"},{"internalType":"uint256","name":"chainId_","type":"uint256"},{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"adminAddress_","type":"address"}],"name":"__GatewayRegistry_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"}],"name":"__RenAssetFactory_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address","name":"lockAsset_","type":"address"},{"internalType":"address","name":"lockGateway_","type":"address"}],"name":"addLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address","name":"renAsset_","type":"address"},{"internalType":"address","name":"mintGateway_","type":"address"}],"name":"addMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"chainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"chainName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address","name":"lockToken","type":"address"},{"internalType":"string","name":"version_","type":"string"}],"name":"deployLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address","name":"renAsset_","type":"address"},{"internalType":"string","name":"version_","type":"string"}],"name":"deployMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"string","name":"erc20Name_","type":"string"},{"internalType":"string","name":"erc20Symbol_","type":"string"},{"internalType":"uint8","name":"erc20Decimals_","type":"uint8"},{"internalType":"string","name":"version_","type":"string"}],"name":"deployMintGatewayAndRenAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"}],"name":"getGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getLockAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getLockGatewayBySymbol","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"}],"name":"getLockGatewayByToken","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from_","type":"uint256"},{"internalType":"uint256","name":"count_","type":"uint256"}],"name":"getLockGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getMintGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"}],"name":"getMintGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from_","type":"uint256"},{"internalType":"uint256","name":"count_","type":"uint256"}],"name":"getMintGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getRenAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol_","type":"string"}],"name":"getTokenBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"lockGatewayProxyBeacon","outputs":[{"internalType":"contract LockGatewayProxyBeaconV1","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"mintGatewayProxyBeacon","outputs":[{"internalType":"contract MintGatewayProxyBeaconV1","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"name":"removeLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol_","type":"string"}],"name":"removeMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renAssetProxyBeacon","outputs":[{"internalType":"contract RenAssetProxyBeaconV1","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"signatureVerifier","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nextSignatureVerifier_","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},266:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_asset","type":"string"},{"indexed":false,"internalType":"bytes32","name":"_selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_chain","type":"string"},{"indexed":false,"internalType":"bytes32","name":"_selectorHash","type":"bytes32"}],"name":"LogChainUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"lockNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogLockToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"sigHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogRelease","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract ISignatureVerifier","name":"_newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_newToken","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"string","name":"chain_","type":"string"},{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"chain_","type":"string"},{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token","type":"address"}],"name":"__LockGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"_status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"asset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"chain","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress_","type":"string"},{"internalType":"string","name":"recipientChain_","type":"string"},{"internalType":"bytes","name":"recipientPayload_","type":"bytes"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"lock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nextN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"previousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash_","type":"bytes32"},{"internalType":"uint256","name":"amount_","type":"uint256"},{"internalType":"bytes32","name":"nHash_","type":"bytes32"},{"internalType":"bytes","name":"sig_","type":"bytes"}],"name":"release","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"selectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"signatureVerifier","outputs":[{"internalType":"contract ISignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash_","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset_","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextChain_","type":"string"}],"name":"updateChain","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nextPreviousGateway_","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract ISignatureVerifier","name":"nextSignatureVerifier_","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nextToken_","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},267:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_asset","type":"string"},{"indexed":false,"internalType":"bytes32","name":"_selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"to","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"bytes","name":"indexedTo","type":"bytes"}],"name":"LogBurn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogBurnToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"_chain","type":"string"},{"indexed":false,"internalType":"bytes32","name":"_selectorHash","type":"bytes32"}],"name":"LogChainUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"sigHash","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogMint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"contract ISignatureVerifier","name":"_newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"_newToken","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"string","name":"chain_","type":"string"},{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"chain_","type":"string"},{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token","type":"address"}],"name":"__MintGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"recipient_","type":"bytes"},{"internalType":"uint256","name":"amount_","type":"uint256"},{"internalType":"address","name":"caller_","type":"address"}],"name":"_burnFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash_","type":"bytes32"},{"internalType":"uint256","name":"amount_","type":"uint256"},{"internalType":"bytes32","name":"nHash_","type":"bytes32"},{"internalType":"bytes","name":"sig_","type":"bytes"},{"internalType":"address","name":"caller_","type":"address"}],"name":"_mintFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"_status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"asset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"recipient_","type":"bytes"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipient_","type":"string"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress_","type":"string"},{"internalType":"string","name":"recipientChain_","type":"string"},{"internalType":"bytes","name":"recipientPayload_","type":"bytes"},{"internalType":"uint256","name":"amount_","type":"uint256"}],"name":"burnWithPayload","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"chain","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash_","type":"bytes32"},{"internalType":"uint256","name":"amount_","type":"uint256"},{"internalType":"bytes32","name":"nHash_","type":"bytes32"},{"internalType":"bytes","name":"sig_","type":"bytes"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"nextN","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"previousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"selectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"signatureVerifier","outputs":[{"internalType":"contract ISignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash_","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nextTokenOwner_","type":"address"}],"name":"transferTokenOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset_","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextChain_","type":"string"}],"name":"updateChain","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nextPreviousGateway_","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"contract ISignatureVerifier","name":"nextSignatureVerifier_","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"nextToken_","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},273:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,a=n(43),i=n(3),s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},c=/tuple\(([a-zA-Z0-9]+(,[a-zA-Z0-9]+)*)\)/,o=function(t){t.value;var e=s(t,["value"]);try{var n=e&&e.type&&c.exec(e.type);if(n&&!t.components){for(var r=n[1].split(","),a=[],i=0;i<r.length;i++)a[i]={name:String(i),type:r[i]};return Object.assign(Object.assign({},e),{components:a})}}catch(o){console.error(o)}return e},u=function(t,e){return Object(i.m)("string",{methodName:t}),(e||[]).map((function(t){var e=t.type,n=t.name;return Object(i.m)("string",{type:e,name:n})})),[{name:t,type:"function",stateMutability:"payable",inputs:Object(a.a)((e||[]).map(o).map((function(t){return Object.assign({type:t.type,name:t.name},t.components?{components:t.components}:void 0)}))),outputs:[]}]};!function(t){t.OverrideArrayLengthError="Contract call override must be same length as contract calls array."}(r||(r={}))},278:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(11),a=n(12),i=n(1),s=n.n(i),c=n(5),o=n(174),u=n(3),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},d="RenVM",h=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a,i){return Object(c.a)(this,n),e.call(this,t,r,{t:o.b,v:{txid:Object(u.I)(a.txid),txindex:a.txindex.toFixed(),amount:a.amount.toFixed(),payload:Object(u.I)(a.payload),phash:Object(u.I)(a.phash),to:a.to,nonce:Object(u.I)(a.nonce),nhash:Object(u.I)(a.nhash),gpubkey:Object(u.I)(a.gpubkey),ghash:Object(u.I)(a.ghash)}},i)}return n}((function t(e,n,r,a){var i=this;Object(c.a)(this,t),this.chain="RenVM",this.version="1",this.updateStatus=function(t){return i.status=Object.assign(Object.assign({},i.status),t),i.eventEmitter.emit("status",i.status),i.status},this.submit=function(){var t=Object(u.E)(i.eventEmitter);return p(i,void 0,void 0,s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={hash:this._hash,selector:this.selector,version:this.version,in:this.params},t.prev=1,t.next=4,this.provider.submitTx(e);case 4:case 11:t.next=17;break;case 6:return t.prev=6,t.t0=t.catch(1),t.prev=8,t.next=11,this.provider.queryTx(this._hash);case 13:return t.prev=13,t.t1=t.catch(8),t.next=17,this.provider.submitTx(e,2);case 17:return t.abrupt("return",this.updateStatus({status:u.a.Confirming}));case 18:case"end":return t.stop()}}),t,this,[[1,6],[8,13]])}))).then(t.resolve).catch(t.reject),t},this.wait=function(){var t=Object(u.E)(i.eventEmitter);return p(i,void 0,void 0,s.a.mark((function t(){var e,n,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=void 0;case 1:return t.prev=2,t.next=5,this.provider.queryTx(this._hash,1);case 5:if(!(e=t.sent)||e.txStatus!==u.l.TxStatusDone){t.next=8;break}return t.abrupt("break",18);case 8:if(e.txStatus!==n)try{n=e.txStatus,this.updateStatus({response:e,status:u.a.Done})}catch(i){}t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0 instanceof Error&&/(not found)|(not available)/.exec(String((t.t0||{}).message))||console.error(t.t0);case 14:return t.next=16,Object(u.G)(15*u.k);case 16:t.next=1;break;case 18:if(!((r=e).out&&r.out.revert&&r.out.revert.length>0)){t.next=23;break}throw a=r.out.revert,this.updateStatus({status:u.a.Reverted,revertReason:a}),new Error("RenVM transaction reverted: ".concat(a));case 23:if(this.signatureCallback)try{this.signatureCallback(e)}catch(i){}return t.abrupt("return",this.updateStatus({response:e,status:u.a.Done}));case 25:case"end":return t.stop()}}),t,this,[[2,11]])}))).then(t.resolve).catch(t.reject),t},this.provider=e,this.selector=n,this.params=r,this.eventEmitter=Object(u.n)(),this.signatureCallback=a,this._hash=Object(u.I)(Object(u.w)(this.version,this.selector,this.params)),this.status={chain:d,status:u.a.Ready,target:1,transaction:{chain:d,txid:this._hash,txidFormatted:this._hash,txindex:"0"}}}))},289:function(t,e,n){},298:function(t,e){},3:function(t,e,n){"use strict";n.d(e,"m",(function(){return i.b})),n.d(e,"k",(function(){return s.b})),n.d(e,"G",(function(){return s.f})),n.d(e,"J",(function(){return s.h})),n.d(e,"y",(function(){return s.d})),n.d(e,"H",(function(){return s.g})),n.d(e,"g",(function(){return c.a})),n.d(e,"r",(function(){return c.c})),n.d(e,"q",(function(){return c.b})),n.d(e,"I",(function(){return c.e})),n.d(e,"B",(function(){return c.d})),n.d(e,"i",(function(){return o.b})),n.d(e,"c",(function(){return o.a})),n.d(e,"A",(function(){return o.d})),n.d(e,"L",(function(){return o.e})),n.d(e,"o",(function(){return o.c})),n.d(e,"p",(function(){return u.a})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"z",(function(){return d})),n.d(e,"x",(function(){return h})),n.d(e,"n",(function(){return y})),n.d(e,"e",(function(){return p})),n.d(e,"F",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"l",(function(){return O})),n.d(e,"D",(function(){return k})),n.d(e,"h",(function(){return A.a})),n.d(e,"K",(function(){return A.d})),n.d(e,"E",(function(){return B})),n.d(e,"C",(function(){return I.f})),n.d(e,"u",(function(){return I.c})),n.d(e,"v",(function(){return I.d})),n.d(e,"s",(function(){return I.a})),n.d(e,"t",(function(){return I.b})),n.d(e,"w",(function(){return I.e})),n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return H}));var r,a,i=n(39),s=n(50),c=n(94),o=n(129),u=n(210);!function(t){t.Lock="lock",t.Burn="burn"}(r||(r={})),function(t){t.Mint="mint",t.Release="release"}(a||(a={}));var p,d=function(t){return void 0!==t.createGatewayAddress},h=function(t){return void 0!==t.getInputTx&&void 0!==t.getOutputTx},f=n(5),l=n(84),b=function t(){Object(f.a)(this,t)},y=function(){return new l.EventEmitter};!function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Log=1]="Log",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Silent=5]="Silent"}(p||(p={}));var m,v=function(){},g={trace:v,debug:v,info:v,warn:v,error:v};!function(t){t.Mainnet="mainnet",t.Testnet="testnet",t.Devnet="devnet"}(m||(m={}));var x,O,w=n(16);!function(t){t.TxStatusNil="nil",t.TxStatusConfirming="confirming",t.TxStatusPending="pending",t.TxStatusExecuting="executing",t.TxStatusReverted="reverted",t.TxStatusDone="done"}(O||(O={}));x={},Object(w.a)(x,O.TxStatusNil,0),Object(w.a)(x,O.TxStatusConfirming,1),Object(w.a)(x,O.TxStatusPending,2),Object(w.a)(x,O.TxStatusExecuting,3),Object(w.a)(x,O.TxStatusReverted,4),Object(w.a)(x,O.TxStatusDone,5);var j=n(1),T=n.n(j),E=n(151),_=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expiry:5*s.a,entryLimit:100},n=e.expiry,r=void 0===n?5*s.a:n,a=e.entryLimit,i=void 0===a?100:a,c=Object(E.b)({timestamp:0,paramKey:null,result:null}),o=Object(E.a)();return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return _(void 0,void 0,void 0,T.a.mark((function e(){var a,s,u,p;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=JSON.stringify(n),s=o.get(a),u=Date.now()/1e3,!s||!(!1===r||u-s.get("timestamp")<r)||s.get("paramKey")!==a){e.next=7;break}return e.abrupt("return",s.get("result"));case 7:return e.next=9,t.apply(void 0,n);case 9:return p=e.sent,(o=o.set(a,c({timestamp:Date.now()/1e3,paramKey:a,result:p}))).size>i&&(o=o.slice(-i)),e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})))}},A=(n(131),n(36)),P=n(9),S=n(175),R=n(14),C=n(11),M=n(12),N=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t){var r;return Object(f.a)(this,n),(r=e.call(this)).promise=new Promise((function(t,e){r.resolve=t,r.reject=e})),r._cancelled=!1,r.eventEmitter=t||new l.EventEmitter,Object(S.a)(r,new Proxy(Object(R.a)(r),{get:r.proxyHandler}))}return Object(P.a)(n,[{key:"proxyHandler",value:function(t,e){var n=this;return"resolve"===e||"reject"===e?t[e]:"then"===e?t.promise.then.bind(t.promise):"catch"===e?t.promise.catch.bind(t.promise):"_cancel"===e?function(){n._cancelled=!0}:"_isCancelled"===e?function(){return!0===n._cancelled}:"_resume"===e?function(){n._cancelled=!1}:t.eventEmitter[e]?t.eventEmitter[e]:void 0}}]),n}(b);Symbol.toStringTag;var D,B=function(t){return new N(t)},I=n(211),U=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.Ready="ready",t.Confirming="confirming",t.Done="done",t.Reverted="reverted"}(D||(D={}));var H=function t(e){var n=this,r=e.chainTransaction,a=e.chain,i=e.target;Object(f.a)(this,t),this.updateStatus=function(t){n.status=Object.assign(Object.assign({},n.status),t),n.eventEmitter.emit("status",n.status)},this.setTransaction=function(t){n._chainTransaction=t,n.updateStatus({transaction:t})},this.wait=function(t){var e=B(n.eventEmitter);return U(n,void 0,void 0,T.a.mark((function e(){var n,r,a,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._chainTransaction){e.next=3;break}throw new Error('Must call ".submit" first.');case 3:t=Object(s.d)(t)?t:this._target,r=-1;case 5:return e.next=8,this._chain.transactionConfidence(n);case 8:if(a=e.sent.toNumber(),!((i=0===t?1:a/t)>r)){e.next=18;break}if(!(i>=1)){e.next=16;break}return this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a,status:D.Done})),e.abrupt("break",22);case 16:r=i,this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a}));case 18:return e.next=20,Object(s.f)(15*s.b);case 20:e.next=5;break;case 22:return e.abrupt("return",this.status);case 23:case"end":return e.stop()}}),e,this)}))).then(e.resolve).catch(e.reject),e},this._chainTransaction=r,this._chain=a,this._target=i,this.chain=a.chain,this.eventEmitter=y(),this.status=Object.assign({chain:a.chain,status:D.Confirming,target:i},r?{transaction:r}:{})}},301:function(t,e){},303:function(t,e){},318:function(t,e){},320:function(t,e){},36:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return f}));var r,a=n(59),i=n(18),s=n.n(i),c=n(94);!function(t){t.Bool="bool",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Str="string",t.Bytes="bytes",t.Bytes32="bytes32",t.Bytes65="bytes65"}(r||(r={}));var o=function(t){return"object"===typeof t&&null!==t&&1===Object.keys(t).length&&void 0!==t.struct&&Array.isArray(t.struct)},u=function(t){return"object"===typeof t&&void 0!==t.list},p=function(t,e){var n,r={},i=Object(a.a)(t.struct);try{for(i.s();!(n=i.n()).done;){var s=n.value,c=Object.keys(s);if(0===c.length)throw new Error("Invalid struct member with no entries.");if(c.length>1)throw new Error("Invalid struct member with multiple entries.");var o=Object.keys(s)[0],u=s[o];if(e&&!e.hasOwnProperty(o))throw new Error("Missing pack value for key ".concat(o,"."));r[o]=h(u,e[o])}}catch(p){i.e(p)}finally{i.f()}return r},d=function(t,e){return e.map((function(e){return h(t.list,e)}))},h=function(t,e){if(u(t))return d(t,e);if(o(t))return p(t,e);if("string"===typeof t)return"nil"===t?null:function(t,e){switch(t){case r.Bool:return e;case r.U8:case r.U16:case r.U32:case r.U64:case r.U128:case r.U256:return new s.a(e);case r.Str:return e;case r.Bytes:case r.Bytes32:case r.Bytes65:return Object(c.b)(e)}}(t,e);var n;try{n=JSON.stringify(e)}catch(a){n=String(e)}throw n.length>20&&(n="".concat(n.slice(0,17),"...")),new Error("Unknown value type ".concat(String(t)).concat(t?"":" for value ".concat(n),"."))},f=function(t){var e=t.t,n=t.v;return h(e,n)}},37:function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return l}));var r=n(132),a=n.n(r),i=n(261),s=n(198),c=n.n(s),o=n(125),u=function(t,e,n){if("DGB"===e){var r={name:"digibyte",symbol:"dgb",addressTypes:{prod:["1e","3f"],testnet:["7e","8c"]},validator:c.a,segwitHrp:"prod"===n?"dgb":"dgbt"};return r.validator.isValidAddress(t,r,n)}return Object(i.validate)(t,e,n)},p=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},d=function(t,e){return{url:"https://sochain.com/".concat(t),address:function(t){return"https://sochain.com/address/".concat(e,"/").concat(t)},transaction:function(t){return"https://sochain.com/tx/".concat(e,"/").concat(t)}}},h=function(t,e){var n;if(!(n=e&&Object(o.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or a BitcoinNetworkConfig object."));return n},f=function(t){return a()("sha256").update(t).digest()},l=function(t){return e=f(t),a()("rmd160").update(e).digest();var e}},376:function(t,e){},377:function(t,e){},39:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n(16),a=n(28),i=n(18),s=n.n(i),c=function(t,e){if(!t)throw new Error("Failed assertion".concat(e?": ".concat(e):""));return!0},o=function(t,e){return f(t)?b(t,e):h(t)?l(t,e):p(d(t),e,t)},u=function(e){return null===e?"null":s.a.isBigNumber(e)?"BigNumber":t.isBuffer(e)?"Buffer":typeof e},p=function(t,e,n){for(var r=0,a=Object.keys(e);r<a.length;r++){var i=a[r],s=e[i];if(!t(s,i)){var c=Array.isArray(s)?"any[]":u(s);throw new Error("Expected '".concat(i,"' to be of type '").concat(n,"', instead got '").concat(c,"'."))}}return!0},d=function(t){return function(e){return"any"===t||u(e)===t}},h=function(t){var e=t.split(" | ");return e.length>1&&e},f=function(t){if("Array<"===t.slice(0,6)&&">"===t.slice(-1)){var e=/^Array<(.*)>$/.exec(t);if(e)return Object(a.a)(e,2)[1]}if(-1===t.indexOf(" ")&&"[]"===t.slice(-2)){var n=/^([^ ]*)\[\]$/.exec(t);if(n)return Object(a.a)(n,2)[1]}return!1},l=function(t,e){var n=t.split(" | ");return p((function(t,e){return n.reduce((function(n,a){if(n)return n;if(f(a))try{return b(a,Object(r.a)({},e,t)),!0}catch(i){return!1}return d(a)(t)}),!1)}),e,t)},b=function(t,e){var n=f(t);if(!n)throw new Error("Invalid array type ".concat(t));for(var a=0,i=Object.keys(e);a<i.length;a++){var s=i[a],c=e[s];p((function(t){return Array.isArray(t)}),{value:c},"any[]");for(var u=0;u<c.length;u++)o(n,Object(r.a)({},"".concat(s,"[").concat(u,"]"),c[u]))}return!0}}).call(this,n(31).Buffer)},395:function(t,e){},403:function(t,e,n){"use strict";n.r(e);n(289);var r=n(0),a=n.n(r),i=n(257),s=n.n(i),c=n(13);var o,u,p=function(){return Object(c.jsx)("div",{})},d=n(1),h=n.n(d),f=n(66),l=n(28),b=n(258),y=n.n(b),m=n(16),v=n(98),g=(n(78),n(226)),x=(n(235),n(236),n(240),n(125),n(241),n(61)),O=(n(160),n(58)),w=n(5),j=n(11),T=n(12),E=n(3),_=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);_.chain="Arbitrum",_.configMap=(o={},Object(m.a)(o,E.j.Testnet,{selector:"Arbitrum",asset:"arbETH",isTestnet:!0,network:{chainId:"0x66eeb",chainName:"Arbitrum Testnet Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc","wss://rinkeby.arbitrum.io/ws"],blockExplorerUrls:["https://testnet.arbiscan.io/","https://rinkeby-explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x1156663dFab56A9BAdd844e12eDD69eC96Dd0eFb"}}),Object(m.a)(o,E.j.Mainnet,{selector:"Arbitrum",asset:"arbETH",network:{chainId:"0xa4b1",chainName:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","wss://arb1.arbitrum.io/ws"],blockExplorerUrls:["https://arbiscan.io","https://explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),o),_.assets={arbETH:"arbETH"};var k,A=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);A.chain="Avalanche",A.configMap=(u={},Object(m.a)(u,E.j.Testnet,{selector:"Avalanche",asset:"AVAX",isTestnet:!0,network:{chainId:"0xa869",chainName:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorerUrls:["https://cchain.explorer.avax-test.network"]},addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}}),Object(m.a)(u,E.j.Mainnet,{selector:"Avalanche",asset:"AVAX",network:{chainId:"0xa86a",chainName:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorerUrls:["https://cchain.explorer.avax.network/"]},addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),u),A.assets={AVAX:"AVAX"};var P={selector:"Fantom",asset:"FTM",network:{chainId:"0xfa2",chainName:"Fantom Testnet",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorerUrls:["https://testnet.ftmscan.com/"]},addresses:{GatewayRegistry:"0x1207765B53697a046DCF4AE95bd4dE99ef9D3D3C",BasicAdapter:"0x07deB3917d234f787AEd86E0c88E829277D4a33b"}},S=(Object.assign(Object.assign({},P),{addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}}),function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a));S.chain="Fantom",S.configMap=(k={},Object(m.a)(k,E.j.Testnet,P),Object(m.a)(k,E.j.Mainnet,{selector:"Fantom",asset:"FTM",network:{chainId:"0xfa",chainName:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.ftm.tools"],blockExplorerUrls:["https://ftmscan.com"]},addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),k),S.assets={FTM:"FTM"};var R,C=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);C.chain="Goerli",C.configMap=Object(m.a)({},E.j.Testnet,{selector:"Goerli",asset:"gETH",network:{chainId:"0x5",chainName:"Ethereum Testnet G\xf6rli",nativeCurrency:{name:"G\xf6rli Ether",symbol:"GOR",decimals:18},rpcUrls:["https://rpc.goerli.mudit.blog/","https://rpc.slock.it/goerli ","https://goerli.prylabs.net/"],blockExplorerUrls:["https://goerli.infura.io"]},addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}}),C.assets={gETH:"gETH"};var M,N=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);N.chain="Polygon",N.configMap=(R={},Object(m.a)(R,E.j.Testnet,{selector:"Polygon",asset:"MATIC",isTestnet:!0,network:{chainId:"0x13881",chainName:"Matic(Polygon) Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"tMATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com","https://rpc-mumbai.matic.today","wss://ws-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}}),Object(m.a)(R,E.j.Mainnet,{selector:"Polygon",asset:"MATIC",network:{chainId:"0x89",chainName:"Matic(Polygon) Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.network","wss://ws-mainnet.matic.network","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet.chainstacklabs.com"],blockExplorerUrls:["https://polygonscan.com"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),R),N.assets={MATIC:"MATIC"};var D,B={selector:"BinanceSmartChain",asset:"BNB",isTestnet:!0,network:{chainId:"0x61",chainName:"Binance Smart Chain Testnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"tBNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s3.binance.org:8545"],blockExplorerUrls:["https://testnet.bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}},I=Object.assign(Object.assign({},B),{addresses:{GatewayRegistry:"0x87e83f957a2F3A2E5Fe16d5C6B22e38FD28bdc06",BasicAdapter:"0x105435a9b0f375B179e5e43A16228C04F01Fb2ee"}}),U=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);U.chain="BinanceSmartChain",U.configMap=(M={},Object(m.a)(M,E.j.Mainnet,{selector:"BinanceSmartChain",asset:"BNB",network:{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","wss://bsc-ws-node.nariox.org"],blockExplorerUrls:["https://bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicAdapter:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),Object(m.a)(M,E.j.Testnet,B),Object(m.a)(M,E.j.Devnet,I),M),U.assets={BNB:"BNB"};var H={selector:"Ethereum",asset:"ETH",isTestnet:!0,network:{chainId:"0x2a",chainName:"Ethereum Testnet Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOV",decimals:18},rpcUrls:["https://kovan.poa.network","http://kovan.poa.network:8545","https://kovan.infura.io/v3/${INFURA_API_KEY}","wss://kovan.infura.io/ws/v3/${INFURA_API_KEY}","ws://kovan.poa.network:8546"],blockExplorerUrls:["https://kovan.etherscan.io"]},addresses:{GatewayRegistry:"0x707bBd01A54958d1c0303b29CAfA9D9fB2D61C10",BasicAdapter:"0x52aF1b09DC11B47DcC935877a7473E35D946b7C9"}},L=Object.assign(Object.assign({},H),{addresses:{GatewayRegistry:"0x5045E727D9D9AcDe1F6DCae52B078EC30dC95455",BasicAdapter:"0xFABDB1F53Ef8B080332621cBc9F820a39e7A1B83"}}),F=function(t){Object(j.a)(n,t);var e=Object(T.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(w.a)(this,n),(a=e.call(this,Object(O.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(x.a);F.chain="Ethereum",F.configMap=(D={},Object(m.a)(D,E.j.Mainnet,{selector:"Ethereum",asset:"ETH",network:{chainId:"0x1",chainName:"Ethereum Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://cloudflare-eth.com","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://api.mycryptoapi.com/eth"],blockExplorerUrls:["https://etherscan.io"]},addresses:{GatewayRegistry:"0xe80d347DF1209a76DD9d2319d62912ba98C54DDD",BasicAdapter:"0x32666B64e9fD0F44916E1378Efb2CFa3B3B96e80"}}),Object(m.a)(D,E.j.Testnet,H),Object(m.a)(D,E.j.Devnet,L),D),F.assets={ETH:"ETH",DAI:"DAI",REN:"REN",USDC:"USDC",USDT:"USDT",EURT:"EURT",BUSD:"BUSD",MIM:"MIM",CRV:"CRV",LINK:"LINK",UNI:"UNI",SUSHI:"SUSHI",FTT:"FTT",ROOK:"ROOK",BADGER:"BADGER",KNC:"KNC"};var V=E.j.Testnet,G=function(t,e){var n=t.configMap[e];if(!n)throw new Error("No configuration for ".concat(t.name," on ").concat(e,"."));var r=n.network.rpcUrls[0];return{chain:new t(e,{provider:new v.providers.JsonRpcProvider(r)}),connectionRequired:!0,accounts:[]}},K=function(){var t=Object(f.a)(h.a.mark((function t(e,n,r){var a,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.from&&n.to){t.next=2;break}throw new Error("Missing gateway field.");case 2:a=n.from.asset,t.t0=n.from.chain,t.next=t.t0===F.chain||t.t0===U.chain||t.t0===N.chain||t.t0===A.chain||t.t0===S.chain?6:t.t0===g.a.chain?8:10;break;case 6:return i=r[n.from.chain].chain.Account({amount:n.amount,convertToWei:!0}),t.abrupt("break",11);case 8:return i=r[n.from.chain].chain.GatewayAddress(),t.abrupt("break",11);case 10:throw new Error("Unknown chain ".concat(n.from.chain));case 11:t.t1=n.to.chain,t.next=t.t1===F.chain||t.t1===U.chain||t.t1===N.chain||t.t1===A.chain||t.t1===S.chain?14:t.t1===g.a.chain?16:20;break;case 14:return s=r[n.to.chain].chain.Account(),t.abrupt("break",21);case 16:if(n.toAddress){t.next=18;break}throw new Error("No recipient address provided.");case 18:return s=r[n.to.chain].chain.Address(n.toAddress),t.abrupt("break",21);case 20:throw new Error("Unknown chain ".concat(n.to.chain));case 21:return t.next=23,e.gateway({asset:a,from:i,to:s});case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),q=n(43),W=n(115),Y=n(279),X=n(174),Q=n(68),z=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},J=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=function(t){return z(void 0,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchStatus();case 2:if(t.status===Q.b.Submitted){n.next=18;break}n.t0=t.status,n.next=n.t0===Q.b.Detected?6:n.t0===Q.b.Confirmed?9:n.t0===Q.b.Signed?12:n.t0===Q.b.Reverted?15:16;break;case 6:return n.next=8,Object(E.J)((function(){return z(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._config.logger.debug("Calling .confirmed"),t.in.eventEmitter.on("status",(function(e){Object(E.y)(e.confirmations)?t._config.logger.debug("".concat(e.confirmations,"/").concat(e.target," confirmations")):t._config.logger.debug("Waiting for ".concat(e.target," confirmations..."))})),e.next=4,t.in.wait();case 4:case"end":return e.stop()}}),e)})))}),e,10*E.k,t._config.logger);case 8:case 11:case 14:return n.abrupt("break",16);case 9:return n.next=11,Object(E.J)((function(){return z(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._config.logger.debug("Calling .signed"),t.renVM.eventEmitter.on("status",(function(e){t._config.logger.debug("status: ".concat(e))})),e.next=5,t.renVM.submit();case 5:return e.next=7,t.renVM.wait();case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),t.status!==Q.b.Reverted){e.next=13;break}return e.abrupt("return");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))}),e,10*E.k,t._config.logger);case 12:return n.next=14,Object(E.J)((function(){return z(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._config.logger.debug("Calling .mint"),t.out){e.next=4;break}return e.abrupt("return");case 4:if(!t.out.submit){e.next=7;break}return e.next=7,t.out.submit();case 7:return e.next=9,t.out.wait();case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),!/(execution reverted)|(Transaction has been reverted)/.exec(e.t0.message||String(e.t0))){e.next=17;break}return t.status=Q.b.Reverted,t.revertReason=e.t0.message||String(e.t0),e.abrupt("return");case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))}),e,10*E.k,t._config.logger);case 15:throw new Error("RenVM transaction reverted".concat(t.revertReason?": "+t.revertReason:""));case 16:n.next=2;break;case 18:case"end":return n.stop()}}),n)})))};return n.withRetries=function(e){return t(e)},n}(),Z=n(172),$=n(124),tt=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},et=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E.j.Mainnet,r=arguments.length>1?arguments[1]:void 0;Object(w.a)(this,t),this.chains={},this.withChains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e.chains[s.chain]=s}return e},this.withChain=this.withChains,this.getChain=function(t){if(!e.chains[t])throw Object(E.L)(new Error("Chain ".concat(t," not found. (Must call 'renJS.withChains(").concat(t.toLowerCase(),")')")),E.i.PARAMETER_ERROR);return e.chains[t]},this.getFees=function(t){var n=t.asset,r=t.from,a=t.to;return tt(e,void 0,void 0,h.a.mark((function t(){var e,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getChain("string"===typeof r?r:r.chain),i=this.getChain("string"===typeof a?a:a.chain),t.next=4,e.isLockAsset(n);case 4:if(t.t0=t.sent,t.t0){t.next=12;break}if(t.t1=Object(E.x)(e),!t.t1){t.next=11;break}return t.next=10,e.isMintAsset(n);case 10:t.t1=t.sent;case 11:t.t0=t.t1;case 12:if(t.t0){t.next=14;break}throw Object(E.L)(new Error("Asset not supported by chain ".concat(e.chain,".")),E.i.PARAMETER_ERROR);case 14:return t.next=16,i.isLockAsset(n);case 16:if(t.t2=t.sent,t.t2){t.next=24;break}if(t.t3=Object(E.x)(i),!t.t3){t.next=23;break}return t.next=22,i.isMintAsset(n);case 22:t.t3=t.sent;case 23:t.t2=t.t3;case 24:if(t.t2){t.next=26;break}throw Object(E.L)(new Error("Asset not supported by chain ".concat(i.chain,".")),E.i.PARAMETER_ERROR);case 26:return t.next=28,Object(Z.a)(this.provider,n,i,e);case 28:return t.abrupt("return",t.sent);case 29:case"end":return t.stop()}}),t,this)})))},this.selectShard=function(t){return tt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.selectShard(t));case 1:case"end":return e.stop()}}),e,this)})))},this.gateway=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new $.a(this.provider,this.getChain(t.from.chain),this.getChain(t.to.chain),t,Object.assign(Object.assign({},this._config),n))._initialize());case 1:case"end":return e.stop()}}),e,this)})))},this.gatewayTransaction=function(t,n){return tt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Q.a(this.provider,this.getChain(t.fromTx.chain),this.getChain(t.to.chain),t,void 0,Object.assign(Object.assign({},this._config),n))._initialize());case 1:case"end":return e.stop()}}),e,this)})))},this._config=r||{},this.provider="string"===typeof n?new X.a(n,this._config.logger):n};et.Networks=E.j,et.defaultDepositHandler=J;var nt=Object(Y.a)((function(){var t=Object(r.useState)((function(){return new et(V)})),e=Object(l.a)(t,1)[0],n=Object(r.useState)((function(){return function(){var t,e=G(F,V),n=G(U,V),r=G(N,V),a=G(A,V),i=G(S,V),s={chain:new g.a(V)};return t={},Object(m.a)(t,F.chain,e),Object(m.a)(t,U.chain,n),Object(m.a)(t,N.chain,r),Object(m.a)(t,A.chain,a),Object(m.a)(t,S.chain,i),Object(m.a)(t,g.a.chain,s),t}()})),a=Object(l.a)(n,2),i=a[0],s=a[1],c=Object(r.useState)([]),o=Object(l.a)(c,2),u=o[0],p=o[1],d=Object(r.useState)(),h=Object(l.a)(d,2),f=h[0],b=h[1];Object(r.useEffect)((function(){e.withChains.apply(e,Object(q.a)(Object.values(i).map((function(t){return t.chain}))))}),[e,i]);var y=Object(r.useCallback)((function(t,e,n){var r=i[t];r.chain.withProvider&&r.chain.withProvider(e),i[t].accounts=[].concat(Object(q.a)(r.accounts||[]),[n]),i[t].connectionRequired=!1,s(i)}),[i]),v=Object(r.useCallback)((function(t){try{b(t),i.Ethereum.chain.withProvider({signer:new W.a.providers.Web3Provider(t,"any").getSigner()}),i.BinanceSmartChain.chain.withProvider({signer:new W.a.providers.Web3Provider(t,"any").getSigner()}),i.Polygon.chain.withProvider({signer:new W.a.providers.Web3Provider(t,"any").getSigner()}),i.Fantom.chain.withProvider({signer:new W.a.providers.Web3Provider(t,"any").getSigner()}),i.Avalanche.chain.withProvider({signer:new W.a.providers.Web3Provider(t,"any").getSigner()})}catch(e){throw console.error(e),e}}),[i]),x=Object(r.useCallback)((function(t){p((function(e){return[t].concat(Object(q.a)(e))}))}),[]);return{renJS:e,chains:i,connect:y,injectedWeb3:f,setInjectedWeb3:v,transactions:u,addTransaction:x}})),rt=n(74),at=n(90),it=function(t){var e=t.className;return Object(c.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white "+(e||""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},st=n(419),ct=n(420),ot=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},ut=function(t){var e=t.option,n=t.validOptions,a=t.onSelectOption,i=t.onCancelOption;return Object(c.jsxs)("div",{className:"w-full flex items-center",children:[Object(c.jsxs)(st.a,{as:"div",className:"w-full relative inline-block text-left",children:[Object(c.jsx)("div",{children:Object(c.jsxs)(st.a.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",children:[e?Object(c.jsxs)(c.Fragment,{children:[e.asset," on ",e.chain]}):Object(c.jsx)(c.Fragment,{children:"Select a token"}),Object(c.jsx)(at.b,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),Object(c.jsx)(ct.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(c.jsx)(st.a.Items,{className:"origin-top-right absolute mt-2 w-full rounded-md border-2 border-indigo-600 shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:Object(c.jsx)("div",{className:"py-1",children:n.map((function(t){return Object(c.jsx)(st.a.Item,{onClick:function(){return a(t)},children:function(e){var n=e.active;return Object(c.jsxs)("span",{className:ot(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:[t.asset," on"," ",t.chain]})}},t.asset+"-"+t.chain)}))})})})]}),Object(c.jsx)("div",{className:"ml-2 w-5",children:e?Object(c.jsx)("button",{onClick:i,children:Object(c.jsx)(at.c,{className:"text-indigo-600 -mb-1 h-5 w-5","aria-hidden":"true"})}):null})]})};var pt=function(t){var e,n,a,i,s=t.connectFrom,o=t.createGatewayParams,u=t.validFromOptions,p=t.validToOptions,d=t.updateCreateGatewayParams,b=t.handleCreateGateway,y=Object(r.useState)(!1),m=Object(l.a)(y,2),v=m[0],g=m[1],x=Object(r.useState)(),O=Object(l.a)(x,2),w=O[0],j=O[1],T=Object(r.useState)(!1),E=Object(l.a)(T,2),_=E[0],k=E[1],A=Object(r.useState)(),P=Object(l.a)(A,2),S=P[0],R=P[1],C=Object(r.useState)(!1),M=Object(l.a)(C,2),N=M[0],D=M[1],B=Object(r.useCallback)((function(t){d(Object(rt.a)(Object(rt.a)({},o),{},{from:t}))}),[o,d]),I=Object(r.useCallback)((function(t){d(Object(rt.a)(Object(rt.a)({},o),{},{to:t}))}),[o,d]),U=Object(r.useCallback)((function(){d(Object(rt.a)(Object(rt.a)({},o),{},{from:void 0}))}),[o,d]),H=Object(r.useCallback)((function(){d(Object(rt.a)(Object(rt.a)({},o),{},{to:void 0}))}),[o,d]),L=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return g(!0),t.prev=3,t.next=6,s();case 6:D(!0),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0),j(t.t0);case 13:g(!1);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),[s]),F=Object(r.useCallback)((function(t){d(Object(rt.a)(Object(rt.a)({},o),{},{amount:t.target.value}))}),[d,o]),V=Object(r.useCallback)((function(t){d(Object(rt.a)(Object(rt.a)({},o),{},{toAddress:t.target.value}))}),[d,o]),G=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.prev=1,t.next=4,b();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),R(t.t0);case 10:k(!1);case 11:case"end":return t.stop()}}),t,null,[[1,6]])}))),[b]);return Object(c.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[Object(c.jsx)("h3",{className:"font-bold",children:"Create Gateway"}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"Amount:"}),Object(c.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.amount,onChange:F}),Object(c.jsx)("div",{className:"ml-2 w-5"})]}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"From:"}),Object(c.jsx)(ut,{option:o.from,validOptions:u,onSelectOption:B,onCancelOption:U})]}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"To:"}),Object(c.jsx)(ut,{option:o.to,validOptions:p,onSelectOption:I,onCancelOption:H})]}),(null===(e=o.to)||void 0===e?void 0:e.toAddressRequired)?Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"Address:"}),Object(c.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.toAddress,onChange:V})]}):null,s?Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsx)("button",{disabled:v,onClick:L,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:v?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(it,{})," Connecting"," ",null===(n=o.from)||void 0===n?void 0:n.chain," wallet"]}):Object(c.jsxs)(c.Fragment,{children:["Connect ",null===(a=o.from)||void 0===a?void 0:a.chain," wallet"]})}),w?Object(c.jsx)("p",{className:"text-red-500",children:String(w.message)}):null]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{disabled:!o.from||!o.to||_||(null===(i=o.to)||void 0===i?void 0:i.toAddressRequired)&&!o.toAddress,onClick:G,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:_?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(it,{})," Creating gateway"]}):Object(c.jsxs)(c.Fragment,{children:[N?Object(c.jsxs)(c.Fragment,{children:["Connected",Object(c.jsx)(at.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(c.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Create gateway"]})}),S?Object(c.jsx)("p",{className:"text-red-500",children:String(S.message)}):null]})]})},dt=function(t){var e=t.amount,n=t.fromAsset,r=t.fromChain,a=t.toAsset,i=t.toChain,s=n===a;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"font-bold",children:[s?"Move":"Convert",e?Object(c.jsxs)(c.Fragment,{children:[" ",e]}):Object(c.jsx)(c.Fragment,{})," ",n," from ",r," ","to ",s?Object(c.jsxs)(c.Fragment,{children:[a," on"]}):null," ",i]})})},ht=function(t){var e=t.gatewayAddress,n=t.fromAsset,r=t.fromChain,a=t.toAsset,i=t.toChain,s=n===a;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[s?"Move":"Convert"," ",n," from ",r," ","to ",s?Object(c.jsxs)(c.Fragment,{children:[a," on"]}):null," ",i,Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:["Deposit ",n," to ",e]})})]})})},ft=n(204),lt=n.n(ft),bt=function(t){var e,n,a=t.tx,i=t.target,s=t.autoSubmit,o=t.onDone,u=nt.useContainer(),p=u.injectedWeb3,d=u.chains,b=Object(r.useState)(!!s),y=Object(l.a)(b,2),m=y[0],v=y[1],g=Object(r.useState)(!1),x=Object(l.a)(g,2),O=x[0],w=x[1],j=Object(r.useState)(),T=Object(l.a)(j,2),_=T[0],k=T[1],A=Object(r.useState)(),P=Object(l.a)(A,2),S=P[0],R=P[1],C=Object(r.useState)(),M=Object(l.a)(C,2),N=M[0],D=M[1],B=Object(r.useState)(!1),I=Object(l.a)(B,2),U=I[0],H=I[1],L=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(void 0),R(void 0),t.prev=2,w(!0),t.next=6,a.wait(i);case 6:o(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),R(t.t0);case 12:w(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),[a,o,i]),F=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(void 0),R(void 0),!a.submit||a.status.status!==E.a.Ready){t.next=14;break}return t.prev=3,v(!0),t.next=7,a.submit();case 7:L().catch(console.error),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),k(t.t0);case 13:v(!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])}))),[a,L]);Object(r.useEffect)((function(){s&&F().catch(console.error),a.status.status!==E.a.Ready&&(w(!0),L().catch(console.error))}),[F,s,L,a.status.status]),Object(r.useEffect)((function(){Object(f.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=3;break}return D(!1),t.abrupt("return");case 3:return t.t0=lt.a,t.next=6,p.request({method:"eth_chainId"});case 6:t.t1=t.sent,new t.t0(t.t1).toNumber()!==new lt.a(null===(e=d[a.chain].chain.network.network)||void 0===e?void 0:e.chainId).toNumber()?D(!0):D(!1);case 9:case"end":return t.stop()}}),t)})))().catch(console.error)}));var V=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,p.request({method:"wallet_switchEthereumChain",params:[{chainId:d[a.chain].chain.network.network.chainId}]});case 5:H(!0),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),t.next=12,p.request({method:"wallet_addEthereumChain",params:[d[a.chain].chain.network.network]});case 12:D(!1);case 13:case"end":return t.stop()}}),t,null,[[2,8]])}))),[p,d,a]);if(void 0===N)return Object(c.jsxs)("div",{children:[Object(c.jsx)(it,{})," Loading..."]});switch(a.status.status){case E.a.Done:return Object(c.jsxs)("p",{children:["Transaction done! ",Object(c.jsx)("button",{onClick:o,children:"Continue"})]});case E.a.Reverted:return Object(c.jsxs)("p",{children:["Transaction reverted: ",a.status.revertReason]});default:return Object(c.jsx)(c.Fragment,{children:_?Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{className:"text-red-500",children:["Error submitting:"," ",String(_.message),"."]})," ",Object(c.jsxs)("button",{onClick:F,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Retry submitting to ",a.chain]})]}):S?Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{className:"text-red-500",children:["Error waiting for ",a.chain," transaction confirmations: ",String(S.message),"."]})," ",Object(c.jsx)("button",{onClick:L,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Retry"})]}):m?Object(c.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(c.jsx)(it,{})," Submitting to ",a.chain]}):O?Object(c.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(c.jsx)(it,{})," Waiting for ",a.chain," ",1===a.status.target?"confirmation":"confirmations","...",(null===(e=a.status.response)||void 0===e?void 0:e.txStatus)?Object(c.jsxs)(c.Fragment,{children:[" ","(",null===(n=a.status.response)||void 0===n?void 0:n.txStatus,")"]}):null]}):N?Object(c.jsxs)("button",{onClick:V,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Switch to ",a.chain," in MetaMask"]}):Object(c.jsxs)("button",{onClick:F,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[U?Object(c.jsxs)(c.Fragment,{children:["Switched",Object(c.jsx)(at.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(c.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Submit to ",a.chain]})})}};var yt=function(t){var e=t.gateway,n=t.onDone,a=Object(r.useState)(!1),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(!1),p=Object(l.a)(u,2),d=p[0],b=p[1],y=Object(r.useState)(!1),m=Object(l.a)(y,2),v=m[0],g=m[1],x=Object(r.useState)(),O=Object(l.a)(x,2),w=O[0],j=O[1];Object(r.useEffect)((function(){Object(f.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fromChain.assetDecimals(e.params.asset);case 3:return n=t.sent,t.next=6,e.fromChain.getBalance(e.params.asset);case 6:r=t.sent,j(r.shiftedBy(-n).toFixed()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))().catch(console.error)}),[e.params.asset,e.fromChain]);var T=e.params.asset,_=e.fromChain.chain,k=e.params.asset,A=e.toChain.chain,P=Object(r.useCallback)((function(){o(!0)}),[]),S=Object(r.useCallback)((function(){b(!0)}),[]);return Object(r.useEffect)((function(){e.on("transaction",(function(t){g(!0)}))}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"flex justify-between",children:[Object(c.jsx)(dt,{fromAsset:T,fromChain:_,toAsset:k,toChain:A}),Object(c.jsx)("button",{className:"h-5 w-5 -mt-4 -mr-4",onClick:n,children:Object(c.jsx)(at.c,{className:"text-black h-5 w-5","aria-hidden":"true"})})]}),s?v?Object(c.jsxs)("div",{className:"mt-4",children:[Object(c.jsx)("p",{className:"text-sm font-medium",children:"Submitted - view your in-progress transaction under Transactions."}),Object(c.jsx)("button",{className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 disabled:opacity-50",onClick:n,children:"Return"})]}):Object(c.jsx)("div",{className:"mt-4",children:Object(c.jsxs)("p",{className:"text-sm font-medium",children:[Object(c.jsx)(it,{className:"text-indigo-600 inline-block"})," ","Loading transaction..."]})}):!d&&e.setup.approval&&e.setup.approval.status.status!==E.a.Done?Object(c.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset,Object(c.jsx)(bt,{tx:e.setup.approval,target:1,onDone:S})]}):e.in?Object(c.jsxs)(c.Fragment,{children:[e.setup.approval?Object(c.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset," ",Object(c.jsx)(at.a,{className:"text-indigo-600 h-5 w-5 inline-block"})]}):null,Object(c.jsxs)("div",{className:"mt-4",children:[e.setup.approval?"Step 2: ":"","Submit gateway",Object(c.jsx)(bt,{tx:e.in,onDone:P,target:1})]})]}):e.gatewayAddress?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ht,{gatewayAddress:e.gatewayAddress,fromAsset:T,fromChain:_,toAsset:k,toChain:A})}):null,w?Object(c.jsxs)("p",{className:"text-sm text-gray-600 mt-4",children:["Balance: ",w," ",e.params.asset]}):null]})},mt=[{asset:"BTC",chain:"Bitcoin",assetOrigin:"Bitcoin",toAddressRequired:!0},{asset:"BTC",chain:"Ethereum",assetOrigin:"Bitcoin"},{asset:"DAI",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"DAI",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Polygon",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Fantom",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Avalanche",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"USDC",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Polygon",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Fantom",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Avalanche",assetOrigin:"Ethereum"},{asset:"ETH",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"ETH",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"ETH",chain:"Polygon",assetOrigin:"Ethereum"},{asset:"ETH",chain:"Fantom",assetOrigin:"Ethereum"},{asset:"ETH",chain:"Avalanche",assetOrigin:"Ethereum"}],vt=mt;var gt=function(){var t=nt.useContainer(),e=t.renJS,n=t.chains,a=t.injectedWeb3,i=t.setInjectedWeb3,s=t.addTransaction,o=Object(r.useState)(),u=Object(l.a)(o,2),p=u[0],d=u[1],b=Object(r.useCallback)((function(){p&&p.removeListener("transaction",s),d(void 0)}),[d]),m=Object(r.useState)({amount:"1.5",from:void 0,to:void 0}),v=Object(l.a)(m,2),g=v[0],x=v[1],O=Object(r.useState)(mt),w=Object(l.a)(O,2),j=w[0],T=w[1],E=Object(r.useState)(vt),_=Object(l.a)(E,2),k=_[0],A=_[1],P=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e,g,n);case 2:r=t.sent,d(r),r.on("transaction",s);case 5:case"end":return t.stop()}}),t)}))),[e,n,g,s]),S=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()();case 2:if(!(e=t.sent)){t.next=9;break}return t.next=6,e.enable();case 6:i(e),t.next=10;break;case 9:throw new Error("Please install MetaMask.");case 10:case"end":return t.stop()}}),t)}))),[i]),R=Object(r.useCallback)((function(t){x(t);var e=mt;t.to&&(e=e.filter((function(e){return e.asset===t.to.asset&&e.chain!==t.to.chain&&(t.to.chain===t.to.assetOrigin||e.chain===t.to.assetOrigin)})));var n=vt;t.from&&(n=n.filter((function(e){return e.asset===t.from.asset&&e.chain!==t.from.chain&&(t.from.chain===t.from.assetOrigin||e.chain===t.from.assetOrigin)}))),T(e),A(n)}),[]);return Object(c.jsx)("div",{children:p?Object(c.jsx)(yt,{gateway:p,onDone:b}):Object(c.jsx)(pt,{createGatewayParams:g,validFromOptions:j,validToOptions:k,updateCreateGatewayParams:R,handleCreateGateway:P,connectFrom:!a&&g.from?S:void 0})})},xt=function(t){var e=t.fromAsset,n=t.fromChain,r=t.toChain,a=t.txHash,i=t.inTxDone,s=t.inTx,o=t.renVMDone,u=t.renVM,p=t.outTxDone,d=t.outTx,h=t.onInDone,f=t.onRenVMDone,l=t.onOutDone,b=nt.useContainer().chains;return Object(c.jsx)("div",{className:"rounded-md w-full mt-5",children:Object(c.jsxs)("div",{className:"px-4 py-5 space-y-2 sm:p-6 w-full h-full bg-white rounded-md p-4 flex flex-col border border-gray-300",children:[Object(c.jsxs)("h3",{className:"font-bold truncate",children:[e," on ",n," to ",r]}),Object(c.jsxs)("p",{className:"truncate",children:["Hash: ",a]}),s&&s.status.transaction?Object(c.jsxs)("p",{className:"truncate",children:[s.chain," tx:"," ",Object(c.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:b[s.chain].chain.transactionExplorerLink(s.status.transaction),children:s.status.transaction.txidFormatted})]}):null,d&&d.status.transaction?Object(c.jsxs)("p",{className:"truncate",children:[d.chain," tx:"," ",Object(c.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:b[d.chain].chain.transactionExplorerLink(d.status.transaction),children:d.status.transaction.txidFormatted})]}):null,!i&&s&&s.status.status!==E.a.Done?Object(c.jsx)(bt,{tx:s,onDone:h}):!o&&u&&u.status.status!==E.a.Done?Object(c.jsx)(bt,{tx:u,onDone:f,autoSubmit:!0}):!p&&d&&d.status.status!==E.a.Done?Object(c.jsx)(bt,{tx:d,onDone:l}):null]})})},Ot=function(t){var e=t.transaction,n=Object(r.useState)(!1),a=Object(l.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),p=u[0],d=u[1],h=Object(r.useState)(!1),f=Object(l.a)(h,2),b=f[0],y=f[1];return Object(c.jsx)(xt,{fromAsset:e.params.asset,fromChain:e.fromChain.chain,toChain:e.toChain.chain,inTx:e.in,renVM:e.renVM,outTx:e.out,inTxDone:i,renVMDone:p,outTxDone:b,txHash:e.hash,onInDone:function(){s(!0)},onRenVMDone:function(){d(!0)},onOutDone:function(){y(!0)}})};var wt=function(t){var e=t.transactions;return Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsx)("div",{className:"shadow rounded-md w-full",children:Object(c.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(c.jsx)("h2",{className:"font-bold",children:"Transactions"})})}),Object(c.jsx)("div",{className:"w-full",children:e.length?e.map((function(t){return Object(c.jsx)(Ot,{transaction:t},t.hash)})):Object(c.jsx)("p",{className:"text-sm font-medium m-4",children:"No transactions"})})]})},jt=function(){var t=nt.useContainer().transactions;return Object(c.jsx)(wt,{transactions:t})};var Tt=function(){return Object(c.jsx)("div",{className:"antialiased font-sans bg-gray-100 h-screen w-screen flex justify-center py-12 px-4 sm:px-6 lg:px-8",children:Object(c.jsxs)("div",{className:"max-w-screen-2xl flex flex-col w-full",children:[Object(c.jsx)("div",{className:"py-4",children:Object(c.jsx)("h1",{className:"font-bold",children:"RenJS v3 Demo"})}),Object(c.jsxs)("div",{className:"flex w-full flex-col h-full md:flex-row md:justify-center",children:[Object(c.jsx)("div",{className:"shadow rounded-md w-full md:w-2/5 ",children:Object(c.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(c.jsx)(gt,{})})}),Object(c.jsx)("div",{className:"w-full mt-4 md:w-3/5 md:ml-5 md:mt-0",children:Object(c.jsx)(jt,{})}),Object(c.jsx)(p,{})]})]})})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(nt.Provider,{children:Object(c.jsx)(Tt,{})})}),document.getElementById("root"))},41:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return E}));var r,a=n(43),i=n(59),s=n(1),c=n.n(s),o=n(18),u=n.n(o),p=n(81),d=n(3),h=n(55),f=n(273),l=n(114),b=n(48),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.EVM_TRANSACTION_TYPE="__EVM_TRANSACTION_TYPE__",t.EVM_TOKEN_ADDRESS="__EVM_TOKEN_ADDRESS__",t.EVM_TOKEN_DECIMALS="__EVM_TOKEN_DECIMALS__",t.EVM_GATEWAY_DEPOSIT_ADDRESS="__EVM_GATEWAY_DEPOSIT_ADDRESS__",t.EVM_ACCOUNT="__EVM_ACCOUNT__",t.EVM_GATEWAY="__EVM_GATEWAY__",t.EVM_ASSET="__EVM_ASSET__",t.EVM_AMOUNT="__EVM_AMOUNT__",t.EVM_NHASH="__EVM_NHASH__",t.EVM_PHASH="__EVM_PHASH__",t.EVM_SIGNATURE="__EVM_SIGNATURE__",t.EVM_SIGNATURE_R="__EVM_SIGNATURE_R__",t.EVM_SIGNATURE_S="__EVM_SIGNATURE_S__",t.EVM_SIGNATURE_V="__EVM_SIGNATURE_V__",t.EVM_TO_CHAIN="__EVM_TO_CHAIN__",t.EVM_TO_ADDRESS="__EVM_TO_ADDRESS__",t.EVM_TO_ADDRESS_BYTES="__EVM_TO_ADDRESS_BYTES__",t.EVM_TO_PAYLOAD="__EVM_TO_PAYLOAD__"}(r||(r={}));var m=function(t){return Object.values(r).indexOf(t)>=0},v=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"!==typeof(r=m(t)?e[t]:t)){n.next=5;break}return n.next=4,r();case 4:r=n.sent;case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))},g=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.to,e);case 6:return n.t4=n.sent,n.next=9,Promise.all(t.params.values.map((function(t){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.next=4,v(t.value,e);case 4:return n.t2=n.sent,n.t3={value:n.t2},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t3));case 7:case"end":return n.stop()}}),n)})))})));case 9:return n.t5=n.sent,n.t6={to:n.t4,values:n.t5},n.t7=n.t2.assign.call(n.t2,n.t3,n.t6),n.t8={params:n.t7},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t8));case 14:case"end":return n.stop()}}),n)})))},x={getSetup:function(t,e,n,r,a){return n.setup||{}},getPayload:function(t,e,n,r){return y(void 0,void 0,void 0,c.a.mark((function e(){var a,s,o,u,p,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n,r);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Object(d.L)(new Error("Error getting contract-call payload: ".concat(String(e.t0.message))),d.i.PARAMETER_ERROR);case 9:a=n.params.values.filter((function(t){return!t.notInPayload})),s=Object(i.a)(a),e.prev=11,s.s();case 13:if((o=s.n()).done){e.next=19;break}if(void 0!==(u=o.value).value){e.next=17;break}throw Object(d.L)(new Error("Parameter '".concat(u.name,"' is undefined.")),d.i.PARAMETER_ERROR);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(11),s.e(e.t1);case 24:return e.prev=24,s.f(),e.finish(24);case 27:p=a.map((function(t){return t.type})),h=a.map((function(t){return t.value})),e.prev=29,f=Object(b.g)(p,h),e.next=36;break;case 33:throw e.prev=33,e.t2=e.catch(29),Object(d.L)(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(e.t2.message))),d.i.PARAMETER_ERROR);case 36:return e.abrupt("return",{to:n.params.to,toBytes:Object(d.r)(n.params.to),payload:f});case 37:case"end":return e.stop()}}),e,null,[[0,6],[11,21,24,27],[29,33]])})))},submit:function(t,e,n,r,s){return y(void 0,void 0,void 0,c.a.mark((function o(){var u,h,y,m,v,x,O,w;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,g(n,r);case 3:n=c.sent,c.next=9;break;case 6:throw c.prev=6,c.t0=c.catch(0),Object(d.L)(new Error("Error resolving parameters for contract-call : ".concat(String(c.t0.message))),d.i.PARAMETER_ERROR);case 9:u=n.params.values.map((function(t){return s.params&&Object(d.y)(s.params[t.name])?Object.assign(Object.assign({},t),{value:s.params[t.name]}):t})),h=u.map((function(t){return t.type})),y=u.map((function(t){return t.value})),m=Object(i.a)(u),c.prev=13,m.s();case 15:if((v=m.n()).done){c.next=21;break}if(void 0!==(x=v.value).value){c.next=19;break}throw Object(d.L)(new Error("Parameter '".concat(x.name,"' is undefined.")),d.i.PARAMETER_ERROR);case 19:c.next=15;break;case 21:c.next=26;break;case 23:c.prev=23,c.t1=c.catch(13),m.e(c.t1);case 26:return c.prev=26,m.f(),c.finish(26);case 29:c.prev=29,Object(b.g)(h,y),c.next=36;break;case 33:throw c.prev=33,c.t2=c.catch(29),Object(d.L)(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(c.t2.message))),d.i.PARAMETER_ERROR);case 36:if((O=Object(f.a)(n.params.method,u)[0]).name){c.next=39;break}throw new Error("ABI must include method name.");case 39:return w=new p.a(n.params.to.toLowerCase(),[O],e),c.next=42,w[O.name].apply(w,Object(a.a)(y).concat([Object(l.b)(n.params.txConfig,s.txConfig)]));case 42:return c.abrupt("return",c.sent);case 43:case"end":return c.stop()}}),o,null,[[0,6],[13,23,26,29],[29,33]])})))}},O=function(t,e,n){return y(void 0,void 0,void 0,c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(d.y)(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:i=a.t0,a.t4=n[r.EVM_TRANSACTION_TYPE],a.next=a.t4===d.d.Lock?18:a.t4===d.d.Burn?23:a.t4===d.f.Mint?26:a.t4===d.f.Release?27:28;break;case 18:if(i){a.next=20;break}throw Object(d.L)(new Error("Must provide amount to .Account()"),d.i.PARAMETER_ERROR);case 20:if(!n[r.EVM_GATEWAY_DEPOSIT_ADDRESS]){a.next=22;break}return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:t.addresses.BasicAdapter,method:"transferWithLog",values:[{type:"address",name:"to",value:r.EVM_GATEWAY_DEPOSIT_ADDRESS}],txConfig:{value:i}}});case 22:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"lock",values:[{type:"string",name:"recipientAddress",value:r.EVM_TO_ADDRESS},{type:"string",name:"recipientChain",value:r.EVM_TO_CHAIN},{type:"bytes",name:"recipientPayload",value:r.EVM_TO_PAYLOAD},{type:"uint256",name:"amount",value:i}]},setup:{approval:{chain:t.selector,type:"approval",params:{token:r.EVM_TOKEN_ADDRESS,spender:r.EVM_GATEWAY,amount:i}}}});case 23:if(i){a.next=25;break}throw Object(d.L)(new Error("Must provide amount to .Account()"),d.i.PARAMETER_ERROR);case 25:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"burn",values:[{type:"bytes",name:"to",value:r.EVM_TO_ADDRESS_BYTES},{type:"uint256",name:"amount",value:i}]}});case 26:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:t.addresses.BasicAdapter,method:"mint",values:[{type:"string",name:"symbol",value:r.EVM_ASSET},{type:"address",name:"recipient",value:r.EVM_ACCOUNT},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 27:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"release",values:[{type:"bytes32",name:"pHash",value:r.EVM_PHASH,notInPayload:!0},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 28:throw new Error("Unable to use .Account() for set-up call.");case 29:case"end":return a.stop()}}),a)})))},w={getSetup:function(t,e,n,r,a){return y(void 0,void 0,void 0,c.a.mark((function i(){return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(x.getSetup){i.next=2;break}throw new Error("Missing contract payload handler.");case 2:return i.t0=x,i.t1=t,i.t2=e,i.next=7,O(t,n,r);case 7:return i.t3=i.sent,i.t4=r,i.t5=a,i.next=12,i.t0.getSetup.call(i.t0,i.t1,i.t2,i.t3,i.t4,i.t5);case 12:return i.abrupt("return",i.sent);case 13:case"end":return i.stop()}}),i)})))},getPayload:function(e,n,a,i,s){return y(void 0,void 0,void 0,c.a.mark((function o(){var u;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(x.getPayload){c.next=2;break}throw new Error("Missing contract payload handler.");case 2:if(i[r.EVM_TRANSACTION_TYPE]!==d.f.Release){c.next=7;break}return c.next=5,i[r.EVM_ACCOUNT]();case 5:return u=c.sent,c.abrupt("return",{to:u,toBytes:Object(d.r)(u),payload:t.from([])});case 7:return c.t0=x,c.t1=e,c.t2=n,c.next=12,O(e,a,i);case 12:return c.t3=c.sent,c.t4=i,c.t5=s,c.next=17,c.t0.getPayload.call(c.t0,c.t1,c.t2,c.t3,c.t4,c.t5);case 17:return c.abrupt("return",c.sent);case 18:case"end":return c.stop()}}),o)})))},submit:function(t,e,n,r,a,i){return y(void 0,void 0,void 0,c.a.mark((function s(){return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.t0=x,s.t1=t,s.t2=e,s.next=5,O(t,n,r);case 5:return s.t3=s.sent,s.t4=r,s.t5=a,s.t6=i,s.abrupt("return",s.t0.submit.call(s.t0,s.t1,s.t2,s.t3,s.t4,s.t5,s.t6));case 10:case"end":return s.stop()}}),s)})))}},j=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.token,e);case 6:return n.t4=n.sent,n.next=9,v(t.params.spender,e);case 9:return n.t5=n.sent,n.next=12,v(t.params.amount,e);case 12:return n.t6=n.sent,n.t7={token:n.t4,spender:n.t5,amount:n.t6},n.t8=n.t2.assign.call(n.t2,n.t3,n.t7),n.t9={params:n.t8},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t9));case 17:case"end":return n.stop()}}),n)})))},T=function(t,e,n){return y(void 0,void 0,void 0,c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(d.y)(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:return i=a.t0,a.abrupt("return",{chain:t.selector,type:"contract",params:{to:e.params.token,method:"approve",values:[{type:"address",name:"to",value:e.params.spender},{type:"uint256",name:"amount",value:i}]}});case 16:case"end":return a.stop()}}),a)})))},E={getSetup:function(t,e,n,r,a){return n.setup||{}},required:function(t,e,n,r){return y(void 0,void 0,void 0,c.a.mark((function t(){var a,i,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n,r);case 2:return n=t.sent,a=n.params.token,i=Object(h.f)(e,a),t.next=7,e.getAddress();case 7:return s=t.sent,t.t0=u.a,t.next=11,i.allowance(s,n.params.spender);case 11:return t.t1=t.sent.toString(),o=new t.t0(t.t1),t.abrupt("return",o.lt(new u.a(n.params.amount)));case 14:case"end":return t.stop()}}),t)})))},submit:function(t,e,n,r,a,i){return y(void 0,void 0,void 0,c.a.mark((function s(){return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j(n,r);case 2:return n=s.sent,s.t0=x,s.t1=t,s.t2=e,s.next=8,T(t,n,r);case 8:return s.t3=s.sent,s.t4=r,s.t5=a,s.t6=i,s.abrupt("return",s.t0.submit.call(s.t0,s.t1,s.t2,s.t3,s.t4,s.t5,s.t6));case 13:case"end":return s.stop()}}),s)})))}}}).call(this,n(31).Buffer)},48:function(t,e,n){"use strict";n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return x})),n.d(e,"a",(function(){return O})),n.d(e,"i",(function(){return j})),n.d(e,"j",(function(){return T})),n.d(e,"g",(function(){return E}));var r=n(43),a=n(1),i=n.n(a),s=n(28),c=n(18),o=n.n(c),u=n(205),p=n(112),d=n(3),h=n(55),f=n(104),l=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n=Object(s.a)(e.args,3),r=n[0],a=n[1],i=n[2];return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:a.toString(),toRecipient:r,nonce:Object(d.I)(Object(d.H)(i.toString(),32))})},y=function(t,e){var n=Object(s.a)(e.args,5),r=n[0],a=n[1],i=n[2],c=n[3],u=n[4],p=Object(d.H)(new o.a(u.toString()),32);if(32!==p.length)throw new Error("Invalid nonce length");return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:c.toString(),nonce:Object(d.I)(p),toRecipient:r,toChain:a,toPayload:Object(d.I)(Object(d.r)(i))})},m=function(t,e){var n=Object(s.a)(e.args,2),r=(n[0],n[1]);return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:r.toString()})},v=function(t,e){return{chain:t,txidFormatted:e,txid:Object(d.I)(Object(d.r)(e)),txindex:"0"}},g=function(t,e,n,r,a,s){return l(void 0,void 0,void 0,i.a.mark((function c(){var o,u,p,l,b;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(f.c)(t,e,n);case 2:return o=i.sent,u=Object(h.h)(e,o),p=Object(h.e)(h.d,"LogMint"),i.next=7,w(e,o,p,[null,null,Object(d.g)(r)],s);case 7:if(!(l=i.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length){i.next=11;break}return l.length>1&&console.warn("Found more than one mint log."),i.abrupt("return",l[0]);case 11:if(!a){i.next=24;break}return i.next=14,u.status(Object(d.g)(a));case 14:if(i.sent){i.next=17;break}return i.abrupt("return",void 0);case 17:return i.next=19,w(e,o,p,[null,null,Object(d.g)(a)],s);case 19:if(!(b=i.sent).length){i.next=23;break}return b.length>1&&console.warn("Found more than one mint log."),i.abrupt("return",b.map((function(e){return v(t.selector,e.transactionHash)}))[0]);case 23:return i.abrupt("return",v(t.selector,""));case 24:return i.abrupt("return",void 0);case 25:case"end":return i.stop()}}),c)})))},x=function(t,e,n,r,a){return l(void 0,void 0,void 0,i.a.mark((function s(){var c,o,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(f.b)(t,e,n);case 2:return c=i.sent,o=Object(h.e)(h.c,"LogRelease"),i.next=6,w(e,c,o,[null,null,Object(d.g)(r)],a);case 6:return(u=i.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length>1&&console.warn("Found more than one release log."),i.abrupt("return",u.length?u[0]:void 0);case 9:case"end":return i.stop()}}),s)})))},O=function(t,e){if(!t)throw Error("No events found in transaction");var n=Object(d.g)(Object(h.g)(e)),r=new u.b.Interface([e]);return t.filter((function(t){return t.topics[0]===n})).map((function(t){return Object.assign(Object.assign({},r.parseLog(t)),{transactionHash:t.transactionHash})}))},w=function(t,e,n,a,s){return l(void 0,void 0,void 0,i.a.mark((function c(){var u,p,f;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(u=1,p="latest",!s){i.next=9;break}return i.t0=o.a,i.next=6,t.getBlockNumber();case 6:i.t1=i.sent.toString(),p=new i.t0(i.t1).toNumber(),u=p-s+1;case 9:return i.next=11,t.getLogs({address:e,fromBlock:u,toBlock:p,topics:[Object(d.g)(Object(h.g)(n))].concat(Object(r.a)(a))});case 11:return f=i.sent,i.abrupt("return",O(f,n));case 13:case"end":return i.stop()}}),c)})))},j=function(t){if(/^.+\.eth$/.exec(t))return!0;try{return u.b.getAddress(t),!0}catch(e){return!1}},T=function(t){return null!==t&&Object(d.B)(t.txid,{length:32,prefix:!0})},E=function(t,e){return Object(d.r)(p.defaultAbiCoder.encode(t,e))}},50:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return v}));var r=n(1),a=n.n(r),i=n(18),s=n.n(i),c=n(259),o=n.n(c),u=n(129),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},d=1e3,h=60*d,f=function(t){return p(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1*d,r=arguments.length>3?arguments[3]:void 0;return p(void 0,void 0,void 0,a.a.mark((function i(){var s,c,o,p;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e&&"number"===typeof e&&!isNaN(e)){a.next=2;break}throw Object(u.e)(new Error("Invalid retry amount '".concat(e,"'.")),u.b.PARAMETER_ERROR);case 2:c=new Set,o=0;case 4:if(!(-1===e||o<e)){a.next=23;break}return a.prev=5,a.next=8,t();case 8:return a.abrupt("return",a.sent);case 11:if(a.prev=11,a.t0=a.catch(5),p=Object(u.c)(a.t0),c.add(p),s=a.t0||s,!(o<e-1||-1===e)){a.next=20;break}return a.next=19,f(n);case 19:r&&r.warn(a.t0);case 20:o++,a.next=4;break;case 23:throw s?s.message=Array.from(c).join(", "):s=new Error(Array.from(c).join(", ")),s;case 25:case"end":return a.stop()}}),i,null,[[5,11]])})))},b=function(t){return null!==t&&void 0!==t},y=function(t){return function(){try{var e=t.apply(void 0,arguments);return void 0===e||!0===e}catch(n){return!1}}},m=function(e,n){if(e.length>n)throw new Error("byte array longer than desired length (".concat(String(e.length)," > ").concat(String(n),")"));if(e.length<n){var r=n-e.length,a=Array.from(new Array(r)).map((function(t){return 0}));e=t.concat([t.from(a),e])}return e},v=function(e,n){var r;if(t.isBuffer(e))r=e;else{var a=new s.a(e).toString(16);a=a.length%2?"0"+a:a,r=t.from(a,"hex")}r=m(r,n);var i=new o.a(s.a.isBigNumber(e)?e.toFixed():e).toArrayLike(t,"be",n);if(!r.equals(i)||r.length!==n)throw new Error("Failed to convert to ".concat(String(n),"-length bytes - got ").concat(String(r.toString("hex"))," (").concat(String(r.length)," bytes), expected ").concat(i.toString("hex")," (").concat(String(i.length)," bytes)"));return r}}).call(this,n(31).Buffer)},55:function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return d})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return m})),n.d(e,"f",(function(){return v}));var r=n(81),a=n(3),i=n(263),s=n(264),c=n(265),o=n(266),u=n(267),p=u,d=o,h=i,f=c,l=s,b=function(t,e){var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error('No ABI entry found for "'.concat(e,'".'));return n},y=function(e){var n=e.inputs&&e.inputs.length>0?e.inputs.map((function(t){return t.type})).join(","):"",r="".concat(e.name,"(").concat(n,")");return Object(a.C)(t.from(r))},m=function(t,e){return new r.a(e,p,t)},v=function(t,e){return new r.a(e,l,t)}}).call(this,n(31).Buffer)},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(3),a=n(160),i=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},s=function(t,e){if(!e){var n=t[r.j.Mainnet]||t[r.j.Testnet]||t[r.j.Devnet];if(!n)throw new Error("Must provide network.");return n}var i;if(!(i=e&&Object(a.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or an EvmNetworkConfig object."));return i}},61:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r=n(43),a=n(16),i=n(1),s=n.n(i),c=n(5),o=n(18),u=n.n(o),p=n(262),d=n.n(p),h=n(205),f=n(81),l=n(112),b=n(3),y=n(55),m=n(114),v=n(104),g=n(48),x=n(41),O=n(58),w=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},j=function e(n,i){var o=this,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(this,e),this.assets={},this.getRenAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getMintGateway=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockGateway=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.validateAddress=g.i,this.validateTransaction=g.j,this.addressExplorerLink=function(t){return o.explorer.address(t)},this.transactionHash=function(t){return Object(b.g)(Object(b.q)(t.txid))},this.transactionExplorerLink=function(t){return o.explorer.transaction(o.transactionHash(t))},this.withProvider=function(t){if(t.signer||t.provider){if(o.provider=t.provider||o.provider,o.signer=t.signer||o.signer,o.signer)try{o.signer.connect(o.provider)}catch(n){}}else{var e=t._isProvider?t:new h.a.Web3Provider(t);o.provider=e,o.signer=e.getSigner()}return o},this.getOutputPayload=function(t,e,n){return w(o,void 0,void 0,s.a.mark((function r(){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type)).getPayload){r.next=3;break}throw Object(b.L)(new Error("'".concat(n.type,"' payload type can only be used as a setup payload.")),b.i.PARAMETER_ERROR);case 3:return r.abrupt("return",a.getPayload(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler));case 4:case"end":return r.stop()}}),r,this)})))},this.isLockAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(this.assets).includes(t)&&t!==this.network.asset){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,this.getLockAsset(t);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})))})),this.isDepositAsset=function(t){return t===o.network.asset},this.isMintAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRenAsset(t);case 3:return e.t0=e.sent,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 8:return e.prev=8,e.t2=e.catch(0),e.t2 instanceof Error&&/(Empty address returned)|(Asset not supported on mint-chain)/.exec(String((e.t2||{}).message))||console.warn(e.t2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})))})),this.assetDecimals=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.network.asset){e.next=2;break}return e.abrupt("return",this.network.network.nativeCurrency.decimals);case 2:return e.next=4,this.isLockAsset(t);case 4:if(!e.sent){e.next=10;break}return e.next=7,this.getLockAsset(t);case 7:case 15:n=e.sent,e.next=19;break;case 10:return e.next=12,this.isMintAsset(t);case 12:if(!e.sent){e.next=18;break}return e.next=15,this.getRenAsset(t);case 18:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 19:return r={constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},a=new f.a(n,[r],this.provider),e.next=23,a.decimals();case 23:return i=e.sent,e.abrupt("return",new u.a(i.toString()).toNumber());case 25:case"end":return e.stop()}}),e,this)})))}),{expiry:!1}),this.transactionConfidence=function(t){return w(o,void 0,void 0,s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.txid){e.next=2;break}throw new Error("Unable to fetch transaction confidence, transaction hash not set.");case 2:return e.t0=u.a,e.next=5,this.provider.getBlockNumber();case 5:return e.t1=e.sent.toString(),n=new e.t0(e.t1),e.next=9,this.provider.getTransactionReceipt(this.transactionHash(t));case 9:if(null!==(r=e.sent)){e.next=12;break}throw Object(b.L)(new Error("".concat(t.chain," transaction not found: ").concat(t.txidFormatted)),b.i.TRANSACTION_NOT_FOUND);case 12:if(!r||!r.blockNumber){e.next=17;break}return a=new u.a(r.blockNumber.toString()),e.abrupt("return",n.minus(a).plus(1));case 17:return e.abrupt("return",new u.a(0));case 18:case"end":return e.stop()}}),e,this)})))},this.getBalance=function(t,e){return w(o,void 0,void 0,s.a.mark((function n(){var r,a,i,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=9;break}if(this.signer){n.next=3;break}throw new Error("Must connect signer or provider address.");case 3:if(n.t0=e,n.t0){n.next=8;break}return n.next=7,this.signer.getAddress();case 7:n.t0=n.sent;case 8:e=n.t0;case 9:if(t!==this.network.asset){n.next=15;break}return n.t1=u.a,n.next=13,this.provider.getBalance(e);case 13:return n.t2=n.sent.toString(),n.abrupt("return",new n.t1(n.t2));case 15:return r={constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},n.next=18,this.isMintAsset(t);case 18:if(!n.sent){n.next=24;break}return n.next=21,this.getRenAsset(t);case 21:a=n.sent,n.next=33;break;case 24:return n.next=26,this.isLockAsset(t);case 26:if(!n.sent){n.next=32;break}return n.next=29,this.getLockAsset(t);case 29:a=n.sent,n.next=33;break;case 32:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 33:return i=new f.a(a,[r],this.provider),n.next=36,i.balanceOf(e);case 36:return n.next=38,n.sent;case 38:return c=n.sent,n.abrupt("return",new u.a(c.toString()));case 40:case"end":return n.stop()}}),n,this)})))},this.lookupOutput=function(t,e,n,r,a){return w(o,void 0,void 0,s.a.mark((function n(){var i,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.nHash,t!==b.f.Release){n.next=7;break}return n.next=4,Object(g.c)(this.network,this.provider,e,i,this.network.logRequestLimit);case 4:c=n.sent,n.next=10;break;case 7:return n.next=9,Object(g.b)(this.network,this.provider,e,i,void 0,this.network.logRequestLimit);case 9:c=n.sent;case 10:if(!c){n.next=12;break}return n.abrupt("return",new b.b({chainTransaction:c,chain:this,target:a}));case 12:return n.abrupt("return",void 0);case 13:case"end":return n.stop()}}),n,this)})))},this.getOutputTx=function(t,e,n,r,a){return w(o,void 0,void 0,s.a.mark((function i(){var c,o,u,p,d=this;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(c=r(),o=c.nHash,u=c.sigHash,t!==b.f.Release){i.next=7;break}return i.next=4,Object(g.c)(this.network,this.provider,e,o,this.network.logRequestLimit);case 4:p=i.sent,i.next=10;break;case 7:return i.next=9,Object(g.b)(this.network,this.provider,e,o,u,this.network.logRequestLimit);case 9:p=i.sent;case 10:if(!p){i.next=12;break}return i.abrupt("return",new b.b({chainTransaction:p,chain:this,target:a}));case 12:if(this.signer){i.next=14;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 14:return i.abrupt("return",new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return d.getEVMParams(e,t,r())}}));case 15:case"end":return i.stop()}}),i,this)})))},this.getInputTx=function(t,e,n,r,a,i){return w(o,void 0,void 0,s.a.mark((function c(){var o,u=this;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.signer){s.next=2;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 2:return o=function(e){if(t===b.d.Burn){var n=Object(y.e)(y.d,"LogBurn");Object(g.a)(e.logs,n).map((function(t){return Object(g.d)(u.chain,t)})).map(i)}else{var r=Object(y.e)(y.c,"LogLockToChain");Object(g.a)(e.logs,r).map((function(t){return Object(g.e)(u.chain,t)})).map(i);var a=Object(y.e)(y.a,"LogTransferred");Object(g.a)(e.logs,a).map((function(t){return Object(g.f)(u.chain,t)})).map(i)}},s.abrupt("return",new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return u.getEVMParams(e,t,r())},onReceipt:o}));case 4:case"end":return s.stop()}}),c,this)})))},this.getInputSetup=function(t,e,n,r){return w(o,void 0,void 0,s.a.mark((function a(){var i,c,o,u,p,d,h=this;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((i=this.getPayloadHandler(n.type))&&i.getSetup){a.next=3;break}return a.abrupt("return",{});case 3:if(this.signer){a.next=5;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 5:return a.next=7,i.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,r()),this.getPayloadHandler);case 7:for(c=a.sent,o={},u=0,p=Object.keys(c);u<p.length;u++)d=p[u],o[d]=new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:c[d],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return h.getEVMParams(t,e,r())}});return a.abrupt("return",o);case 11:case"end":return a.stop()}}),a,this)})))},this.getOutputSetup=function(t,e,n){return w(o,void 0,void 0,s.a.mark((function r(){var a,i,c,o,u,p,d=this;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type))&&a.getSetup){r.next=3;break}return r.abrupt("return",{});case 3:if(this.signer){r.next=5;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 5:for(i=a.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler),c={},o=0,u=Object.keys(i);o<u.length;o++)p=u[o],c[p]=new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:i[p],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return d.getEVMParams(t,e,{})}});return r.abrupt("return",c);case 9:case"end":return r.stop()}}),r,this)})))},this.getPayloadHandler=function(t){switch(t){case"approval":return x.c;case"contract":return x.d;case"account":return x.b}throw new Error("Unknown payload type ".concat(t))},this.createGatewayAddress=function(e,n,r,a){if(n.chain!==o.chain)throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(o.chain,"."));var i=new d.a.ec("secp256k1"),s=i.keyFromPublic(r),c=i.keyFromPrivate(a),u=i.keyFromPublic(s.getPublic().add(c.getPublic()));return Object(l.computeAddress)(t.from(u.getPublic(!1,"hex"),"hex"))},this.getEVMParams=function(e,n,r){var i;return i={},Object(a.a)(i,x.a.EVM_TRANSACTION_TYPE,n),Object(a.a)(i,x.a.EVM_TOKEN_ADDRESS,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockAsset(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getRenAsset(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_TOKEN_DECIMALS,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.assetDecimals(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_ACCOUNT,(function(){return w(o,void 0,void 0,s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.signer){t.next=2;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 2:return t.abrupt("return",null===(e=this.signer)||void 0===e?void 0:e.getAddress());case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_GATEWAY,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockGateway(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getMintGateway(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_ASSET,e),Object(a.a)(i,x.a.EVM_AMOUNT,Object(b.y)(r.amount)?r.amount.toString():void 0),Object(a.a)(i,x.a.EVM_NHASH,r.nHash),Object(a.a)(i,x.a.EVM_PHASH,r.pHash),Object(a.a)(i,x.a.EVM_SIGNATURE,r.signature),Object(a.a)(i,x.a.EVM_SIGNATURE_R,Object(b.y)(r.signature)?r.signature.slice(0,32):void 0),Object(a.a)(i,x.a.EVM_SIGNATURE_S,Object(b.y)(r.signature)?r.signature.slice(32,64):void 0),Object(a.a)(i,x.a.EVM_SIGNATURE_V,Object(b.y)(r.signature)?r.signature.slice(64,65)[0]:void 0),Object(a.a)(i,x.a.EVM_TO_CHAIN,r.toChain),Object(a.a)(i,x.a.EVM_TO_ADDRESS_BYTES,Object(b.y)(r.toPayload)?t.from(r.toPayload.to):void 0),Object(a.a)(i,x.a.EVM_TO_ADDRESS,Object(b.y)(r.toPayload)?r.toPayload.to:void 0),Object(a.a)(i,x.a.EVM_TO_PAYLOAD,Object(b.y)(r.toPayload)?r.toPayload.payload:void 0),Object(a.a)(i,x.a.EVM_GATEWAY_DEPOSIT_ADDRESS,r.gatewayAddress),i},this.Account=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.amount,r=e.convertToWei;if(Object(b.m)("BigNumber | string | number | undefined",{amount:n}),Object(b.m)("boolean | undefined",{convertToWei:r}),Object(b.y)(n)){if((t=u.a.isBigNumber(n)?n:new u.a(n.toString())).isNaN())throw Object(b.L)(new Error("Invalid numeric-value 'amount'. (amount: ".concat(n.toString(),")")),b.i.PARAMETER_ERROR);if(!r&&0!==t.decimalPlaces())throw Object(b.L)(new Error("Amount must be provided in Wei as an integer, or 'convertToWei' must be set to 'true'. (amount: ".concat(n.toString(),")")),b.i.PARAMETER_ERROR)}return{chain:o.chain,type:"account",params:{amount:t?t.toFixed():void 0,convertToWei:r}}},this.Contract=function(t){return{chain:o.chain,type:"contract",params:{to:t.to,method:t.method,values:[].concat(Object(r.a)(t.values),[{name:"amount",type:"uint256",value:x.a.EVM_AMOUNT,notInPayload:!0},{name:"nHash",type:"bytes32",value:x.a.EVM_NHASH,notInPayload:!0},{name:"signature",type:"bytes",value:x.a.EVM_SIGNATURE,notInPayload:!0}]),txConfig:t.txConfig}}},this.network=n,this.chain=this.network.selector,this.explorer=Object(O.a)(this.network.network.blockExplorerUrls[0]),this.logger=p.logger||b.F,this.provider=void 0,this.withProvider(i)};j.chain="Ethereum"}).call(this,n(31).Buffer)},68:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return y}));var r,a,i=n(1),s=n.n(i),c=n(5),o=n(16),u=n(18),p=n.n(u),d=n(3),h=n(170),f=n(278),l=n(171),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.FetchingStatus="fetching-status",t.Detected="detected",t.Confirmed="confirmed",t.Signed="signed",t.Reverted="reverted",t.Submitted="submitted"}(a||(a={}));r={},Object(o.a)(r,a.Detected,0),Object(o.a)(r,a.Confirmed,1),Object(o.a)(r,a.Signed,2),Object(o.a)(r,a.Reverted,3),Object(o.a)(r,a.Submitted,4);var y=function e(n,r,i,o,u,y){var m=this;Object(c.a)(this,e),this._renTxSubmitted=!1,this._initialize=function(){return b(m,void 0,void 0,s.a.mark((function e(){var n,r,a,i,c,o,u,h,b,y,m,v,g,x=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({asset:this.params.asset,fromChain:this.fromChain,toChain:this.toChain});case 2:return n=e.sent,r=n.inputType,a=n.outputType,i=n.selector,this.inputType=r,this.outputType=a,this.selector=i,c=this.params,o=c.asset,u=c.nonce,h=c.fromTx,b=c.to,e.next=12,this.toChain.getOutputPayload(o,this.outputType,b);case 12:if(y=e.sent,m=Object(d.v)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),this.pHash=Object(d.u)(y.payload),v=u?t.isBuffer(u)?u:Object(d.q)(u):Object(d.H)(0,32),this.gHash=Object(d.s)(this.pHash,m,y.toBytes,v),g=this.params.shard?Object(d.q)(this.params.shard.gPubKey):t.from([]),{selector:this.selector,gHash:this.gHash,gPubKey:g,nHash:this.nHash,nonce:v,output:h,amount:h.amount,payload:y.payload,pHash:this.pHash,to:y.to},this.in){e.next=28;break}return e.t0=d.b,e.t1=this.params.fromTx,e.t2=this.fromChain,e.next=25,this.provider.getConfirmationTarget(this.fromChain.chain);case 25:e.t3=e.sent,e.t4={chainTransaction:e.t1,chain:e.t2,target:e.t3},this.in=new e.t0(e.t4);case 28:if(this.renVM=new f.a(this.provider,this.selector,{txid:Object(d.q)(this.params.fromTx.txid),txindex:new p.a(this.params.fromTx.txindex),amount:new p.a(this.params.fromTx.amount),payload:y.payload,phash:this.pHash,to:y.to,nonce:v,nhash:this.nHash,gpubkey:g,ghash:this.gHash},this.onSignatureReady),this.hash=this.renVM._hash,this.renVM.eventEmitter.on("status",(function(t){x.queryTxResult=t.response})),e.t5=Object(d.z)(this.toChain),!e.t5){e.next=36;break}return e.next=35,this.toChain.isDepositAsset(this.params.asset);case 35:e.t5=e.sent;case 36:if(!e.t5){e.next=40;break}this.out=new d.b({chain:this.toChain,target:0}),e.next=47;break;case 40:if(!Object(d.x)(this.toChain)){e.next=46;break}return e.next=43,this.toChain.getOutputTx(this.outputType,this.params.asset,this.params.to,(function(){return{amount:x.queryTxResult&&x.queryTxResult.tx.out?x.queryTxResult.tx.out.amount:void 0,nHash:x.nHash,sHash:Object(d.C)(t.from(x.selector)),pHash:x.pHash,sigHash:x.queryTxResult&&x.queryTxResult.tx.out?x.queryTxResult.tx.out.sighash:void 0,signature:x.queryTxResult&&x.queryTxResult.tx.out?x.queryTxResult.tx.out.sig:void 0}}),1);case 43:this.out=e.sent,e.next=47;break;case 46:throw new Error("Error setting 'out' transaction submitter.");case 47:return e.abrupt("return",this);case 48:case"end":return e.stop()}}),e,this)})))},this.queryTx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return b(m,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.queryTxResult||this.queryTxResult.txStatus!==d.l.TxStatusDone){e.next=2;break}return e.abrupt("return",this.queryTxResult);case 2:return e.next=4,this.provider.queryTx(this.hash,t);case 4:return n=e.sent,this.queryTxResult=n,n.tx.out&&n.tx.out.revert&&n.tx.out.revert.length>0&&n.tx.out.sig&&n.tx.out.sig.length>0&&this.onSignatureReady(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))},this.fetchStatus=function(t){return b(m,void 0,void 0,s.a.mark((function e(){var n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){return b(r,void 0,void 0,s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryTx(1);case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e=null;case 9:if(t.prev=9,void 0===(this.out&&this.out.status)){t.next=13;break}return t.abrupt("return",a.Submitted);case 13:t.next=17;break;case 15:t.prev=15,t.t1=t.catch(9);case 17:if(t.prev=17,void 0!==e){t.next=24;break}return t.next=21,this.queryTx(1);case 21:t.t2=t.sent,t.next=25;break;case 24:t.t2=e;case 25:if(!(e=t.t2)||e.txStatus!==d.l.TxStatusDone){t.next=33;break}if(!e.tx.out||!e.tx.out.revert||""===e.tx.out.revert){t.next=32;break}this.status=a.Reverted,this.revertReason=e.tx.out.revert.toString(),t.next=33;break;case 32:return t.abrupt("return",a.Signed);case 33:t.next=37;break;case 35:t.prev=35,t.t3=t.catch(17);case 37:if(t.prev=37,!(Object(d.y)(this.in.status.confirmations)&&this.in.status.confirmations>=this.in.status.target)){t.next=40;break}return t.abrupt("return",a.Confirmed);case 40:t.next=44;break;case 42:t.prev=42,t.t4=t.catch(37);case 44:return t.abrupt("return",a.Detected);case 45:case"end":return t.stop()}}),t,this,[[0,6],[9,15],[17,35],[37,42]])})))},!t){e.next=18;break}case 2:return e.prev=3,e.next=6,n();case 6:this.status=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),this._config.logger.error(e.t0),e.next=14,Object(d.G)(this._config.networkDelay);case 14:e.next=2;break;case 16:e.next=21;break;case 18:return e.next=20,n();case 20:this.status=e.sent;case 21:return e.abrupt("return",this.status);case 22:case"end":return e.stop()}}),e,this,[[3,9]])})))},this.onSignatureReady=function(t){m.queryTxResult=t;var e=t.tx;if(e.out&&e.out.revert&&""!==e.out.revert)return m.status=a.Reverted,void(m.revertReason=e.out.revert);if(m.status=a.Signed,e.out&&e.out.txid&&e.out.txid.length>0){var n=Object(d.I)(e.out.txid),r=e.out.txindex.toFixed();m.out.setTransaction({chain:m.toChain.chain,txid:n,txindex:r,txidFormatted:m.toChain.transactionHash({txid:n,txindex:r})})}},this.provider=n,this.params=o,this._config=Object.assign(Object.assign({},h.a),y),this.fromChain=r,this.toChain=i,this.status=a.FetchingStatus,this.hash="";var v=Object(d.y)(o.nonce)?Object(d.q)(o.nonce):Object(d.H)(0,32);this.nHash=Object(d.t)(v,Object(d.q)(o.fromTx.txid),o.fromTx.txindex),this.in=u||void 0,this.selector=void 0,this.out=void 0,this.pHash=void 0,this.gHash=void 0,this.renVM=void 0}}).call(this,n(31).Buffer)},78:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r=n(59),a=n(1),i=n.n(a),s=n(5),c=n(18),o=n.n(c),u=n(128),p=n.n(u),d=n(3),h=n(17),f=n(260),l=n(125),b=n(37),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},m=function e(n){var a=this;Object(s.a)(this,e),this.assets={},this.configMap={},this.api=new h.a,this.withAPI=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.priority,r=void 0===n?0:n;return a.api.withAPI(t,{priority:r}),a},this.getOutputPayload=function(e,n,r){return a.assertAssetIsSupported(e),{to:r.address,toBytes:p.a.decode(r.address),payload:t.from([])}},this.addressExplorerLink=function(t){return a.network.explorer.address(t)},this.transactionExplorerLink=function(t){return a.network.explorer.transaction(a.transactionHash(t))},this.getBalance=function(t,e){return y(a,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.assertAssetIsSupported(t),this.validateAddress(e)){n.next=3;break}throw new Error("Invalid address ".concat(e,"."));case 3:return n.abrupt("return",new o.a(0));case 4:case"end":return n.stop()}}),n,this)})))},this.encodeAddress=p.a.encode,this.validateAddress=function(t){return Object(b.f)(t,a.network.nativeAsset.symbol,a.network.isTestnet?"testnet":"prod")},this.transactionHash=function(t){return Object(d.q)(t.txid).reverse().toString("hex")},this.validateTransaction=function(t){return 32===Object(d.q)(t.txid).length&&!new o.a(t.txindex).isNaN()},this.isLockAsset=function(t){return t===a.network.nativeAsset.symbol},this.isDepositAsset=function(t){return a.assertAssetIsSupported(t),!0},this.assertAssetIsSupported=function(t){if(!a.isLockAsset(t))throw new Error("Asset ".concat(t," not supported on ").concat(a.chain,"."))},this.assetDecimals=function(t){return a.assertAssetIsSupported(t),8},this.watchForDeposits=function(t,e,n,r,s,c){return y(a,void 0,void 0,i.a.mark((function a(){var s=this;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.chain===this.chain){a.next=2;break}throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(this.chain,"."));case 2:return this.assertAssetIsSupported(t),a.prev=3,a.next=6,Object(d.J)((function(){return y(s,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.fetchTXs(n));case 1:case"end":return t.stop()}}),t,this)})))}),2);case 6:a.sent.map((function(t){return y(s,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({chain:this.chain,txid:Object(d.I)(Object(d.r)(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount}));case 1:case"end":return e.stop()}}),e,this)})))})),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(3);case 12:if(!c()){a.next=15;break}return a.abrupt("return");case 15:return a.prev=15,a.next=18,this.api.fetchUTXOs(n);case 18:a.sent.map((function(t){return y(s,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({chain:this.chain,txid:Object(d.I)(Object(d.r)(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount}));case 1:case"end":return e.stop()}}),e,this)})))})),a.next=25;break;case 22:a.prev=22,a.t1=a.catch(15),console.error(a.t1);case 25:return a.next=27,Object(d.G)(15*d.k);case 27:a.next=12;break;case 29:case"end":return a.stop()}}),a,this,[[3,10],[15,22]])})))},this.transactionConfidence=function(t){return y(a,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.fetchUTXO(this.transactionHash(t),t.txindex);case 2:if(n=e.sent,r=n.height){e.next=8;break}return e.abrupt("return",new o.a(0));case 8:return e.t0=o.a,e.next=11,this.api.fetchHeight();case 11:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",a.minus(r).plus(1));case 14:case"end":return e.stop()}}),e,this)})))},this.createGatewayAddress=function(t,e,n,r){if(e.chain!==a.chain)throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(a.chain,"."));return a.assertAssetIsSupported(t),a.encodeAddress(Object(f.a)(Object(b.c)(n),r,a.network.p2shPrefix))},this.Address=function(t){if(Object(d.m)("string",{address:t}),!a.validateAddress(t))throw Object(d.L)(new Error("Invalid ".concat(a.chain," address: ").concat(String(t))),d.i.PARAMETER_ERROR);return{chain:a.chain,address:t}},this.GatewayAddress=function(){return{chain:a.chain}},this.toSats=function(t){return new o.a(t).shiftedBy(8).decimalPlaces(0).toFixed()},this.fromSats=function(t){return new o.a(t).shiftedBy(-8).toFixed()};var c=Object(l.a)(n)?n:this.configMap[n];if(!c)throw"string"===typeof n?new Error("Unknown network ".concat(n,".")):new Error("Invalid network config.");this.network=c,this.chain=this.network.selector;var u,m=Object(r.a)(this.network.providers);try{for(m.s();!(u=m.n()).done;){var v=u.value;this.withAPI(v)}}catch(g){m.e(g)}finally{m.f()}};m.chain="Bitcoin",m.configMap={}}).call(this,n(31).Buffer)},82:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return f}));var r,a=n(1),i=n.n(a),s=n(5),c=n(27),o=n.n(c),u=n(18),p=n.n(u),d=n(17),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.BTC="BTC",t.LTC="LTC",t.ZEC="ZEC",t.DOGE="DOGE",t.DASH="DASH",t.BTCTEST="BTCTEST",t.LTCTEST="LTCTEST",t.ZECTEST="ZECTEST",t.DOGETEST="DOGETEST",t.DASHTEST="DASHTEST"}(r||(r={}));var f=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BTC;Object(s.a)(this,t),this.fetchHeight=function(){return h(e,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://sochain.com/api/v2/get_info/".concat(this.network),{timeout:d.b});case 2:return t.abrupt("return",t.sent.data.blocks.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return h(e,void 0,void 0,i.a.mark((function e(){var r,a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://sochain.com/api/v2/get_tx/".concat(this.network,"/").concat(t),e.next=3,o.a.get(r,{timeout:d.b});case 3:return a=e.sent,s=a.data.data,e.t0=p.a,e.next=8,this.fetchHeight();case 8:return e.t1=e.sent,c=new e.t0(e.t1),e.abrupt("return",Object(d.c)({txid:s.txid,amount:s.outputs[parseInt(n,10)].value.toString(),txindex:n,height:s.confirmations&&s.confirmations>0?c.minus(s.confirmations).plus(1).toFixed():null},8));case 11:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_unspent/".concat(this.network,"/").concat(t,"/",0),e.next=3,o.a.get(n,{timeout:d.b});case 3:return r=e.sent,e.t0=p.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(d.d)(r.data.data.txs.map((function(t){return{txid:t.txid,txindex:t.output_no.toString(),amount:t.value.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(d.f));case 10:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_received/".concat(this.network,"/").concat(t,"/",0),e.next=3,o.a.get(n,{timeout:d.b});case 3:return r=e.sent,e.t0=p.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(d.d)(r.data.data.txs.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.output_no.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(d.f));case 10:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://sochain.com/api/v2/send_tx/".concat(this.network),{tx_hex:t},{timeout:d.b});case 2:return n=e.sent,e.abrupt("return",n.data.data.txid);case 4:case"end":return e.stop()}}),e,this)})))},this.network=n}},85:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return h}));var r,a=n(59),i=n(1),s=n.n(i),c=n(5),o=n(27),u=n.n(o),p=n(17),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.BITCOIN="bitcoin",t.BITCOIN_CASH="bitcoin-cash",t.DOGECOIN="dogecoin",t.ZCASH="zcash",t.BITCOIN_TESTNET="bitcoin/testnet"}(r||(r={}));var h=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BITCOIN;Object(c.a)(this,t),this.endpoint=function(){return"https://api.blockchair.com/".concat(e.network)},this.fetchHeight=function(){return d(e,void 0,void 0,s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpoint(),"/stats"),t.next=3,u.a.get("".concat(e),{timeout:p.b});case 3:return n=t.sent.data,t.abrupt("return",n.data.best_block_height.toString());case 5:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return d(e,void 0,void 0,s.a.mark((function e(){var r,a,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.endpoint(),"/dashboards/transaction/").concat(t),e.next=3,u.a.get("".concat(r),{timeout:p.b});case 3:if((a=e.sent.data).data[t]){e.next=6;break}throw new Error("Transaction not found.");case 6:if(i=a.data[t],0!==a.context.state){e.next=14;break}return c="".concat(this.endpoint(),"/stats"),e.next=12,u.a.get(c,{timeout:p.b});case 12:o=e.sent.data,o.data.blocks-1;case 14:return e.abrupt("return",{txid:t,txindex:n,amount:i.outputs[parseInt(n,10)].value.toString(),height:i.transaction.block_id&&i.transaction.block_id>0?i.transaction.block_id.toString():null});case 15:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return d(e,void 0,void 0,s.a.mark((function e(){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=0,100"),e.next=3,u.a.get(n,{timeout:p.b});case 3:if(r=e.sent.data,0!==r.context.state){e.next=11;break}return a="".concat(this.endpoint(),"/stats"),e.next=9,u.a.get(a,{timeout:p.b});case 9:i=e.sent.data,i.data.blocks-1;case 11:return e.abrupt("return",r.data[t].utxo.map((function(t){return{txid:t.transaction_hash,amount:t.value.toString(),txindex:t.index.toString(),height:t.block_id&&t.block_id>0?t.block_id.toString():null}})).sort(p.f));case 12:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return d(e,void 0,void 0,s.a.mark((function e(){var r,i,c,o,d,h,f,l,b,y,m,v,g,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=").concat(n,",0"),e.next=3,u.a.get(r,{timeout:p.b});case 3:i=e.sent.data,c=i.data[t].transactions,o={},d=0;case 7:if(!(d<Math.ceil(c.length/10))){e.next=16;break}return h="".concat(this.endpoint(),"/dashboards/transactions/").concat(c.slice(10*d,10*(d+1)).join(",")),e.next=11,u.a.get(h,{timeout:p.b});case 11:f=e.sent.data,o=Object.assign(Object.assign({},o),f.data);case 13:d++,e.next=7;break;case 16:l=[],b=Object(a.a)(c);try{for(b.s();!(y=b.n()).done;)for(m=y.value,v=o[m],g=0;g<v.outputs.length;g++)(x=v.outputs[g]).recipient===t&&l.push({txid:v.transaction.hash,amount:x.value.toString(),txindex:g.toString(),height:x.block_id&&x.block_id>0?x.block_id.toString():null})}catch(s){b.e(s)}finally{b.f()}return e.abrupt("return",l.sort(p.f));case 20:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return d(e,void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/push/transaction"),e.next=3,u.a.post(n,{data:t},{timeout:p.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.data.transaction_hash);case 7:case"end":return e.stop()}}),e,this)})))},this.network=n}},94:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return u}));var r=n(39),a=n(50),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"0x"},n=e.prefix,r="number"===typeof t?t.toString(16):"string"===typeof t?t:t.toString("hex");return r.length%2===1&&(r="0"+r),r.substring(0,2)===n?r:"".concat(n).concat(r)},s=function(e){return Object(r.b)("string",{hex:e}),t.from(function(t){return Object(r.b)("string",{hex:t}),"0x"===t.substring(0,2)?t.slice(2):t}(e),"hex")},c=function(e){return Object(r.b)("string",{base64:e}),t.from(e,"base64")},o=function(e){return Object(r.b)("Buffer",{input:e}),(t.isBuffer(e)?t.from(e):s(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},u=(Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.from(e,"base64");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(a.toString("base64")===e)})),Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.from(e,"base64");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(o(a)===e)})),Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.prefix&&(Object(r.a)("0x"===e.slice(0,2)),e=e.slice(2));var a=t.from(e,"hex");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(a.toString("hex")===e)})))}).call(this,n(31).Buffer)}},[[403,1,2]]]);
//# sourceMappingURL=main.026a55bb.chunk.js.map