(this["webpackJsonpdemo-v3"]=this["webpackJsonpdemo-v3"]||[]).push([[0],{110:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"keccak256",(function(){return o})),n.d(e,"sha256",(function(){return c}));var r=n(116),a=n.n(r),s=n(196),i=n(39),o=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(i.assertType)("Buffer[]",{msg:n}),t.from(s.keccak256.buffer(t.concat(n)))},c=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(i.assertType)("Buffer[]",{msg:n}),a()("sha256").update(t.concat(n)).digest()}}.call(this,n(24).Buffer)},123:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"d",(function(){return y})),n.d(e,"a",(function(){return v}));var r,a,s=n(1),i=n.n(s),o=n(16),c=n(3),u=n(54);!function(t){t.ASSET_NOT_SUPPORTED="ASSET_NOT_SUPPORTED",t.NETWORK_ERROR="NETWORK_ERROR"}(r||(r={}));var d,p=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},f="0x"+"00".repeat(20);!function(t){t.MintGateway="Mint Gateway",t.LockGateway="Lock Gateway",t.RenAsset="Ren Asset",t.LockAsset="Lock Asset"}(d||(d={}));var h=(a={},Object(o.a)(a,d.MintGateway,"getMintGatewayBySymbol"),Object(o.a)(a,d.LockGateway,"getLockGatewayBySymbol"),Object(o.a)(a,d.RenAsset,"getRenAssetBySymbol"),Object(o.a)(a,d.LockAsset,"getLockAssetBySymbol"),a),l=function(t){return function(e,n,a){return p(void 0,void 0,void 0,i.a.mark((function s(){var o,d;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,o=Object(u.g)(n,e.addresses.GatewayRegistry),s.t0=c.w,s.next=5,o[h[t]](a);case 5:if(s.t1=s.sent,(d=s.t0.Ox.call(s.t0,s.t1))&&d!==f){s.next=9;break}throw new c.c("".concat(a," not supported on ").concat(e.selector," - unable to get ").concat(a," ").concat(t),r.ASSET_NOT_SUPPORTED);case 9:return s.abrupt("return",d);case 12:throw s.prev=12,s.t2=s.catch(0),s.t2 instanceof Error&&(s.t2.message="Error looking up ".concat(a," ").concat(t).concat(s.t2.message?": ".concat(String(s.t2.message)):"."),s.t2.code=r.NETWORK_ERROR),s.t2;case 16:case"end":return s.stop()}}),s,null,[[0,12]])})))}},m=l(d.MintGateway),b=l(d.LockGateway),y=l(d.RenAsset),v=l(d.LockAsset)},135:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(1),a=n.n(r),s=n(5),i=n(23),o=n.n(i),c=n(176),u=n.n(c),d=n(3),p=n(18),f=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},h=function t(e){var n=this;Object(s.a)(this,t),this.fetchHeight=function(){return f(n,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(this.url),{timeout:p.b});case 2:return t.abrupt("return",t.sent.data.bestHeight.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){return f(n,void 0,void 0,a.a.mark((function e(){var n,r,s,i=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/utxo/").concat(t),e.next=3,o.a.get(n,{httpsAgent:new u.a.Agent({rejectUnauthorized:!1}),timeout:p.b});case 3:return r=e.sent,s="string"===typeof r.data?JSON.parse(r.data):r.data,e.next=7,Promise.all(s.map((function(t){return{txid:t.txid,amount:d.w.isDefined(t.satoshis)?t.satoshis.toString():d.w.isDefined(t.amount)?Object(p.e)(t.amount,8).toFixed():void 0,txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})).map((function(t){return d.w.isDefined(t.amount)?t:i.fetchUTXO(t.txid,t.txindex)})));case 7:return e.abrupt("return",e.sent.sort(p.f));case 8:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return f(n,void 0,void 0,a.a.mark((function n(){var r,s;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,o.a.get(r,{timeout:p.b});case 3:return s=n.sent.data,n.abrupt("return",Object(p.c)({txid:t,amount:s.vout[parseInt(e,10)].value.toString(),txindex:e,height:s.blockheight&&s.blockheight>0?s.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return f(n,void 0,void 0,a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,o.a.post(n,{rawtx:t},{timeout:p.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},136:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f}));var r=n(5),a=n(8),s=n(1),i=n.n(s),o=(n(36),n(72),n(134)),c=n(3),u=n(55),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},p=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var a=0,s=n;a<s.length;a++){var i=s[a];t=Object.assign(Object.assign({},t),i),c.w.isDefined(t.value)&&(t.value=t.value.toString()),c.w.isDefined(t.gasPrice)&&(t.gasPrice=t.gasPrice.toString())}return t},f=function(){function t(e){var n=e.network,a=e.signer,s=e.chain,i=e.payload,o=e.target,u=e.getPayloadHandler,d=e.getParams,p=e.onReceipt,f=e.findExistingTransaction;Object(r.a)(this,t),this.network=n,this.signer=a,this.chain=s,this.payload=i,this.target=o,this.getPayloadHandler=u,this.getParams=d,this.onReceipt=p,this.findExistingTransaction=f,this.eventEmitter=Object(c.l)(),this.status={chain:s,status:c.a.Ready,confirmations:0,target:0}}return Object(a.a)(t,[{key:"updateStatus",value:function(t){return this.status=Object.assign(Object.assign({},this.status),t),this.eventEmitter.emit("status",this.status),this.status}},{key:"submit",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=c.w.newPromiEvent(this.eventEmitter);return d(t,void 0,void 0,i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.findExistingTransaction||!this.signer.provider){t.next=11;break}return t.next=3,this.findExistingTransaction();case 3:if(!(n=t.sent)){t.next=11;break}if(""!==n.txidFormatted){t.next=8;break}return this.updateStatus({status:c.a.Done,target:this.target,confirmations:this.target}),t.abrupt("return",this.status);case 8:return t.next=10,this.signer.provider.getTransaction(n.txidFormatted);case 10:this.tx=t.sent;case 11:return t.next=13,this.getPayloadHandler(this.payload.type).submit(this.network,this.signer,this.payload,this.getParams(),e,this.getPayloadHandler);case 13:return this.tx=t.sent,this.updateStatus({status:c.a.Confirming,transaction:Object(u.h)(this.chain,this.tx.hash),target:this.target,confirmations:this.tx.confirmations}),t.abrupt("return",this.status);case 16:case"end":return t.stop()}}),t,this)}))).then(n.resolve).catch(n.reject),n}},{key:"wait",value:function(t){var e=this,n=c.w.newPromiEvent(this.eventEmitter);return d(e,void 0,void 0,i.a.mark((function e(){var n,r,a,s,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status.status!==c.a.Ready){e.next=2;break}throw new Error('Must call ".submit" first.');case 2:t=c.w.isDefined(t)?t:this.target;case 3:if(!this.tx||!(this.tx.confirmations<t||this.onReceipt)){e.next=32;break}return e.prev=4,e.next=7,this.tx.wait(Math.min(this.tx.confirmations+1,t));case 7:n=e.sent,this.onReceipt&&(r=this.onReceipt,this.onReceipt=void 0,r(n)),a=this.tx.confirmations,this.tx.confirmations=n.confirmations,n.confirmations>a&&this.updateStatus(Object.assign(Object.assign({},this.status),{status:this.tx.confirmations<this.target?c.a.Confirming:c.a.Done,transaction:Object(u.h)(this.chain,this.tx.hash),target:this.target,confirmations:this.tx.confirmations})),e.next=30;break;case 14:if(e.prev=14,e.t0=e.catch(4),!c.c.isErrorWithCode(e.t0)){e.next=28;break}if(e.t0.code!==o.Logger.errors.TRANSACTION_REPLACED){e.next=25;break}return s=e.t0.replacement,d=this.tx,this.tx=s,this.updateStatus({status:c.a.Confirming,transaction:Object(u.h)(this.chain,s.hash),target:t,confirmations:s.confirmations,replaced:Object(u.h)(this.chain,d.hash)}),e.abrupt("continue",3);case 25:if(e.t0.code!==o.Logger.errors.CALL_EXCEPTION){e.next=28;break}throw this.updateStatus({status:c.a.Reverted,transaction:Object(u.h)(this.chain,this.tx.hash),target:t,confirmations:e.t0.receipt.confirmations,revertReason:e.t0.message}),e.t0;case 28:return console.error(e.t0),e.abrupt("continue",3);case 30:e.next=3;break;case 32:return this.status.status!==c.a.Done&&this.tx&&this.tx.confirmations>=this.target&&this.updateStatus({status:c.a.Done}),e.abrupt("return",this.status);case 34:case"end":return e.stop()}}),e,this,[[4,14]])}))).then(n.resolve).catch(n.reject),n}}]),t}()},137:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var r=n(5),a=n(8),s=n(41),i=n(251),o=function(t){return Object(s.e)(Object(s.e)(t)).slice(0,4)},c=function(){function e(){Object(r.a)(this,e),this.OP=i.a,this.script=t.from([])}return Object(a.a)(e,[{key:"addOp",value:function(e){return this.script=t.concat([this.script,t.from([e])]),this}},{key:"addData",value:function(e){return this.script=t.concat([this.script,t.from([e.length]),e]),this}},{key:"toBuffer",value:function(){return this.script}},{key:"toScriptHashOut",value:function(){return(new e).addOp(e.OP.OP_HASH160).addData(Object(s.c)(this.toBuffer())).addOp(e.OP.OP_EQUAL).toBuffer()}},{key:"toAddress",value:function(e){var n=Object(s.c)(this.toBuffer()),r=t.concat([e,n]);return t.concat([r,o(r)])}}]),e}();c.OP=i.a}).call(this,n(24).Buffer)},145:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var r=n(5),a=n(85),s=function t(){Object(r.a)(this,t)},i=function(){return new a.EventEmitter}},146:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.label&&!!t.selector&&!!t.nativeAsset&&!!t.p2shPrefix&&!!t.explorer&&!!t.providers}},152:function(t,e,n){"use strict";n.d(e,"a",(function(){return d.a})),n.d(e,"b",(function(){return b}));var r={};n.r(r),n.d(r,"unmarshalPackPrimitive",(function(){return p})),n.d(r,"unmarshalPackStruct",(function(){return f})),n.d(r,"unmarshalPackList",(function(){return h})),n.d(r,"unmarshalPackValue",(function(){return l})),n.d(r,"unmarshalTypedPackValue",(function(){return m}));var a=n(94),s=n(382),i=n(48),o=n(17),c=n.n(o),u=n(53),d=n(32),p=function(t,e){switch(t){case d.a.Bool:return e;case d.a.U8:case d.a.U16:case d.a.U32:case d.a.U64:case d.a.U128:case d.a.U256:return new c.a(e);case d.a.Str:return e;case d.a.Bytes:case d.a.Bytes32:case d.a.Bytes65:return Object(u.fromBase64)(e)}},f=function(t,e){var n,r={},a=Object(i.a)(t.struct);try{for(a.s();!(n=a.n()).done;){var s=n.value,o=Object.keys(s);if(0===o.length)throw new Error("Invalid struct member with no entries.");if(o.length>1)throw new Error("Invalid struct member with multiple entries.");var c=Object.keys(s)[0],u=s[c];if(e&&!e.hasOwnProperty(c))throw new Error("Missing pack value for key ".concat(c,"."));r[c]=l(u,e[c])}}catch(d){a.e(d)}finally{a.f()}return r},h=function(t,e){return e.map((function(e){return l(t.list,e)}))},l=function(t,e){if(Object(a.a)(t))return h(t,e);if(Object(a.b)(t))return f(t,e);if("string"===typeof t)return"nil"===t?null:p(t,e);var n;try{n=JSON.stringify(e)}catch(r){n=String(e)}throw n.length>20&&(n="".concat(n.slice(0,17),"...")),new Error("Unknown value type ".concat(String(t)).concat(t?"":" for value ".concat(n),"."))},m=function(t){var e=t.t,n=t.v;return l(e,n)},b={isPackStructType:a.b,isPackListType:a.a,marshal:s,unmarshal:r}},172:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var r,a=n(5),s=n(12),i=n(13),o=n(414);!function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.PARAMETER_ERROR="PARAMETER_ERROR",t.INTERNAL_ERROR="INTERNAL_ERROR",t.NETWORK_ERROR="NETWORK_ERROR",t.TRANSACTION_NOT_FOUND="TRANSACTION_NOT_FOUND"}(r||(r={}));var c=function(t){Object(s.a)(n,t);var e=Object(i.a)(n);function n(t,r){var s;return Object(a.a)(this,n),(s=e.call(this,t)).code=r,s}return n}(Object(o.a)(Error));c.isErrorWithCode=function(t){return t instanceof Error&&"string"===typeof t.code},c.from=function(t,e){return t.code=e,t}},173:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(3),a=function(e){var n=r.v.unmarshal.unmarshalTypedPackValue(e.out);return n&&n.sig&&t.isBuffer(n.sig)&&n.sig.length>0&&(n.sig=Object(r.t)(n.sig)),{version:parseInt(e.version),hash:e.hash,selector:e.selector,in:r.v.unmarshal.unmarshalTypedPackValue(e.in),out:n}}}).call(this,n(24).Buffer)},18:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return m})),n.d(e,"a",(function(){return v}));var r=n(48),a=n(1),s=n.n(a),i=n(5),o=n(8),c=n(17),u=n.n(c),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},p=3e4,f=function(t,e){var n=t.height?new u.a(t.height):null,r=e.height?new u.a(e.height):null;if(n){if(!r)return-1;if(!n.isEqualTo(r))return r.minus(n).toNumber()}else if(r)return 1;var a=new u.a(t.amount),s=new u.a(e.amount);if(a.isEqualTo(s))return s.minus(a).toNumber();if(t.txid!==e.txid)return t.txid<=e.txid?-1:1;var i=new u.a(t.txindex);return new u.a(e.txindex).minus(i).toNumber()},h=function(t,e){return new u.a(t).shiftedBy(e).decimalPlaces(0)},l=function(t,e){return Object.assign(Object.assign({},t),{amount:h(t.amount,e).toFixed()})},m=function(t,e){return t.map((function(t){return l(t,e)}))},b=function(t){if(void 0===t||null===t)throw new Error("Unexpected ".concat(String(t)," value."));return t},y=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.api&&void 0!==t.priority?t:{api:t,priority:e}},v=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.priority,c=void 0===o?0:o;Object(i.a)(this,t),this.fetchUTXOs=function(t,n){return d(e,void 0,void 0,s.a.mark((function e(){var r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXOs}),(function(e){return d(r,void 0,void 0,s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(e.fetchUTXOs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t,n){return d(e,void 0,void 0,s.a.mark((function e(){var r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchTXs}),(function(e){return d(r,void 0,void 0,s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(e.fetchTXs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.forEachAPI=function(t,n){return d(e,void 0,void 0,s.a.mark((function e(){var a,i,o,c,u,d,p,f,h,l,m,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.apis.map((function(t,e){return{api:t,index:e}})).filter((function(e){var n=e.api;return t(n.api)})).sort((function(t,e){var n=t.api,r=e.api;return n.priority!==r.priority?n.priority-r.priority:2*Math.random()-1})),a.length){e.next=3;break}throw new Error("No API available for call.");case 3:o=[],c=Object(r.a)(a),e.prev=5,c.s();case 7:if((u=c.n()).done){e.next=24;break}return d=u.value,p=d.api,f=d.index,e.prev=9,e.next=12,n(p.api);case 12:h=e.sent,l=Object(r.a)(o);try{for(l.s();!(m=l.n()).done;)b=m.value,this.apis[b].priority-=5}catch(s){l.e(s)}finally{l.f()}return e.abrupt("return",h);case 18:e.prev=18,e.t0=e.catch(9),o.push(f),i=i||e.t0;case 22:e.next=7;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(5),c.e(e.t1);case 29:return e.prev=29,c.f(),e.finish(29);case 32:throw i;case 33:case"end":return e.stop()}}),e,this,[[5,26,29,32],[9,18]])})))},this.apis=n.map((function(t){return y(t,c)}))}return Object(o.a)(t,[{key:"withAPI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.priority,r=void 0===n?0:n;return this.apis.push(y(t,r)),this}},{key:"fetchHeight",value:function(){return d(this,void 0,void 0,s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchHeight}),(function(t){return d(e,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(t.fetchHeight)());case 1:case"end":return e.stop()}}),e)})))})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"fetchUTXO",value:function(t,e){return d(this,void 0,void 0,s.a.mark((function n(){var r=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXO}),(function(n){return d(r,void 0,void 0,s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",b(n.fetchUTXO)(t,e));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"broadcastTransaction",value:function(t){return d(this,void 0,void 0,s.a.mark((function e(){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.broadcastTransaction}),(function(e){return d(n,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",b(e.broadcastTransaction)(t));case 1:case"end":return n.stop()}}),n)})))})));case 1:case"end":return e.stop()}}),e,this)})))}}]),t}()},193:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.addresses}},198:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),a={logLevel:r.e.Debug,logger:r.u,networkDelay:15*r.w.sleep.SECONDS}},199:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1),a=n.n(r),s=n(3),i=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},o=function(t){var e=t.asset,n=t.fromChain,r=t.toChain;return i(void 0,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.isLockAsset(e);case 2:if(!t.sent){t.next=12;break}if(Object(s.r)(n)){t.next=5;break}throw s.c.from(new Error("Cannot burn from non-contract chain ".concat(n.chain,".")),s.h.PARAMETER_ERROR);case 5:return t.next=7,n.isMintAsset(e);case 7:if(t.sent){t.next=9;break}throw s.c.from(new Error("Asset '".concat(e,"' is not supported on ").concat(n.chain,".")),s.h.PARAMETER_ERROR);case 9:return t.abrupt("return",{inputType:s.d.Burn,outputType:s.f.Release,selector:"".concat(e,"/from").concat(n.chain)});case 12:return t.next=14,n.isLockAsset(e);case 14:if(!t.sent){t.next=24;break}if(Object(s.r)(r)){t.next=17;break}throw s.c.from(new Error("Cannot mint to non-contract chain ".concat(r.chain,".")),s.h.PARAMETER_ERROR);case 17:return t.next=19,r.isMintAsset(e);case 19:if(t.sent){t.next=21;break}throw s.c.from(new Error("Asset '".concat(e,"' is not supported on ").concat(r.chain,".")),s.h.PARAMETER_ERROR);case 21:return t.abrupt("return",{inputType:s.d.Lock,outputType:s.f.Mint,selector:"".concat(e,"/to").concat(r.chain)});case 24:throw s.c.from(new Error("Burning and minting is not supported yet."),s.h.NOT_IMPLEMENTED);case 25:case"end":return t.stop()}}),t)})))}},207:function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return f}));var r,a=n(1),s=n.n(a),i=n(5),o=n(15),c=n(12),u=n(13),d=n(3);!function(t){t.SubmitGateway="ren_submitGateway",t.SubmitTx="ren_submitTx",t.QueryTx="ren_queryTx",t.QueryTxs="ren_queryTxs",t.QueryBlock="ren_queryBlock",t.QueryBlocks="ren_queryBlocks",t.QueryConfig="ren_queryConfig",t.QueryState="ren_queryState",t.QueryBlockState="ren_queryBlockState"}(r||(r={}));d.g.U256,d.g.Str,d.g.Bytes32;var p,f={struct:[{txid:d.g.Bytes},{txindex:d.g.U32},{amount:d.g.U256},{payload:d.g.Bytes},{phash:d.g.Bytes32},{to:d.g.Str},{nonce:d.g.Bytes32},{nhash:d.g.Bytes32},{gpubkey:d.g.Bytes},{ghash:d.g.Bytes32}]},h={struct:[{payload:d.g.Bytes},{phash:d.g.Bytes32},{to:d.g.Str},{nonce:d.g.Bytes32},{nhash:d.g.Bytes32},{gpubkey:d.g.Bytes},{ghash:d.g.Bytes32}]},l=n(23),m=n.n(l),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},y=function(t,e){return{id:1,jsonrpc:"2.0",method:t,params:e}},v=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.u;if(Object(i.a)(this,t),this.sendMessage=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:120*d.w.sleep.SECONDS;return b(n,void 0,void 0,s.a.mark((function n(){var i,o,c,u=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"===typeof(i=this.endpointOrProvider)){n.next=3;break}return n.abrupt("return",i.sendMessage(t,e,r,a));case 3:return o=y(t,e),this.logger.getLevel&&this.logger.getLevel()<=d.e.Debug&&this.logger.debug("[request]",JSON.stringify(o,null,"    ")),n.prev=5,n.next=8,d.w.tryNTimes((function(){return b(u,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.a.post(i,o,{timeout:a}));case 1:case"end":return t.stop()}}),t)})))}),r,1*d.w.sleep.SECONDS);case 8:if(200===(c=n.sent).status){n.next=11;break}throw this.responseError("Unexpected status code ".concat(String(c.status)," returned from node."),c);case 11:if(!c.data.error){n.next=13;break}throw new Error(c.data.error);case 13:if(void 0!==c.data.result){n.next=15;break}throw new Error("Empty result returned from node.");case 15:return this.logger.getLevel&&this.logger.getLevel()<=d.e.Debug&&this.logger.debug("[response]",JSON.stringify(c.data.result,null,"    ")),n.abrupt("return",c.data.result);case 19:throw n.prev=19,n.t0=n.catch(5),new Error(d.w.extractError(n.t0));case 22:case"end":return n.stop()}}),n,this,[[5,19]])})))},this.responseError=function(t,e){var n=new Error(t);return n.response=e,n},this.logger=r,"string"===typeof e&&-1===e.indexOf("://"))throw new Error("Invalid node URL without protocol: ".concat(e,"."));this.endpointOrProvider=e},g=n(16),x=(p={},Object(g.a)(p,d.i.Mainnet,"https://lightnode-mainnet.herokuapp.com"),Object(g.a)(p,d.i.Testnet,"https://lightnode-testnet.herokuapp.com"),Object(g.a)(p,d.i.Devnet,"https://lightnode-devnet.herokuapp.com/"),p),w=n(173),O=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},T=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.u;return Object(i.a)(this,n),(a=e.call(this,"string"!==typeof t?t:x[t]||t)).queryBlock=function(t,e){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessage(r.QueryBlock,{blockHeight:t},e);case 2:return n.abrupt("return",n.sent.block);case 3:case"end":return n.stop()}}),n,this)})))},a.queryBlocks=function(t,e,n){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryBlocks,{blockHeight:t,n:e},n);case 2:return a.abrupt("return",a.sent.blocks);case 3:case"end":return a.stop()}}),a,this)})))},a.submitGateway=function(t,e,n){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.sendMessage(r.SubmitGateway,{gateway:t,tx:e},n));case 1:case"end":return a.stop()}}),a,this)})))},a.submitTx=function(t,e){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.sendMessage(r.SubmitTx,{tx:t},e));case 1:case"end":return n.stop()}}),n,this)})))},a.queryTxs=function(t,e,n,i,c){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function a(){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryTxs,{tags:t,page:(e||0).toString(),pageSize:(n||0).toString(),txStatus:i},c);case 2:return a.abrupt("return",a.sent.txs.map((function(t){return Object(w.a)(t)})));case 3:case"end":return a.stop()}}),a,this)})))},a.queryConfig=function(t){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendMessage(r.QueryConfig,{},t));case 1:case"end":return e.stop()}}),e,this)})))},a.queryBlockState=d.w.memoize((function(t,e){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function n(){var a,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessage(r.QueryBlockState,{contract:t},e);case 2:return a=n.sent,i=a.state,n.abrupt("return",d.v.unmarshal.unmarshalTypedPackValue(i));case 5:case"end":return n.stop()}}),n,this)})))})),a.submitGatewayDetails=function(t,e,n){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function r(){var a,i,o,c,u,p,f,l,m,b;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.selector,i=e.gHash,o=e.gPubKey,c=e.nHash,u=e.nonce,p=e.payload,f=e.pHash,l=e.to,Object(d.k)("Buffer",{gHash:i,gPubKey:o,nHash:c,nonce:u,payload:p,pHash:f}),Object(d.k)("string",{to:l}),m={t:h,v:{ghash:d.w.toURLBase64(i),gpubkey:d.w.toURLBase64(o),nhash:d.w.toURLBase64(c),nonce:d.w.toURLBase64(u),payload:d.w.toURLBase64(p),phash:d.w.toURLBase64(f),to:l}},b={selector:a,version:"1",in:m},r.next=7,this.submitGateway(t,b,n);case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),r,this)})))},a.queryTx=function(t,e){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function n(){var a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(d.k)("string",{txHash:t}),n.prev=1,n.next=4,this.sendMessage(r.QueryTx,{txHash:t},e);case 4:a=n.sent,n.next=18;break;case 7:if(n.prev=7,n.t0=n.catch(1),!n.t0.message.match(/^invalid params: /)){n.next=13;break}throw d.c.from(n.t0,d.h.PARAMETER_ERROR);case 13:if(!n.t0.message.match(/not found$/)){n.next=17;break}throw d.c.from(n.t0,d.h.TRANSACTION_NOT_FOUND);case 17:throw d.c.from(n.t0,d.h.UNKNOWN_ERROR);case 18:return n.prev=18,n.abrupt("return",{tx:Object(w.a)(a.tx),txStatus:a.txStatus});case 22:throw n.prev=22,n.t1=n.catch(18),d.c.from(n.t1,d.h.INTERNAL_ERROR);case 25:case"end":return n.stop()}}),n,this,[[1,7],[18,22]])})))},a.selectShard=function(t){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.queryBlockState(t,5);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),d.c.from(new Error("Error fetching RenVM shards: ".concat(String(e.t0.message))),d.h.NETWORK_ERROR);case 9:if(n[t]){e.next=11;break}throw new Error("No RenVM block state found for ".concat(t,"."));case 11:if((r=n[t].shards[0].pubKey)&&0!==r.length){e.next=14;break}throw new Error("Unable to fetch RenVM public key for ".concat(t,"."));case 14:return Object(d.k)("Buffer",{pubKey:r}),e.abrupt("return",{gPubKey:d.w.toURLBase64(r)});case 16:case"end":return e.stop()}}),e,this,[[0,6]])})))},a.getNetwork=function(){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryConfig();case 2:return t.abrupt("return",t.sent.network);case 3:case"end":return t.stop()}}),t,this)})))},a.getConfirmationTarget=function(t){return O(Object(o.a)(a),void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendMessage(r.QueryConfig,{});case 2:return n=e.sent,e.abrupt("return",parseInt(n.confirmations[t],10));case 4:case"end":return e.stop()}}),e,this)})))},a.logger=c,a}return n}(v)},210:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(48),a=n(1),s=n.n(a),i=n(5),o=n(23),c=n.n(o),u=n(17),d=n.n(u),p=n(176),f=n.n(p),h=n(3),l=n(18),m=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},b=function t(e){var n=this;Object(i.a)(this,t),this.fetchHeight=function(){return m(n,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(this.url,"/sync"),{timeout:l.b});case 2:return t.abrupt("return",t.sent.data.height.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return m(n,void 0,void 0,s.a.mark((function n(){var r,a,i,o,u=this;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/addr/").concat(t,"/utxo"),n.next=3,c.a.get(r,{httpsAgent:new f.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:return a=n.sent,i="string"===typeof a.data?JSON.parse(a.data):a.data,n.t0=d.a,n.next=8,this.fetchHeight();case 8:return n.t1=n.sent,o=new n.t0(n.t1),n.next=12,Promise.all(i.filter((function(t){return 0===e||t.confirmations>=e})).map((function(t){return{txid:t.txid,txindex:t.vout.toString(),amount:h.w.isDefined(t.satoshis)?t.satoshis.toString():h.w.isDefined(t.amount)?Object(l.e)(t.amount,8).toFixed():void 0,height:t.confirmations&&t.confirmations>0?o.minus(t.confirmations).plus(1).toFixed():null}})).map((function(t){return h.w.isDefined(t.amount)?t:u.fetchUTXO(t.txid,t.txindex)})));case 12:return n.abrupt("return",n.sent.sort(l.f));case 13:case"end":return n.stop()}}),n,this)})))},this.fetchTXs=function(t){return m(n,void 0,void 0,s.a.mark((function e(){var n,a,i,o,u,d,p,h,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/txs/?address=").concat(t),e.next=3,c.a.get(n,{httpsAgent:new f.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:a=e.sent,i="string"===typeof a.data?JSON.parse(a.data):a.data,o=[],u=Object(r.a)(i.txs);try{for(u.s();!(d=u.n()).done;)for(p=d.value,h=0;h<p.vout.length;h++)(m=p.vout[h]).scriptPubKey.addresses.indexOf(t)>=0&&o.push({txid:p.txid,txindex:h.toString(),amount:Object(l.e)(parseFloat(m.value),8).toFixed(),height:p.blockheight&&p.blockheight>0?p.blockheight.toString():null})}catch(s){u.e(s)}finally{u.f()}return e.abrupt("return",o.sort(l.f));case 9:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return m(n,void 0,void 0,s.a.mark((function n(){var r,a;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,c.a.get(r,{timeout:l.b});case 3:return a=n.sent.data,n.abrupt("return",Object(l.c)({txid:t,amount:a.vout[parseInt(e,10)].value.toString(),txindex:e,height:a.blockheight&&a.blockheight>0?a.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return m(n,void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,c.a.post(n,{rawtx:t},{timeout:l.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},213:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(21),a=n(1),s=n.n(a),i=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},o=function(t){return i(void 0,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request("ChainHead");case 2:return n=e.sent,e.abrupt("return",n.Height);case 4:case"end":return e.stop()}}),e)})))},c=function(t,e,n,r,a){return i(void 0,void 0,void 0,s.a.mark((function o(){var c;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.request("StateListMessages",{Version:0,To:e,From:null,Nonce:0,Value:"0",GasPrice:"0",GasLimit:0,Method:0,Params:void 0},[],r);case 2:return c=o.sent,o.next=5,Promise.all((c||[]).map((function(e){return i(void 0,void 0,void 0,s.a.mark((function r(){return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",u(t,e["/"],n,a));case 1:case"end":return r.stop()}}),r)})))})));case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),o)})))},u=function(t,e,n,a){return i(void 0,void 0,void 0,s.a.mark((function i(){var o,c,u,d,p,f;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Promise.all([t.request("ChainGetMessage",{"/":e}),t.request("StateSearchMsg",{"/":e}).catch((function(){})),a?{Height:a}:t.request("ChainHead")]);case 2:return o=s.sent,c=Object(r.a)(o,3),u=c[0],d=c[1],p=c[2].Height,u.To=u.To.replace(/^f/,n),u.From=u.From.replace(/^f/,n),f={cid:e,amount:u.Value,params:u.Params||"",nonce:u.Nonce,confirmations:d?p-d.Height:0},s.abrupt("return",f);case 11:case"end":return s.stop()}}),i)})))}},251:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.OP_FALSE=0]="OP_FALSE",t[t.OP_0=0]="OP_0",t[t.OP_PUSHDATA1=76]="OP_PUSHDATA1",t[t.OP_PUSHDATA2=77]="OP_PUSHDATA2",t[t.OP_PUSHDATA4=78]="OP_PUSHDATA4",t[t.OP_1NEGATE=79]="OP_1NEGATE",t[t.OP_RESERVED=80]="OP_RESERVED",t[t.OP_TRUE=81]="OP_TRUE",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.OP_NOP=97]="OP_NOP",t[t.OP_VER=98]="OP_VER",t[t.OP_IF=99]="OP_IF",t[t.OP_NOTIF=100]="OP_NOTIF",t[t.OP_VERIF=101]="OP_VERIF",t[t.OP_VERNOTIF=102]="OP_VERNOTIF",t[t.OP_ELSE=103]="OP_ELSE",t[t.OP_ENDIF=104]="OP_ENDIF",t[t.OP_VERIFY=105]="OP_VERIFY",t[t.OP_RETURN=106]="OP_RETURN",t[t.OP_TOALTSTACK=107]="OP_TOALTSTACK",t[t.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",t[t.OP_2DROP=109]="OP_2DROP",t[t.OP_2DUP=110]="OP_2DUP",t[t.OP_3DUP=111]="OP_3DUP",t[t.OP_2OVER=112]="OP_2OVER",t[t.OP_2ROT=113]="OP_2ROT",t[t.OP_2SWAP=114]="OP_2SWAP",t[t.OP_IFDUP=115]="OP_IFDUP",t[t.OP_DEPTH=116]="OP_DEPTH",t[t.OP_DROP=117]="OP_DROP",t[t.OP_DUP=118]="OP_DUP",t[t.OP_NIP=119]="OP_NIP",t[t.OP_OVER=120]="OP_OVER",t[t.OP_PICK=121]="OP_PICK",t[t.OP_ROLL=122]="OP_ROLL",t[t.OP_ROT=123]="OP_ROT",t[t.OP_SWAP=124]="OP_SWAP",t[t.OP_TUCK=125]="OP_TUCK",t[t.OP_CAT=126]="OP_CAT",t[t.OP_SUBSTR=127]="OP_SUBSTR",t[t.OP_LEFT=128]="OP_LEFT",t[t.OP_RIGHT=129]="OP_RIGHT",t[t.OP_SIZE=130]="OP_SIZE",t[t.OP_INVERT=131]="OP_INVERT",t[t.OP_AND=132]="OP_AND",t[t.OP_OR=133]="OP_OR",t[t.OP_XOR=134]="OP_XOR",t[t.OP_EQUAL=135]="OP_EQUAL",t[t.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",t[t.OP_RESERVED1=137]="OP_RESERVED1",t[t.OP_RESERVED2=138]="OP_RESERVED2",t[t.OP_1ADD=139]="OP_1ADD",t[t.OP_1SUB=140]="OP_1SUB",t[t.OP_2MUL=141]="OP_2MUL",t[t.OP_2DIV=142]="OP_2DIV",t[t.OP_NEGATE=143]="OP_NEGATE",t[t.OP_ABS=144]="OP_ABS",t[t.OP_NOT=145]="OP_NOT",t[t.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",t[t.OP_ADD=147]="OP_ADD",t[t.OP_SUB=148]="OP_SUB",t[t.OP_MUL=149]="OP_MUL",t[t.OP_DIV=150]="OP_DIV",t[t.OP_MOD=151]="OP_MOD",t[t.OP_LSHIFT=152]="OP_LSHIFT",t[t.OP_RSHIFT=153]="OP_RSHIFT",t[t.OP_BOOLAND=154]="OP_BOOLAND",t[t.OP_BOOLOR=155]="OP_BOOLOR",t[t.OP_NUMEQUAL=156]="OP_NUMEQUAL",t[t.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",t[t.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",t[t.OP_LESSTHAN=159]="OP_LESSTHAN",t[t.OP_GREATERTHAN=160]="OP_GREATERTHAN",t[t.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",t[t.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",t[t.OP_MIN=163]="OP_MIN",t[t.OP_MAX=164]="OP_MAX",t[t.OP_WITHIN=165]="OP_WITHIN",t[t.OP_RIPEMD160=166]="OP_RIPEMD160",t[t.OP_SHA1=167]="OP_SHA1",t[t.OP_SHA256=168]="OP_SHA256",t[t.OP_HASH160=169]="OP_HASH160",t[t.OP_HASH256=170]="OP_HASH256",t[t.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",t[t.OP_CHECKSIG=172]="OP_CHECKSIG",t[t.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",t[t.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",t[t.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",t[t.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",t[t.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",t[t.OP_NOP1=176]="OP_NOP1",t[t.OP_NOP2=177]="OP_NOP2",t[t.OP_NOP3=178]="OP_NOP3",t[t.OP_NOP4=179]="OP_NOP4",t[t.OP_NOP5=180]="OP_NOP5",t[t.OP_NOP6=181]="OP_NOP6",t[t.OP_NOP7=182]="OP_NOP7",t[t.OP_NOP8=183]="OP_NOP8",t[t.OP_NOP9=184]="OP_NOP9",t[t.OP_NOP10=185]="OP_NOP10",t[t.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",t[t.OP_PUBKEY=254]="OP_PUBKEY",t[t.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"}(r||(r={}))},252:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(48),a=n(1),s=n.n(a),i=n(5),o=n(8),c=n(23),u=n.n(c),d=n(18),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},f=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.testnet,o=void 0!==a&&a,c=n.apiKey,f=void 0===c?void 0:c;Object(i.a)(this,t),this.fetchHeight=function(){return p(e,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.a.get(this.getAPIUrl("/blocks/tip/height"),{timeout:d.b});case 2:return t.abrupt("return",t.sent.data.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return p(e,void 0,void 0,s.a.mark((function e(){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(this.getAPIUrl("/tx/".concat(t)),{timeout:d.b});case 2:return r=e.sent.data,e.abrupt("return",{txid:t,amount:r.vout[parseInt(n,10)].value.toString(),txindex:n,height:r.status.confirmed?r.status.block_height.toString():null});case 4:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return p(e,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(this.getAPIUrl("/address/".concat(t,"/utxo")),{timeout:d.b});case 2:return n=e.sent,e.abrupt("return",n.data.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.vout.toString(),height:t.status.confirmed?t.status.block_height.toString():null}})).sort(d.f));case 4:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return p(e,void 0,void 0,s.a.mark((function e(){var n,a,i,o,c,p,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(this.getAPIUrl("/address/".concat(t,"/txs")),{timeout:d.b});case 2:n=e.sent,a=[],i=Object(r.a)(n.data);try{for(i.s();!(o=i.n()).done;)for(c=o.value,p=0;p<c.vout.length;p++)(f=c.vout[p]).scriptpubkey_address===t&&a.push({txid:c.txid,amount:f.value.toString(),txindex:p.toString(),height:c.status.confirmed?c.status.block_height.toString():null})}catch(s){i.e(s)}finally{i.f()}return e.abrupt("return",a.sort(d.f));case 7:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return p(e,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(this.getAPIUrl("/tx"),t,{timeout:d.b});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})))},this.testnet=o,this.apiKey=f}return Object(o.a)(t,[{key:"getAPIUrl",value:function(t){return"https://blockstream.info/".concat(this.testnet?"testnet/":"","api").concat(t).concat(this.apiKey?"?key=".concat(this.apiKey):"")}}]),t}()},253:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(48),a=n(1),s=n.n(a),i=n(5),o=n(8),c=n(23),u=n.n(c),d=n(18),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.testnet,r=void 0!==n&&n;Object(i.a)(this,t),this.testnet=r}return Object(o.a)(t,[{key:"endpoint",value:function(){return this.testnet?"https://trest.bitcoin.com/v2/":"https://rest.bitcoin.com/v2/"}},{key:"endpointV2",value:function(){return this.testnet?"https://explorer-tbch.api.bitcoin.com/tbch/v1":"https://explorer.api.bitcoin.com/bch/v1"}},{key:"fetchHeight",value:function(){return p(this,void 0,void 0,s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpointV2(),"/blockchain/getBlockCount"),t.next=3,u.a.get(e,{timeout:d.b});case 3:return n=t.sent,t.abrupt("return",n.data.toString());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"fetchUTXO",value:function(t,e){return p(this,void 0,void 0,s.a.mark((function n(){var r,a,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.endpointV2(),"/tx/").concat(t),n.next=3,u.a.get(r,{timeout:d.b});case 3:return a=n.sent,i=a.data,n.abrupt("return",Object(d.c)({txid:t,amount:i.vout[parseInt(e,10)].value.toString(),txindex:e,height:i.blockheight&&i.blockheight>0?i.blockheight.toString():null},8));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"fetchUTXOs",value:function(t){return p(this,void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpointV2(),"/addr/").concat(t,"/utxo"),e.next=3,u.a.get(n,{timeout:d.b});case 3:return r=e.sent,e.abrupt("return",Object(d.d)(r.data.map((function(t){return{txid:t.txid,amount:t.amount.toString(),txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})),8).sort(d.f));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"fetchTXs",value:function(t){return p(this,void 0,void 0,s.a.mark((function e(){var n,a,i,o,c,p,f,h,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/address/transactions/").concat(t),e.next=3,u.a.get(n,{timeout:d.b});case 3:a=e.sent,i=a.data,o=[],c=Object(r.a)(i.txs);try{for(c.s();!(p=c.n()).done;)for(f=p.value,h=0;h<f.vout.length;h++)(l=f.vout[h]).scriptPubKey.addresses.indexOf(t)>=0&&o.push({txid:f.txid,amount:Object(d.e)(parseFloat(l.value),8).toFixed(),txindex:h.toString(),height:f.blockheight&&f.blockheight>0?f.blockheight.toString():null})}catch(s){c.e(s)}finally{c.f()}return e.abrupt("return",o.sort(d.f));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"broadcastTransaction",value:function(t){return p(this,void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/rawtransactions/sendRawTransaction"),e.next=3,u.a.post(n,{hexes:[t]},{timeout:d.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data[0]);case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()},262:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));n(21);var r=n(17),a=n.n(r),s=n(39),i=n(53),o=function(e){Object(s.assertType)("Buffer",{signature:e});var n=e.slice(0,32),r=e.slice(32,64),o=e.slice(64,65)[0],c=new a.a(Object(i.Ox)(r),16);o=(o||0)%27+27;var u=new a.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);return c.gt(u.div(2))&&(c=u.minus(c),o=27===o?28:27),t.concat([n,Object(i.toNBytes)(c,32),t.from([o])])}}).call(this,n(24).Buffer)},263:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"e",(function(){return p}));var r=n(39),a=n(53),s=n(110),i=n(152),o=s.keccak256,c=function(e){Object(r.assertType)("string",{selector:e});var n=t.from(e.replace(/\/.*To/,"/to"));return Object(s.keccak256)(n)},u=function(t,e,n,a){return Object(r.assertType)("Buffer",{pHash:t,nonce:a,sHash:e,to:n}),Object(s.keccak256)(t,e,n,a)},d=function(t,e,n){return Object(r.assertType)("Buffer",{nonce:t,txid:e}),Object(r.assertType)("string",{txindex:n}),Object(s.keccak256)(t,e,Object(a.toNBytes)(n,4))},p=function(t,e,n){return Object(r.assertType)("string",{version:t,selector:e}),Object(s.sha256)(i.b.marshal.marshalString(t),i.b.marshal.marshalString(e),i.b.marshal.marshalTypedPackValue(n))}}).call(this,n(24).Buffer)},288:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return b}));var r,a=n(16),s=n(5),i=n(12),o=n(13),c=n(3),u=n(93),d=n(252),p=n(90),f=n(86),h=n(41),l={label:"Bitcoin",selector:"Bitcoin",nativeAsset:{name:"Bitcoin",symbol:"BTC",decimals:8},explorer:Object(h.b)("https://live.blockcypher.com/btc/"),p2shPrefix:t.from([5]),providers:[new d.a,new u.a,{api:new p.a,priority:15}]},m={label:"Bitcoin Testnet",selector:"Bitcoin",nativeAsset:{name:"Testnet Bitcoin",symbol:"BTC",decimals:8},isTestnet:!0,explorer:Object(h.b)("https://live.blockcypher.com/btc-testnet/"),p2shPrefix:t.from([196]),providers:[new d.a({testnet:!0})]},b=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,Object(h.d)(n.configMap,t))).configMap=n.configMap,r.assets=n.assets,r}return n}(f.a);b.chain="Bitcoin",b.configMap=(r={},Object(a.a)(r,c.i.Mainnet,l),Object(a.a)(r,c.i.Testnet,m),Object(a.a)(r,c.i.Devnet,m),r),b.assets={BTC:"BTC"}}).call(this,n(24).Buffer)},289:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return g}));var r,a=n(16),s=n(5),i=n(8),o=n(12),c=n(13),u=n(180),d=n(151),p=n.n(d),f=n(3),h=n(253),l=n(93),m=n(86),b=n(41),y={label:"Bitcoin Cash",selector:"BitcoinCash",nativeAsset:{name:"Bitcoin Cash",symbol:"BCH",decimals:8},explorer:Object(b.b)("https://explorer.bitcoin.com/bch/"),p2shPrefix:t.from([5]),providers:[new h.a,new l.a(l.b.BITCOIN_CASH)]},v={label:"Bitcoin Cash Testnet",selector:"BitcoinCash",nativeAsset:{name:"Testnet Bitcoin Cash",symbol:"BCH",decimals:8},isTestnet:!0,explorer:Object(b.b)("https://explorer.bitcoin.com/tbch/"),p2shPrefix:t.from([196]),providers:[new h.a({testnet:!0})]},g=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,Object(b.d)(n.configMap,t))).configMap=n.configMap,r.assets=n.assets,r}return Object(i.a)(n,[{key:"validateAddress",value:function(t){return Object(u.isValidAddress)(t)&&this.network.isTestnet?Object(u.isTestnetAddress)(t):Object(u.isMainnetAddress)(t)}},{key:"encodeAddress",value:function(t){return Object(u.toCashAddress)(p.a.encode(t))}}]),n}(m.a);g.chain="BitcoinCash",g.configMap=(r={},Object(a.a)(r,f.i.Mainnet,y),Object(a.a)(r,f.i.Testnet,v),Object(a.a)(r,f.i.Devnet,v),r),g.assets={BCH:"BCH"}}).call(this,n(24).Buffer)},290:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l}));var r,a=n(16),s=n(5),i=n(12),o=n(13),c=n(3),u=n(135),d=n(86),p=n(41),f={label:"DigiByte",selector:"DigiByte",nativeAsset:{name:"DigiByte",symbol:"DGB",decimals:8},explorer:Object(p.b)("https://digiexplorer.info/"),p2shPrefix:t.from([63]),providers:[new u.a("https://multichain-web-proxy.herokuapp.com/digibyte-mainnet"),new u.a("https://digiexplorer.info/api"),new u.a("https://insight.digibyte.host/api")]},h={label:"DigiByte Testnet",selector:"DigiByte",nativeAsset:{name:"Testnet DigiByte",symbol:"DGB",decimals:8},isTestnet:!0,explorer:Object(p.b)("`https://testnetexplorer.digibyteservers.io/"),p2shPrefix:t.from([140]),providers:[new u.a("https://testnetexplorer.digibyteservers.io/api")]},l=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,Object(p.d)(n.configMap,t))).configMap=n.configMap,r.assets=n.assets,r}return n}(d.a);l.chain="DigiByte",l.configMap=(r={},Object(a.a)(r,c.i.Mainnet,f),Object(a.a)(r,c.i.Testnet,h),Object(a.a)(r,c.i.Devnet,h),r),l.assets={DGB:"DGB"}}).call(this,n(24).Buffer)},294:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r,a=n(16),s=n(5),i=n(12),o=n(13),c=n(3),u=n(93),d=n(90),p=n(86),f=n(41),h={label:"Dogecoin",selector:"Dogecoin",nativeAsset:{name:"Dogecoin",symbol:"DOGE",decimals:8},explorer:Object(f.a)("doge","DOGE"),p2shPrefix:t.from([22]),providers:[new u.a(u.b.DOGECOIN),{api:new d.a(d.b.DOGE),priority:15}]},l={label:"Dogecoin Testnet",selector:"Dogecoin",nativeAsset:{name:"Testnet Dogecoin",symbol:"DOGE",decimals:8},isTestnet:!0,explorer:Object(f.a)("testnet/doge","DOGETEST"),p2shPrefix:t.from([196]),providers:[{api:new d.a(d.b.DOGETEST),priority:15}]},m=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,Object(f.d)(n.configMap,t))).configMap=n.configMap,r.assets=n.assets,r}return n}(p.a);m.chain="Dogecoin",m.configMap=(r={},Object(a.a)(r,c.i.Mainnet,h),Object(a.a)(r,c.i.Testnet,l),Object(a.a)(r,c.i.Devnet,l),r),m.assets={DOGE:"DOGE"}}).call(this,n(24).Buffer)},295:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return y}));var r,a=n(16),s=n(5),i=n(12),o=n(13),c=n(3),u=n(135),d=n(93),p=n(210),f=n(90),h=n(86),l=n(41),m={label:"Zcash",selector:"Zcash",nativeAsset:{name:"Zcash",symbol:"ZEC",decimals:8},explorer:Object(l.a)("zcash","ZEC"),p2shPrefix:t.from([28,189]),providers:[new u.a("https://zecblockexplorer.com/api/"),new d.a(d.b.ZCASH),{api:new f.a(f.b.ZEC),priority:15},{api:new p.a("https://explorer.z.cash/api/"),priority:20},{api:new p.a("https://zechain.net/api/v1/"),priority:20}]},b={label:"Zcash Testnet",selector:"Zcash",nativeAsset:{name:"Testnet Zcash",symbol:"ZEC",decimals:8},isTestnet:!0,explorer:Object(l.a)("testnet/zcash","ZECTEST"),p2shPrefix:t.from([28,186]),providers:[new p.a("https://explorer.testnet.z.cash/api/"),{api:new f.a(f.b.ZECTEST),priority:15}]},y=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t){var r;return Object(s.a)(this,n),(r=e.call(this,Object(l.d)(n.configMap,t))).configMap=n.configMap,r.assets=n.assets,r}return n}(h.a);y.chain="Zcash",y.configMap=(r={},Object(a.a)(r,c.i.Mainnet,m),Object(a.a)(r,c.i.Testnet,b),Object(a.a)(r,c.i.Devnet,b),r),y.assets={ZEC:"ZEC"}}).call(this,n(24).Buffer)},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return s.assertType})),n.d(e,"t",(function(){return i.a})),n.d(e,"h",(function(){return o.b})),n.d(e,"c",(function(){return o.a})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"s",(function(){return u})),n.d(e,"r",(function(){return d})),n.d(e,"l",(function(){return p.b})),n.d(e,"e",(function(){return c})),n.d(e,"u",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"j",(function(){return b})),n.d(e,"g",(function(){return g.a})),n.d(e,"v",(function(){return g.b})),n.d(e,"o",(function(){return x.c})),n.d(e,"p",(function(){return x.d})),n.d(e,"m",(function(){return x.a})),n.d(e,"n",(function(){return x.b})),n.d(e,"q",(function(){return x.e})),n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return _})),n.d(e,"w",(function(){return S}));var r,a,s=n(39),i=n(262),o=n(172);!function(t){t.Lock="lock",t.Burn="burn"}(r||(r={})),function(t){t.Mint="mint",t.Release="release"}(a||(a={}));var c,u=function(t){return void 0!==t.createGatewayAddress},d=function(t){return void 0!==t.getInputTx&&void 0!==t.getOutputTx},p=n(145);!function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Log=1]="Log",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Silent=5]="Silent"}(c||(c={}));var f,h=function(){},l={trace:h,debug:h,info:h,warn:h,error:h};!function(t){t.Mainnet="mainnet",t.Testnet="testnet",t.Devnet="devnet"}(f||(f={}));var m,b,y=n(16);!function(t){t.TxStatusNil="nil",t.TxStatusConfirming="confirming",t.TxStatusPending="pending",t.TxStatusExecuting="executing",t.TxStatusReverted="reverted",t.TxStatusDone="done"}(b||(b={}));m={},Object(y.a)(m,b.TxStatusNil,0),Object(y.a)(m,b.TxStatusConfirming,1),Object(y.a)(m,b.TxStatusPending,2),Object(y.a)(m,b.TxStatusExecuting,3),Object(y.a)(m,b.TxStatusReverted,4),Object(y.a)(m,b.TxStatusDone,5);var v,g=n(152),x=n(263),w=n(1),O=n.n(w),T=n(5),j=n(8),k=n(53),E=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.Ready="ready",t.Confirming="confirming",t.Done="done",t.Reverted="reverted"}(v||(v={}));var _=function(){function t(e){var n=e.chainTransaction,r=e.chain,a=e.target;Object(T.a)(this,t),this._chainTransaction=n,this._chain=r,this._target=a,this.chain=r.chain,this.eventEmitter=Object(p.b)(),this.status=Object.assign({chain:r.chain,status:v.Confirming,target:a},n?{transaction:n}:{})}return Object(j.a)(t,[{key:"updateStatus",value:function(t){this.status=Object.assign(Object.assign({},this.status),t),this.eventEmitter.emit("status",this.status)}},{key:"setTransaction",value:function(t){this._chainTransaction=t,this.updateStatus({transaction:t})}},{key:"wait",value:function(t){var e=this,n=Object(k.newPromiEvent)(this.eventEmitter);return E(e,void 0,void 0,O.a.mark((function e(){var n,r,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._chainTransaction){e.next=3;break}throw new Error('Must call ".submit" first.');case 3:t=Object(k.isDefined)(t)?t:this._target,r=-1;case 5:return e.next=8,this._chain.transactionConfidence(n);case 8:if(a=e.sent.toNumber(),!((s=0===t?1:a/t)>r)){e.next=18;break}if(!(s>=1)){e.next=16;break}return this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a,status:v.Done})),e.abrupt("break",22);case 16:r=s,this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a}));case 18:return e.next=20,Object(k.sleep)(15*k.sleep.SECONDS);case 20:e.next=5;break;case 22:return e.abrupt("return",this.status);case 23:case"end":return e.stop()}}),e,this)}))).then(n.resolve).catch(n.reject),n}}]),t}(),A=n(110),S=Object.assign(Object.assign(Object.assign({},k),s),A)},311:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r,a=n(16),s=n(1),i=n.n(s),o=n(5),c=n(8),u=n(17),d=n.n(u),p=n(404),f=n(154),h=n.n(f),l=n(117),m=n.n(l),b=n(214),y=n(405),v=n(3),g=n(410),x=n(213),w=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},O=function(t){return!!t.selector&&!!t.nativeAsset&&!!t.rpc&&!!t.addressPrefix&&!!t.explorer},T={selector:"Filecoin",nativeAsset:{name:"Filecoin",symbol:"FIL",decimals:18},addressPrefix:"t",explorer:"https://filfox.info/en/",rpc:{apiAddress:"https://multichain-web-proxy.herokuapp.com/testnet"}},j=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(o.a)(this,e),this.assets=e.assets,this.configMap=e.configMap,this.feeAsset="FIL",this.validateTransaction=v.w.doesntError((function(t){return 38===new h.a(v.w.fromBase64(t.txid)).bytes.length&&"0"===t.txindex})),this.transactionExplorerLink=function(t){return"https://filfox.info/en/message/".concat(t.txidFormatted)};var r=O(t)?t:e.configMap[t];if(!r)throw"string"===typeof t?new Error("Invalid RenVM network ".concat(t,".")):new Error("Invalid Filecoin network config.");this.network=r,this.chain=this.network.selector,this.clientOptions=n,this.client=new y.a(this.network.rpc),this.network.filfoxAPI&&(this.filfox=new g.a(this.network.filfoxAPI))}return Object(c.a)(e,[{key:"validateAddress",value:function(t){return Object(b.c)(t)}},{key:"addressExplorerLink",value:function(t){return"https://filfox.info/en/address/".concat(t)}},{key:"isLockAsset",value:function(t){return t===this.feeAsset}},{key:"_assertAssetIsSupported",value:function(t){if(!this.isLockAsset(t))throw new Error("Asset ".concat(t," not supported on ").concat(this.chain,"."))}},{key:"assetDecimals",value:function(t){return this._assertAssetIsSupported(t),this.network.nativeAsset.decimals}},{key:"watchForDeposits",value:function(e,n,r,a,s,o){return w(this,void 0,void 0,i.a.mark((function s(){var c,u,d,p,f,l,m=this;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(this._assertAssetIsSupported(e),n.chain===this.chain){s.next=3;break}throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(this.chain,"."));case 3:c=0;case 4:if(!o()){s.next=7;break}return s.abrupt("return");case 7:return u=0,s.prev=8,s.next=11,Object(x.c)(this.client);case 11:u=s.sent,s.next=17;break;case 14:s.prev=14,s.t0=s.catch(8),console.error(s.t0);case 17:if(100,d=u-100,p=u-c,f=!1,!this.filfox||!(p>100||0===u)){s.next=28;break}return s.prev=22,s.delegateYield(i.a.mark((function e(){var n,s,o,c,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=100,s=0;case 2:return e.next=5,v.w.tryNTimes((function(){return w(m,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.filfox){t.next=2;break}throw new Error("Filfox not defined.");case 2:return t.abrupt("return",this.filfox.fetchDeposits(r,s,n));case 3:case"end":return t.stop()}}),t,this)})))}),5,5*v.w.sleep.SECONDS);case 5:return o=e.sent,c=o.deposits,u=o.totalCount,e.next=10,Promise.all((c||[]).map((function(e){return w(m,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a({chain:this.chain,txid:v.w.toURLBase64(t.from(new h.a(e.cid).bytes)),txidFormatted:e.cid,txindex:"0",amount:e.amount}));case 1:case"end":return n.stop()}}),n,this)})))})));case 10:if(!(n*(s+1)>=u)){e.next=12;break}return e.abrupt("break",17);case 12:return s+=1,e.next=15,v.w.sleep(10*v.w.sleep.SECONDS);case 15:e.next=2;break;case 17:f=!0;case 18:case"end":return e.stop()}}),e)}))(),"t1",24);case 24:s.next=28;break;case 26:s.prev=26,s.t2=s.catch(22);case 28:if(f){s.next=34;break}return s.next=31,Object(x.a)(this.client,r,this.network.addressPrefix,d,u);case 31:return l=s.sent,s.next=34,Promise.all((l||[]).map((function(e){return w(m,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a({chain:this.chain,txid:v.w.toURLBase64(t.from(new h.a(e.cid).bytes)),txidFormatted:e.cid,txindex:"0",amount:e.amount}));case 1:case"end":return n.stop()}}),n,this)})))})));case 34:return c=u,s.next=37,v.w.sleep(15*v.w.sleep.SECONDS);case 37:s.next=4;break;case 39:case"end":return s.stop()}}),s,this,[[8,14],[22,26]])})))}},{key:"transactionConfidence",value:function(t){return w(this,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.txidFormatted,e.prev=1,e.next=4,Object(x.b)(this.client,n,this.network.addressPrefix);case 4:r=e.sent,e.next=20;break;case 7:if(e.prev=7,e.t0=e.catch(1),!this.filfox){e.next=19;break}return e.prev=10,e.next=13,this.filfox.fetchMessage(n);case 13:r=e.sent,e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),console.error(e.t1);case 19:throw e.t0;case 20:return e.abrupt("return",new d.a(r.confirmations));case 21:case"end":return e.stop()}}),e,this,[[1,7],[10,16]])})))}},{key:"isDepositAsset",value:function(t){return t===this.network.nativeAsset.symbol}},{key:"getBalance",value:function(t,e){if(this._assertAssetIsSupported(t),!this.validateAddress(e))throw new Error("Invalid address ".concat(e,"."));return new d.a(0)}},{key:"createGatewayAddress",value:function(e,n,r,a){if(this._assertAssetIsSupported(e),n.chain!==this.chain)throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(this.chain,"."));var s=new m.a.ec("secp256k1"),i=s.keyFromPublic(r),o=s.keyFromPrivate(a),c=s.keyFromPublic(i.getPublic().add(o.getPublic())),u=t.from(Object(p.blake2b)(t.from(c.getPublic(!1,"hex"),"hex"),null,20));return this.bytesToAddress(u)}},{key:"addressToBytes",value:function(e){return t.from(Object(b.a)(e).str)}},{key:"bytesToAddress",value:function(e){21===e.length&&(e=t.from(e.slice(1,21)));var n={str:t.concat([t.from([1]),e]),protocol:function(){return 1},payload:function(){return e}};return Object(b.b)(this.network.addressPrefix,n)}},{key:"formattedTransactionHash",value:function(t){return new h.a(v.w.fromBase64(t.txid)).toString()}},{key:"getOutputPayload",value:function(e,n,r){return this._assertAssetIsSupported(e),{to:r.address,toBytes:t.from(new h.a(r.address).bytes),payload:t.from([])}}},{key:"Address",value:function(t){if(Object(v.k)("string",{address:t}),!this.validateAddress(t))throw v.c.from(new Error("Invalid ".concat(this.chain," address: ").concat(String(t))),v.h.PARAMETER_ERROR);return{chain:this.chain,address:t}}},{key:"GatewayAddress",value:function(){return{chain:this.chain}}}]),e}();j.chain="Filecoin",j.assets={FIL:"FIL"},j.configMap=(r={},Object(a.a)(r,v.i.Mainnet,{selector:"Filecoin",nativeAsset:{name:"Filecoin",symbol:"FIL",decimals:18},addressPrefix:"f",explorer:"https://filfox.info/en/",rpc:{apiAddress:"https://multichain-web-proxy.herokuapp.com/mainnet"},filfoxAPI:"https://filfox.info/api/v1/"}),Object(a.a)(r,v.i.Testnet,T),Object(a.a)(r,v.i.Devnet,T),r)}).call(this,n(24).Buffer)},32:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t.Bool="bool",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Str="string",t.Bytes="bytes",t.Bytes32="bytes32",t.Bytes65="bytes65"}(r||(r={}))},341:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return O}));var r,a=n(1),s=n.n(a),i=n(5),o=n(8),c=n(16),u=n(118),d=n.n(u),p=n(17),f=n.n(p),h=n(117),l=n.n(h),m=n(3),b=n(257),y=n(411),v=n(412),g=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},x={selector:"Terra",chainId:"bombay-12",nativeAsset:{name:"Luna",symbol:"LUNA",decimals:18},explorer:"https://finder.terra.money/bombay",apiUrl:"https://bombay-fcd.terra.dev"},w=(r={},Object(c.a)(r,m.i.Mainnet,{selector:"Terra",chainId:"columbus-5",nativeAsset:{name:"Luna",symbol:"LUNA",decimals:18},explorer:"https://finder.terra.money/columbus",apiUrl:"https://fcd.terra.dev"}),Object(c.a)(r,m.i.Testnet,x),Object(c.a)(r,m.i.Devnet,x),r),O=function(){function e(t){var n=this;Object(i.a)(this,e),this.chain=e.chain,this.name=e.chain,this.configMap=w,this.assets=e.assets,this.getBalance=function(t,e){return g(n,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._assertAssetIsSupported(t),this.validateAddress(e)){n.next=3;break}throw new Error("Invalid address ".concat(e,"."));case 3:return n.abrupt("return",new f.a(0));case 4:case"end":return n.stop()}}),n,this)})))};var r=Object(v.a)(t)?t:w[t];if(!r)throw"string"===typeof t?new Error("Invalid RenVM network ".concat(t,".")):new Error("Invalid Terra network config.");this.network=r,this.chain=this.network.selector,this.api=new y.a(this.network)}return Object(o.a)(e,[{key:"validateAddress",value:function(t){return Object(m.k)("string",{address:t}),b.AccAddress.validate(t)}},{key:"validateTransaction",value:function(t){return m.w.isHex("string"===typeof t?t:t.txidFormatted,{length:32})&&32===m.w.fromBase64(t.txid).length}},{key:"addressExplorerLink",value:function(t){return new URL("/account/".concat(t),this.network.explorer).href}},{key:"transactionExplorerLink",value:function(t){return new URL("/tx/".concat(String(t.txidFormatted)),this.network.explorer).href}},{key:"formattedTransactionHash",value:function(t){return m.w.fromBase64(t.txid).toString("hex").toUpperCase()}},{key:"isLockAsset",value:function(t){return void 0!==this.assets[t]}},{key:"isDepositAsset",value:function(t){return this.isLockAsset(t)}},{key:"_assertAssetIsSupported",value:function(t){if(!this.isLockAsset(t))throw new Error("Unsupported asset ".concat(t,"."))}},{key:"assetDecimals",value:function(t){if(t===e.assets.LUNA)return 6;throw new Error("Unsupported asset ".concat(String(t),"."))}},{key:"watchForDeposits",value:function(e,n,r,a,i,o){return g(this,void 0,void 0,s.a.mark((function i(){var c,u=this;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this._assertAssetIsSupported(e),n.chain===this.chain){i.next=3;break}throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(this.chain,"."));case 3:if(!o()){i.next=6;break}return i.abrupt("return");case 6:return i.next=8,this.api.fetchDeposits(r);case 8:return c=i.sent,i.next=11,Promise.all(c.map((function(e){return g(u,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",a({chain:this.chain,txid:m.w.toURLBase64(t.from(e.hash,"hex")),txidFormatted:e.hash.toUpperCase(),txindex:"0",amount:e.amount}));case 1:case"end":return n.stop()}}),n,this)})))})));case 11:i.next=3;break;case 13:case"end":return i.stop()}}),i,this)})))}},{key:"transactionConfidence",value:function(t){return g(this,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.network){e.next=2;break}throw new Error("".concat(this.name," object not initialized."));case 2:return e.next=4,this.api.fetchConfirmations(t.txidFormatted);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"createGatewayAddress",value:function(e,n,r,a){if(this._assertAssetIsSupported(e),n.chain!==this.chain)throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(this.chain,"."));var s=new l.a.ec("secp256k1"),i=s.keyFromPublic(r),o=s.keyFromPrivate(a),c=s.keyFromPublic(i.getPublic().add(o.getPublic())),u=t.from(c.getPublic().encodeCompressed());return new b.Key(u).accAddress}},{key:"getOutputPayload",value:function(e,n,r){return this._assertAssetIsSupported(e),{to:r.address,toBytes:t.from(d.a.fromWords(d.a.decode(r.address).words)),payload:t.from([])}}},{key:"Address",value:function(t){if(Object(m.k)("string",{address:t}),!this.validateAddress(t))throw m.c.from(new Error("Invalid ".concat(this.chain," address: ").concat(String(t))),m.h.PARAMETER_ERROR);return{chain:this.chain,address:t}}},{key:"GatewayAddress",value:function(){return{chain:this.chain}}}]),e}();O.chain="Terra",O.configMap=w,O.assets={LUNA:"LUNA"}}).call(this,n(24).Buffer)},381:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(5),a=n(8),s=n(208),i=n(15),o=n(12),c=n(13),u=n(85),d=function(t){Object(o.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this)).promise=new Promise((function(t,e){a.resolve=t,a.reject=e})),a._cancelled=!1,a.eventEmitter=t||new u.EventEmitter,Object(s.a)(a,new Proxy(Object(i.a)(a),{get:a.proxyHandler}))}return Object(a.a)(n,[{key:"proxyHandler",value:function(t,e){var n=this;return"resolve"===e||"reject"===e?t[e]:"then"===e?t.promise.then.bind(t.promise):"catch"===e?t.promise.catch.bind(t.promise):"_cancel"===e?function(){n._cancelled=!0}:"_isCancelled"===e?function(){return!0===n._cancelled}:"_resume"===e?function(){n._cancelled=!1}:t.eventEmitter[e]?t.eventEmitter[e]:void 0}}]),n}(n(145).a);Symbol.toStringTag},382:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"marshalPackType",(function(){return u})),n.d(e,"marshalUint",(function(){return d})),n.d(e,"marshalU",(function(){return p})),n.d(e,"marshalU8",(function(){return f})),n.d(e,"marshalU16",(function(){return h})),n.d(e,"marshalU32",(function(){return l})),n.d(e,"marshalU64",(function(){return m})),n.d(e,"marshalU128",(function(){return b})),n.d(e,"marshalU256",(function(){return y})),n.d(e,"withLength",(function(){return v})),n.d(e,"marshalString",(function(){return g})),n.d(e,"marshalPackStructType",(function(){return x})),n.d(e,"marshalPackListType",(function(){return w})),n.d(e,"marshalPackTypeDefinition",(function(){return O})),n.d(e,"marshalPackPrimitive",(function(){return T})),n.d(e,"marshalPackStruct",(function(){return j})),n.d(e,"marshalListStruct",(function(){return k})),n.d(e,"marshalPackValue",(function(){return E})),n.d(e,"marshalTypedPackValue",(function(){return _}));var r=n(36),a=n(17),s=n.n(a),i=n(53),o=n(94),c=n(32),u=function(t){switch(t){case"nil":return 0;case c.a.Bool:return 1;case c.a.U8:return 2;case c.a.U16:return 3;case c.a.U32:return 4;case c.a.U64:return 5;case c.a.U128:return 6;case c.a.U256:return 7;case c.a.Str:return 10;case c.a.Bytes:return 11;case c.a.Bytes32:return 12;case c.a.Bytes65:return 13;case"struct":return 20;case"list":return 21}throw new Error("Unknown type ".concat(String(t),"."))},d=function(t,e){try{return Object(i.toNBytes)("number"===typeof t?t:s.a.isBigNumber(t)?t.toFixed():t.toString(),e/8)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal uint".concat(e," '").concat(String(t),"': ").concat(String(n.message))),n}},p=function(t){return function(e){return d(e,t)}},f=p(8),h=p(16),l=p(32),m=p(64),b=p(128),y=p(256),v=function(e){return t.concat([l(e.length),e])},g=function(e){return v(t.from(e))},x=function(e){var n=l(e.struct.length);return t.concat([t.from([u("struct")]),n].concat(Object(r.a)(e.struct.map((function(e){var n=Object.keys(e);if(0===n.length)throw new Error("Invalid struct field with no entries.");if(n.length>1)throw new Error("Invalid struct field with multiple entries.");var r=Object.keys(e)[0],a=e[r];return t.concat([g(r),O(a)])})))))},w=function(e){return t.concat([t.from([u("list")]),O(e.list)])},O=function(e){if(Object(o.b)(e))return x(e);if(Object(o.a)(e))return w(e);if("string"===typeof e)return t.from([u(e)]);throw new Error("Unable to marshal type ".concat(String(e),"."))},T=function(e,n){switch(e){case c.a.Bool:return f(n?1:0);case c.a.U8:return f(n);case c.a.U16:return h(n);case c.a.U32:return l(n);case c.a.U64:return m(n);case c.a.U128:return b(n);case c.a.U256:return y(n);case c.a.Str:return g(n);case c.a.Bytes:return v(t.isBuffer(n)?t.from(n):Object(i.fromBase64)(n));case c.a.Bytes32:case c.a.Bytes65:return t.isBuffer(n)?t.from(n):Object(i.fromBase64)(n)}},j=function(e,n){return t.concat(e.struct.map((function(t){var e=Object.keys(t);if(0===e.length)throw new Error("Invalid struct member with no entries.");if(e.length>1)throw new Error("Invalid struct member with multiple entries.");if("object"!==typeof n)throw new Error('Invalid struct value of type "'.concat(typeof n,'".'));if(null===n)throw new Error('Invalid struct value "null".');var r=Object.keys(t)[0],a=t[r];try{return E(a,n[r])}catch(s){throw s instanceof Error&&(s.message="Unable to marshal struct field ".concat(r,": ").concat(String(s.message))),s}})))},k=function(e,n){var r=e.list;return t.concat(n.map((function(t,e){try{return E(r,t)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal array element #".concat(e,": ").concat(String(n.message))),n}})))},E=function(e,n){if(Object(o.b)(e))return j(e,n);if(Object(o.a)(e))return k(e,n);if("string"===typeof e)return"nil"===e?t.from([]):T(e,n);throw new Error("Unknown value type ".concat(String(e)).concat(e?"":" for value ".concat(String(n))))},_=function(e){var n=e.t,r=e.v,a=O(n),s=E(n,r);return t.concat([a,s])}}.call(this,n(24).Buffer)},383:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(12),a=n(13),s=n(1),i=n.n(s),o=n(5),c=n(8),u=n(207),d=n(3),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},f="RenVM",h=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a,s){return Object(o.a)(this,n),e.call(this,t,r,{t:u.b,v:{txid:d.w.toURLBase64(a.txid),txindex:a.txindex.toFixed(),amount:a.amount.toFixed(),payload:d.w.toURLBase64(a.payload),phash:d.w.toURLBase64(a.phash),to:a.to,nonce:d.w.toURLBase64(a.nonce),nhash:d.w.toURLBase64(a.nhash),gpubkey:d.w.toURLBase64(a.gpubkey),ghash:d.w.toURLBase64(a.ghash)}},s)}return n}(function(){function t(e,n,r,a){var s=this;Object(o.a)(this,t),this.chain="RenVM",this.version="1",this.updateStatus=function(t){return s.status=Object.assign(Object.assign({},s.status),t),s.eventEmitter.emit("status",s.status),s.status},this.provider=e,this.selector=n,this.params=r,this.eventEmitter=Object(d.l)(),this.signatureCallback=a,this._hash=d.w.toURLBase64(Object(d.q)(this.version,this.selector,this.params)),this.status={chain:f,status:d.a.Ready,target:1,transaction:{chain:f,txid:this._hash,txidFormatted:this._hash,txindex:"0"}}}return Object(c.a)(t,[{key:"tx",get:function(){return{hash:this._hash,selector:this.selector,version:this.version,in:this.params}}},{key:"submit",value:function(){var t=this,e=d.w.newPromiEvent(this.eventEmitter);return p(t,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.provider.submitTx(this.tx);case 3:case 10:t.next=16;break;case 5:return t.prev=5,t.t0=t.catch(0),t.prev=7,t.next=10,this.provider.queryTx(this._hash);case 12:return t.prev=12,t.t1=t.catch(7),t.next=16,this.provider.submitTx(this.tx,2);case 16:return t.abrupt("return",this.updateStatus({status:d.a.Confirming}));case 17:case"end":return t.stop()}}),t,this,[[0,5],[7,12]])}))).then(e.resolve).catch(e.reject),e}},{key:"wait",value:function(){var t=this,e=d.w.newPromiEvent(this.eventEmitter);return p(t,void 0,void 0,i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=void 0;case 1:return t.prev=2,t.next=5,this.provider.queryTx(this._hash,1);case 5:if(!(e=t.sent)||e.txStatus!==d.j.TxStatusDone){t.next=8;break}return t.abrupt("break",18);case 8:if(e.txStatus!==n||!this.status.response)try{n=e.txStatus,this.updateStatus({response:e,status:d.a.Done})}catch(s){}t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0 instanceof Error&&/(not found)|(not available)/.exec(String((t.t0||{}).message))||console.error(t.t0);case 14:return t.next=16,d.w.sleep(15*d.w.sleep.SECONDS);case 16:t.next=1;break;case 18:if(!((r=e).out&&r.out.revert&&r.out.revert.length>0)){t.next=23;break}throw a=r.out.revert,this.updateStatus({status:d.a.Reverted,revertReason:a}),new Error("RenVM transaction reverted: ".concat(a));case 23:if(this.signatureCallback)try{this.signatureCallback(e)}catch(s){}return t.abrupt("return",this.updateStatus({response:e,status:d.a.Done}));case 25:case"end":return t.stop()}}),t,this,[[2,11]])}))).then(e.resolve).catch(e.reject),e}}]),t}())},384:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(137),a=function(t,e){return(new r.a).addData(e).addOp(r.a.OP.OP_DROP).addOp(r.a.OP.OP_DUP).addOp(r.a.OP.OP_HASH160).addData(t).addOp(r.a.OP.OP_EQUALVERIFY).addOp(r.a.OP.OP_CHECKSIG)},s=function(t,e,n){return a(t,e).toAddress(n)}},386:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"contract IGatewayRegistry","name":"_registry","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"registry","outputs":[{"internalType":"contract IGatewayRegistry","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"release","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},387:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},388:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"address","name":"signatureVerifier","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"LockGatewayProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogLockGatewayAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogLockGatewayRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogMintGatewayAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogMintGatewayRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldTransferContract","type":"address"},{"indexed":true,"internalType":"address","name":"newTransferContract","type":"address"}],"name":"LogTransferContractUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"address","name":"signatureVerifier","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"MintGatewayProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"chainId","type":"uint256"},{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint8","name":"decimals","type":"uint8"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"RenAssetProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"CAN_ADD_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CAN_UPDATE_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"chainId_","type":"uint256"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"transferContract","type":"address"},{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"adminAddress","type":"address"},{"internalType":"address[]","name":"gatewayDeployers","type":"address[]"}],"name":"__GatewayRegistry_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"}],"name":"__RenAssetFactory_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"lockAsset","type":"address"},{"internalType":"address","name":"lockGateway","type":"address"}],"name":"addLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"renAsset","type":"address"},{"internalType":"address","name":"mintGateway","type":"address"}],"name":"addMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"lockToken","type":"address"},{"internalType":"string","name":"version","type":"string"}],"name":"deployLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"renAsset","type":"address"},{"internalType":"string","name":"version","type":"string"}],"name":"deployMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"erc20Name","type":"string"},{"internalType":"string","name":"erc20Symbol","type":"string"},{"internalType":"uint8","name":"erc20Decimals","type":"uint8"},{"internalType":"string","name":"version","type":"string"}],"name":"deployMintGatewayAndRenAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getLockAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getLockGatewayBySymbol","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"}],"name":"getLockGatewayByToken","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLockGatewayProxyBeacon","outputs":[{"internalType":"contract LockGatewayProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"}],"name":"getLockGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getMintGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getMintGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMintGatewayProxyBeacon","outputs":[{"internalType":"contract MintGatewayProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"}],"name":"getMintGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getRenAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRenAssetProxyBeacon","outputs":[{"internalType":"contract RenAssetProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getTokenBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTransferContract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"}],"name":"removeLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"}],"name":"removeMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newTransferContract","type":"address"}],"name":"updateTransferContract","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},389:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":true,"internalType":"bytes32","name":"selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"lockNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogLockToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldPreviousGateway","type":"address"},{"indexed":true,"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"sigHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogRelease","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__LockGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAsset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEventNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPreviousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSelectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"contract IRenVMSignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"release","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newToken","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},39:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"assert",(function(){return o})),n.d(e,"assertType",(function(){return c})),n.d(e,"assertObject",(function(){return b}));var r=n(16),a=n(21),s=n(17),i=n.n(s),o=function(t,e){if(!t)throw new Error("Failed assertion".concat(e?": ".concat(e):""));return!0},c=function(t,e){return h(t)?m(t,e):f(t)?l(t,e):d(p(t),e,t)},u=function(e){return null===e?"null":i.a.isBigNumber(e)?"BigNumber":t.isBuffer(e)?"Buffer":typeof e},d=function(t,e,n){for(var r=0,a=Object.keys(e);r<a.length;r++){var s=a[r],i=e[s];if(!t(i,s)){var o=Array.isArray(i)?"any[]":u(i);throw new Error("Expected '".concat(s,"' to be of type '").concat(n,"', instead got '").concat(o,"'."))}}return!0},p=function(t){return function(e){return"any"===t||u(e)===t}},f=function(t){var e=t.split(" | ");return e.length>1&&e},h=function(t){if("Array<"===t.slice(0,6)&&">"===t.slice(-1)){var e=/^Array<(.*)>$/.exec(t);if(e)return Object(a.a)(e,2)[1]}if(-1===t.indexOf(" ")&&"[]"===t.slice(-2)){var n=/^([^ ]*)\[\]$/.exec(t);if(n)return Object(a.a)(n,2)[1]}return!1},l=function(t,e){var n=t.split(" | ");return d((function(t,e){return n.reduce((function(n,a){if(n)return n;if(h(a))try{return m(a,Object(r.a)({},e,t)),!0}catch(s){return!1}return p(a)(t)}),!1)}),e,t)},m=function(t,e){var n=h(t);if(!n)throw new Error("Invalid array type ".concat(t));for(var a=0,s=Object.keys(e);a<s.length;a++){var i=s[a],o=e[i];d((function(t){return Array.isArray(t)}),{value:o},"any[]");for(var u=0;u<o.length;u++)c(n,Object(r.a)({},"".concat(i,"[").concat(u,"]"),o[u]))}return!0},b=function t(e,n){for(var a=0,s=Object.keys(n);a<s.length;a++)for(var i=s[a],o=n[i],u=0,d=Object.keys(e);u<d.length;u++){var p=d[u];if("object"===typeof e[p])t(e[p],Object(r.a)({},"".concat(i,'["').concat(p,'"]'),o[p]));else{if("string"!==typeof e[p])throw new Error("Invalid object type definition ".concat(typeof e[p]));c(e[p],Object(r.a)({},"".concat(i,'["').concat(p,'"]'),o[p]))}}return!0}}.call(this,n(24).Buffer)},390:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":true,"internalType":"bytes32","name":"selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"to","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"bytes","name":"indexedTo","type":"bytes"}],"name":"LogBurn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogBurnToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"sigHash","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogMint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldPreviousGateway","type":"address"},{"indexed":true,"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":true,"internalType":"address","name":"nextTokenOwner","type":"address"}],"name":"TokenOwnershipTransferred","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__MintGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"caller","type":"address"}],"name":"_burnFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"},{"internalType":"address","name":"caller","type":"address"}],"name":"_mintFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"recipient","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnWithPayload","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAsset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEventNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPreviousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSelectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"contract IRenVMSignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nextTokenOwner","type":"address"}],"name":"transferTokenOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newToken","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},391:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogTransferred","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"}],"name":"transferWithLog","outputs":[],"stateMutability":"payable","type":"function"}]')},397:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,a=n(36),s=n(3),i=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},o=/tuple\(([a-zA-Z0-9]+(,[a-zA-Z0-9]+)*)\)/,c=function(t){t.value;var e=i(t,["value"]);try{var n=e&&e.type&&o.exec(e.type);if(n&&!t.components){for(var r=n[1].split(","),a=[],s=0;s<r.length;s++)a[s]={name:String(s),type:r[s]};return Object.assign(Object.assign({},e),{components:a})}}catch(c){console.error(c)}return e},u=function(t,e){return Object(s.k)("string",{methodName:t}),(e||[]).map((function(t){var e=t.type,n=t.name;return Object(s.k)("string",{type:e,name:n})})),[{name:t,type:"function",stateMutability:"payable",inputs:Object(a.a)((e||[]).map(c).map((function(t){return Object.assign({type:t.type,name:t.name},t.components?{components:t.components}:void 0)}))),outputs:[]}]};!function(t){t.OverrideArrayLengthError="Contract call override must be same length as contract calls array."}(r||(r={}))},40:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return k}));var r,a=n(36),s=n(48),i=n(1),o=n.n(i),c=n(17),u=n.n(c),d=n(72),p=n(3),f=n(54),h=n(397),l=n(136),m=n(55),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.EVM_TRANSACTION_TYPE="__EVM_TRANSACTION_TYPE__",t.EVM_TOKEN_ADDRESS="__EVM_TOKEN_ADDRESS__",t.EVM_TOKEN_DECIMALS="__EVM_TOKEN_DECIMALS__",t.EVM_GATEWAY_IS_DEPOSIT_ASSET="__EVM_GATEWAY_IS_DEPOSIT_ASSET__",t.EVM_GATEWAY_DEPOSIT_ADDRESS="__EVM_GATEWAY_DEPOSIT_ADDRESS__",t.EVM_TRANSFER_WITH_LOG_CONTRACT="__EVM_TRANSFER_WITH_LOG_CONTRACT__",t.EVM_ACCOUNT="__EVM_ACCOUNT__",t.EVM_ACCOUNT_IS_CONTRACT="__EVM_ACCOUNT_IS_CONTRACT__",t.EVM_GATEWAY="__EVM_GATEWAY__",t.EVM_ASSET="__EVM_ASSET__",t.EVM_AMOUNT="__EVM_AMOUNT__",t.EVM_NHASH="__EVM_NHASH__",t.EVM_PHASH="__EVM_PHASH__",t.EVM_SIGNATURE="__EVM_SIGNATURE__",t.EVM_SIGNATURE_R="__EVM_SIGNATURE_R__",t.EVM_SIGNATURE_S="__EVM_SIGNATURE_S__",t.EVM_SIGNATURE_V="__EVM_SIGNATURE_V__",t.EVM_TO_CHAIN="__EVM_TO_CHAIN__",t.EVM_TO_ADDRESS="__EVM_TO_ADDRESS__",t.EVM_TO_ADDRESS_BYTES="__EVM_TO_ADDRESS_BYTES__",t.EVM_TO_PAYLOAD="__EVM_TO_PAYLOAD__"}(r||(r={}));var y=function(t){return Object.values(r).indexOf(t)>=0},v=function(t,e){return b(void 0,void 0,void 0,o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"!==typeof(r=y(t)?e[t]:t)){n.next=5;break}return n.next=4,r();case 4:r=n.sent;case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))},g=function(t,e){return b(void 0,void 0,void 0,o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.to,e);case 6:return n.t4=n.sent,n.next=9,Promise.all(t.params.params.map((function(t){return b(void 0,void 0,void 0,o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.next=4,v(t.value,e);case 4:return n.t2=n.sent,n.t3={value:n.t2},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t3));case 7:case"end":return n.stop()}}),n)})))})));case 9:return n.t5=n.sent,n.t6={to:n.t4,params:n.t5},n.t7=n.t2.assign.call(n.t2,n.t3,n.t6),n.t8={params:n.t7},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t8));case 14:case"end":return n.stop()}}),n)})))},x={getSetup:function(t,e,n,r,a){return n.setup||{}},getPayload:function(t,e,n,r){return b(void 0,void 0,void 0,o.a.mark((function e(){var a,i,c,u,d,f,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n,r);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),p.c.from(new Error("Error getting contract-call payload: ".concat(String(e.t0.message))),p.h.PARAMETER_ERROR);case 9:a=n.params.params.filter((function(t){return!t.notInPayload})),i=Object(s.a)(a),e.prev=11,i.s();case 13:if((c=i.n()).done){e.next=19;break}if(void 0!==(u=c.value).value){e.next=17;break}throw p.c.from(new Error("Parameter '".concat(u.name,"' is undefined.")),p.h.PARAMETER_ERROR);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(11),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:d=a.map((function(t){return t.type})),f=a.map((function(t){return t.value})),e.prev=29,h=Object(m.g)(d,f),e.next=36;break;case 33:throw e.prev=33,e.t2=e.catch(29),p.c.from(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(e.t2.message))),p.h.PARAMETER_ERROR);case 36:return e.abrupt("return",{to:n.params.to,toBytes:p.w.fromHex(n.params.to),payload:h});case 37:case"end":return e.stop()}}),e,null,[[0,6],[11,21,24,27],[29,33]])})))},submit:function(t,e,n,r,i){return b(void 0,void 0,void 0,o.a.mark((function c(){var u,f,b,y,v,x,w,O;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,g(n,r);case 3:n=o.sent,o.next=9;break;case 6:throw o.prev=6,o.t0=o.catch(0),p.c.from(new Error("Error resolving parameters for contract-call : ".concat(String(o.t0.message))),p.h.PARAMETER_ERROR);case 9:u=n.params.params.map((function(t){return i.params&&p.w.isDefined(i.params[t.name])?Object.assign(Object.assign({},t),{value:i.params[t.name]}):t})),f=u.map((function(t){return t.type})),b=u.map((function(t){return t.value})),y=Object(s.a)(u),o.prev=13,y.s();case 15:if((v=y.n()).done){o.next=21;break}if(void 0!==(x=v.value).value){o.next=19;break}throw p.c.from(new Error("Parameter '".concat(x.name,"' is undefined.")),p.h.PARAMETER_ERROR);case 19:o.next=15;break;case 21:o.next=26;break;case 23:o.prev=23,o.t1=o.catch(13),y.e(o.t1);case 26:return o.prev=26,y.f(),o.finish(26);case 29:o.prev=29,Object(m.g)(f,b),o.next=36;break;case 33:throw o.prev=33,o.t2=o.catch(29),p.c.from(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(o.t2.message))),p.h.PARAMETER_ERROR);case 36:if((w=Object(h.a)(n.params.method,u)[0]).name){o.next=39;break}throw new Error("ABI must include method name.");case 39:return O=new d.b(n.params.to.toLowerCase(),[w],e),o.next=42,O[w.name].apply(O,Object(a.a)(b).concat([Object(l.b)(n.params.txConfig,i.txConfig)]));case 42:return o.abrupt("return",o.sent);case 43:case"end":return o.stop()}}),c,null,[[0,6],[13,23,26,29],[29,33]])})))}},w=function(t,e,n){return b(void 0,void 0,void 0,o.a.mark((function a(){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!p.w.isDefined(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:s=a.t0,a.t4=n[r.EVM_TRANSACTION_TYPE],a.next=a.t4===p.d.Lock?18:a.t4===p.d.Burn?23:a.t4===p.f.Mint?26:a.t4===p.f.Release?27:30;break;case 18:if(s){a.next=20;break}throw p.c.from(new Error("Must provide amount to .Account()"),p.h.PARAMETER_ERROR);case 20:if(!n[r.EVM_GATEWAY_IS_DEPOSIT_ASSET]){a.next=22;break}return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_TRANSFER_WITH_LOG_CONTRACT,method:"transferWithLog",params:[{type:"address",name:"to",value:r.EVM_GATEWAY_DEPOSIT_ADDRESS}],txConfig:{value:s}}});case 22:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"lock",params:[{type:"string",name:"recipientAddress",value:r.EVM_TO_ADDRESS},{type:"string",name:"recipientChain",value:r.EVM_TO_CHAIN},{type:"bytes",name:"recipientPayload",value:r.EVM_TO_PAYLOAD},{type:"uint256",name:"amount",value:s}]},setup:{approval:{chain:t.selector,type:"approval",params:{token:r.EVM_TOKEN_ADDRESS,spender:r.EVM_GATEWAY,amount:s}}}});case 23:if(s){a.next=25;break}throw p.c.from(new Error("Must provide amount to .Account()"),p.h.PARAMETER_ERROR);case 25:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"burn",params:[{type:"bytes",name:"to",value:r.EVM_TO_ADDRESS_BYTES},{type:"uint256",name:"amount",value:s}]}});case 26:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"mint",params:[{type:"bytes32",name:"pHash",value:r.EVM_PHASH,notInPayload:!0},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 27:if(!n[r.EVM_GATEWAY_IS_DEPOSIT_ASSET]){a.next=29;break}return a.abrupt("return",void 0);case 29:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"release",params:[{type:"bytes32",name:"pHash",value:r.EVM_PHASH,notInPayload:!0},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"calldata sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 30:throw new Error("Unable to use .Account() for set-up call.");case 31:case"end":return a.stop()}}),a)})))},O={getSetup:function(t,e,n,r,a){return b(void 0,void 0,void 0,o.a.mark((function s(){var i;return o.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(x.getSetup){s.next=2;break}throw new Error("Missing contract payload handler.");case 2:return s.next=4,w(t,n,r);case 4:if(i=s.sent){s.next=7;break}return s.abrupt("return",{});case 7:return s.next=9,x.getSetup(t,e,i,r,a);case 9:return s.abrupt("return",s.sent);case 10:case"end":return s.stop()}}),s)})))},getPayload:function(e,n,a,s,i){return b(void 0,void 0,void 0,o.a.mark((function c(){var u,d,f,h;return o.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(x.getPayload){o.next=2;break}throw new Error("Missing contract payload handler.");case 2:return o.next=4,w(e,a,s);case 4:if(u=o.sent){o.next=10;break}return o.next=8,v(a.params.address,s);case 8:return d=o.sent,o.abrupt("return",{to:d,toBytes:p.w.fromHex(d),payload:t.from([])});case 10:return o.next=12,x.getPayload(e,n,u,s,i);case 12:return f=o.sent,o.t0=f.to.toLowerCase(),o.next=16,s[r.EVM_GATEWAY]();case 16:if(o.t1=o.sent.toLowerCase(),o.t0!==o.t1){o.next=22;break}return o.next=20,v(a.params.address,s);case 20:h=o.sent,f=Object.assign(Object.assign({},f),{to:h,toBytes:p.w.fromHex(h)});case 22:return o.abrupt("return",f);case 23:case"end":return o.stop()}}),c)})))},submit:function(t,e,n,r,a,s){return b(void 0,void 0,void 0,o.a.mark((function i(){var c;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,w(t,n,r);case 2:if(c=i.sent){i.next=5;break}throw new Error("Unable to submit empty payload for release to ".concat(n.params.address,"."));case 5:return i.abrupt("return",x.submit(t,e,c,r,a,s));case 6:case"end":return i.stop()}}),i)})))}},T=function(t,e){return b(void 0,void 0,void 0,o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.token,e);case 6:return n.t4=n.sent,n.next=9,v(t.params.spender,e);case 9:return n.t5=n.sent,n.next=12,v(t.params.amount,e);case 12:return n.t6=n.sent,n.t7={token:n.t4,spender:n.t5,amount:n.t6},n.t8=n.t2.assign.call(n.t2,n.t3,n.t7),n.t9={params:n.t8},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t9));case 17:case"end":return n.stop()}}),n)})))},j=function(t,e,n){return b(void 0,void 0,void 0,o.a.mark((function a(){var s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!p.w.isDefined(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:return s=a.t0,a.abrupt("return",{chain:t.selector,type:"contract",params:{to:e.params.token,method:"approve",params:[{type:"address",name:"to",value:e.params.spender},{type:"uint256",name:"amount",value:s}]}});case 16:case"end":return a.stop()}}),a)})))},k={getSetup:function(t,e,n,r,a){return n.setup||{}},required:function(t,e,n,r){return b(void 0,void 0,void 0,o.a.mark((function t(){var a,s,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(n,r);case 2:return n=t.sent,a=n.params.token,s=Object(f.e)(e,a),t.next=7,e.getAddress();case 7:return i=t.sent,t.t0=u.a,t.next=11,s.allowance(i,n.params.spender);case 11:return t.t1=t.sent.toString(),c=new t.t0(t.t1),t.abrupt("return",c.lt(new u.a(n.params.amount)));case 14:case"end":return t.stop()}}),t)})))},submit:function(t,e,n,r,a,s){return b(void 0,void 0,void 0,o.a.mark((function i(){return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,T(n,r);case 2:return n=i.sent,i.t0=x,i.t1=t,i.t2=e,i.next=8,j(t,n,r);case 8:return i.t3=i.sent,i.t4=r,i.t5=a,i.t6=s,i.abrupt("return",i.t0.submit.call(i.t0,i.t1,i.t2,i.t3,i.t4,i.t5,i.t6));case 13:case"end":return i.stop()}}),i)})))}}}).call(this,n(24).Buffer)},41:function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return l}));var r=n(116),a=n.n(r),s=n(385),i=n(248),o=n.n(i),c=n(146),u=function(t,e,n){if("DGB"===e){var r={name:"digibyte",symbol:"dgb",addressTypes:{prod:["1e","3f"],testnet:["7e","8c"]},validator:o.a,segwitHrp:"prod"===n?"dgb":"dgbt"};return r.validator.isValidAddress(t,r,n)}return Object(s.validate)(t,e,n)},d=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},p=function(t,e){return{url:"https://sochain.com/".concat(t),address:function(t){return"https://sochain.com/address/".concat(e,"/").concat(t)},transaction:function(t){return"https://sochain.com/tx/".concat(e,"/").concat(t)}}},f=function(t,e){var n;if(!(n=e&&Object(c.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or a BitcoinNetworkConfig object."));return n},h=function(t){return a()("sha256").update(t).digest()},l=function(t){return e=h(t),a()("rmd160").update(e).digest();var e}},410:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(1),a=n.n(r),s=n(5),i=n(8),o=n(23),c=n.n(o),u=n(3),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},p=function(){function t(e){Object(s.a)(this,t),this.filfoxApi=e}return Object(i.a)(t,[{key:"fetchDeposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return d(this,void 0,void 0,a.a.mark((function r(){var s,i,o,d,p,f,h;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s="".concat(this.filfoxApi,"tipset/recent?count=1"),r.next=3,c.a.get(s,{timeout:60*u.w.sleep.SECONDS});case 3:if(i=r.sent.data,Array.isArray(i)){r.next=6;break}throw new Error("Unable to fetch latest Filecoin height: ".concat(i.error));case 6:return o=i[0].height,d="".concat(this.filfoxApi,"address/").concat(t,"/messages?pageSize=").concat(n,"&page=").concat(e,"&detailed"),r.next=10,c.a.get(d,{timeout:60*u.w.sleep.SECONDS});case 10:if(void 0===(p=r.sent.data).error){r.next=13;break}throw new Error("Unable to fetch Filecoin messages: ".concat(p.error));case 13:return f=p.messages,h=p.totalCount,r.abrupt("return",{deposits:f.filter((function(e){return e.to===t})).map((function(t){return{cid:t.cid,amount:t.value,params:t.params,confirmations:o-t.height,nonce:t.nonce}})),totalCount:h});case 15:case"end":return r.stop()}}),r,this)})))}},{key:"fetchMessage",value:function(t){return d(this,void 0,void 0,a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.filfoxApi,"message/").concat(t),e.next=3,c.a.get(n,{timeout:60*u.w.sleep.SECONDS});case 3:if(void 0===(r=e.sent.data).error||""===r.error){e.next=6;break}throw new Error("Unable to fetch Filecoin messages: ".concat(String(r.error)));case 6:return e.abrupt("return",{cid:r.cid,amount:r.value,params:r.params,confirmations:r.confirmations,nonce:r.nonce});case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()},411:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(1),a=n.n(r),s=n(5),i=n(8),o=n(48),c=n(23),u=n.n(c),d=n(17),p=n.n(d),f=n(3),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},l=function(t){return function(e){var n=[];try{for(var r=e.tx.value.msg,a=0;a<r.length;a++){var s=r[a];if("bank/MsgSend"===s.type){var i,c=Object(o.a)(s.value.amount);try{for(c.s();!(i=c.n()).done;){var u=i.value;n.push(Object.assign(Object.assign(Object.assign({},e),{messageIndex:a,to_address:s.value.to_address,from_address:s.value.from_address}),u))}}catch(d){c.e(d)}finally{c.f()}}}}catch(p){return[]}return n.map((function(e){return{hash:e.txhash,messageIndex:e.messageIndex,from:e.from_address,to:e.to_address,denomination:e.denom,amount:e.amount,memo:e.tx.value.memo,confirmations:e.height?t-parseInt(e.height,10):e.height}}))}},m=function(t,e){return t.concat(e)},b=function(){function t(e){Object(s.a)(this,t),this.apiUrl=e.apiUrl,this.chainId=e.chainId}return Object(i.a)(t,[{key:"getHeight",value:function(){return h(this,void 0,void 0,a.a.mark((function t(){var e,n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.apiUrl,"/blocks/latest"),t.next=3,u.a.get(e,{timeout:60*f.w.sleep.SECONDS});case 3:return n=t.sent.data,t.abrupt("return",new p.a(n.block.header.height));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"fetchDeposits",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return h(this,void 0,void 0,a.a.mark((function n(){var r,s,i,o,c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.apiUrl,"/v1/txs?account=").concat(t,"&chainId=").concat(this.chainId),n.next=3,u.a.get(r,{timeout:60*f.w.sleep.SECONDS});case 3:if(s=n.sent.data,i=s.txs,!((o=e?i.filter((function(t){return t.tx&&t.tx.value&&t.tx.value.memo===e})):i).length>0)){n.next=12;break}return n.next=9,this.getHeight();case 9:n.t0=n.sent.toNumber(),n.next=13;break;case 12:n.t0=0;case 13:return c=n.t0,n.abrupt("return",o.map(l(c)).reduce(m,[]).filter((function(e){return e.to===t})));case 15:case"end":return n.stop()}}),n,this)})))}},{key:"fetchConfirmations",value:function(t){return h(this,void 0,void 0,a.a.mark((function e(){var n,r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.apiUrl,"/v1/tx/").concat(t),e.next=3,u.a.get(n,{timeout:60*f.w.sleep.SECONDS});case 3:if(null!==(r=e.sent.data)){e.next=6;break}throw new Error("Unable to find Terra transaction ".concat(t,"."));case 6:if(r.height){e.next=8;break}return e.abrupt("return",new p.a(0));case 8:return e.next=10,this.getHeight();case 10:return s=e.sent,e.abrupt("return",s.minus(r.height));case 12:case"end":return e.stop()}}),e,this)})))}}]),t}()},412:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.selector&&!!t.chainId&&!!t.nativeAsset&&!!t.explorer&&!!t.apiUrl}},422:function(t,e,n){},430:function(t,e){},431:function(t,e){},433:function(t,e){},445:function(t,e){},447:function(t,e){},503:function(t,e){},504:function(t,e){},523:function(t,e){},53:function(t,e,n){"use strict";n.r(e),function(t){n.d(e,"sleep",(function(){return l})),n.d(e,"tryNTimes",(function(){return m})),n.d(e,"isDefined",(function(){return b})),n.d(e,"doesntError",(function(){return y})),n.d(e,"padBuffer",(function(){return v})),n.d(e,"toNBytes",(function(){return g})),n.d(e,"memoize",(function(){return x})),n.d(e,"strip0x",(function(){return w})),n.d(e,"Ox",(function(){return O})),n.d(e,"fromHex",(function(){return T})),n.d(e,"fromBase64",(function(){return j})),n.d(e,"toURLBase64",(function(){return k})),n.d(e,"isBase64",(function(){return E})),n.d(e,"isURLBase64",(function(){return _})),n.d(e,"isHex",(function(){return A})),n.d(e,"newPromiEvent",(function(){return S})),n.d(e,"hasOwnProperty",(function(){return P})),n.d(e,"invalidError",(function(){return R})),n.d(e,"extractError",(function(){return C}));var r=n(1),a=n.n(r),s=n(17),i=n.n(s),o=n(380),c=n.n(o),u=n(175),d=n(172),p=n(381),f=n(39),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},l=function(t){return h(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))};l.SECONDS=1e3,l.MINUTES=60*l.SECONDS;var m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1*l.SECONDS,r=arguments.length>3?arguments[3]:void 0;return h(void 0,void 0,void 0,a.a.mark((function s(){var i,o,c,u;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e&&"number"===typeof e&&!isNaN(e)){a.next=2;break}throw d.a.from(new Error("Invalid retry amount '".concat(e,"'.")),d.b.PARAMETER_ERROR);case 2:o=new Set,c=0;case 4:if(!(-1===e||c<e)){a.next=23;break}return a.prev=5,a.next=8,t();case 8:return a.abrupt("return",a.sent);case 11:if(a.prev=11,a.t0=a.catch(5),u=C(a.t0),o.add(u),i=a.t0||i,!(c<e-1||-1===e)){a.next=20;break}return a.next=19,l(n);case 19:r&&r.warn(a.t0);case 20:c++,a.next=4;break;case 23:throw i?i.message=Array.from(o).join(", "):i=new Error(Array.from(o).join(", ")),i;case 25:case"end":return a.stop()}}),s,null,[[5,11]])})))},b=function(t){return null!==t&&void 0!==t},y=function(t){return function(){try{var e=t.apply(void 0,arguments);return void 0===e||!0===e}catch(n){return!1}}},v=function(e,n){if(e.length>n)throw new Error("byte array longer than desired length (".concat(String(e.length)," > ").concat(String(n),")"));if(e.length<n){var r=n-e.length,a=Array.from(new Array(r)).map((function(t){return 0}));e=t.concat([t.from(a),e])}return e},g=function(e,n){var r;if(t.isBuffer(e))r=e;else{var a=new i.a(e).toString(16);a=a.length%2?"0"+a:a,r=t.from(a,"hex")}r=v(r,n);var s=new c.a(i.a.isBigNumber(e)?e.toFixed():e).toArrayLike(t,"be",n);if(!r.equals(s)||r.length!==n)throw new Error("Failed to convert to ".concat(String(n),"-length bytes - got ").concat(String(r.toString("hex"))," (").concat(String(r.length)," bytes), expected ").concat(s.toString("hex")," (").concat(String(s.length)," bytes)"));return r},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expiry:5*l.MINUTES,entryLimit:100},n=e.expiry,r=void 0===n?5*l.MINUTES:n,s=e.entryLimit,i=void 0===s?100:s,o=Object(u.b)({timestamp:0,paramKey:null,result:null}),c=Object(u.a)();return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return h(void 0,void 0,void 0,a.a.mark((function e(){var s,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=JSON.stringify(n),u=c.get(s),d=Date.now()/1e3,!u||!(!1===r||d-u.get("timestamp")<r)||u.get("paramKey")!==s){e.next=7;break}return e.abrupt("return",u.get("result"));case 7:return e.next=9,t.apply(void 0,n);case 9:return p=e.sent,(c=c.set(s,o({timestamp:Date.now()/1e3,paramKey:s,result:p}))).size>i&&(c=c.slice(-i)),e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})))}},w=function(t){return Object(f.assertType)("string",{hex:t}),"0x"===t.substring(0,2)?t.slice(2):t},O=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"0x"},n=e.prefix,r="number"===typeof t?t.toString(16):"string"===typeof t?t:t.toString("hex");return r.length%2===1&&(r="0"+r),r.substring(0,2)===n?r:"".concat(n).concat(r)},T=function(e){return Object(f.assertType)("string",{hex:e}),t.from(w(e),"hex")},j=function(e){return Object(f.assertType)("string",{base64:e}),t.from(e,"base64")},k=function(e){return Object(f.assertType)("Buffer",{input:e}),(t.isBuffer(e)?t.from(e):T(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},E=y((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.from(e,"base64");Object(f.assert)(void 0===n.length||r.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(f.assert)(r.toString("base64")===e)})),_=y((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.from(e,"base64");Object(f.assert)(void 0===n.length||r.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(f.assert)(k(r)===e)})),A=y((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.prefix&&(Object(f.assert)("0x"===e.slice(0,2)),e=e.slice(2));var r=t.from(e,"hex");Object(f.assert)(void 0===n.length||r.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(f.assert)(r.toString("hex")===e)})),S=function(t){return new p.a(t)},P=function(t,e){return t.hasOwnProperty(e)},R=function(t){return""===t||"null"===t||"undefined"===t},C=function t(e){if(e&&"object"===typeof e){if(P(e,"response")&&e.response){var n=t(e.response);if(!R(n))return n}if(P(e,"data")&&e.data){var r=t(e.data);if(!R(r))return r}if(P(e,"error")&&e.error){var a=t(e.error);if(!R(a))return a}if(P(e,"context")&&e.context){var s=t(e.context);if(!R(s))return s}if(P(e,"message")&&e.message){var i=t(e.message);if(!R(i))return i}if(P(e,"statusText")&&e.statusText){var o=t(e.statusText);if(!R(o))return o}}try{return"string"===typeof e?("Error: "===e.slice(0,7)&&(e=e.slice(7)),e):JSON.stringify(e)}catch(c){}return String(e)}}.call(this,n(24).Buffer)},54:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return m})),n.d(e,"f",(function(){return b})),n.d(e,"h",(function(){return y})),n.d(e,"g",(function(){return v})),n.d(e,"e",(function(){return g}));var r=n(72),a=n(3),s=(n(386),n(387)),i=n(388),o=n(389),c=n(390),u=n(391),d=s,p=i,f=o,h=c,l=u,m=function(t,e){var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error('No ABI entry found for "'.concat(e,'".'));return n},b=function(e){var n=e.inputs&&e.inputs.length>0?e.inputs.map((function(t){return t.type})).join(","):"",r="".concat(e.name,"(").concat(n,")");return a.w.keccak256(t.from(r))},y=function(t,e){return new r.b(e,h,t)},v=function(t,e){return new r.b(e,p,t)},g=function(t,e){return new r.b(e,d,t)}}).call(this,n(24).Buffer)},55:function(t,e,n){"use strict";n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return y})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return x})),n.d(e,"a",(function(){return w})),n.d(e,"i",(function(){return T})),n.d(e,"j",(function(){return j})),n.d(e,"g",(function(){return k}));var r=n(36),a=n(1),s=n.n(a),i=n(21),o=n(17),c=n.n(o),u=n(132),d=n(134),p=n(3),f=n(54),h=n(123),l=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n=Object(i.a)(e.args,3),r=n[0],a=n[1],s=n[2];return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:a.toString(),toRecipient:r,nonce:p.w.toURLBase64(p.w.toNBytes(s.toString(),32))})},b=function(t,e){var n=Object(i.a)(e.args,5),r=n[0],a=n[1],s=n[2],o=n[3],u=n[4],d=p.w.toNBytes(new c.a(u.toString()),32);if(32!==d.length)throw new Error("Invalid nonce length");return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:o.toString(),nonce:p.w.toURLBase64(d),toRecipient:r,toChain:a,toPayload:p.w.toURLBase64(p.w.fromHex(s))})},y=function(t,e){var n=Object(i.a)(e.args,3),r=(n[0],n[1],n[2]);return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:r.toString()})},v=function(t,e){return{chain:t,txidFormatted:e,txid:p.w.toURLBase64(p.w.fromHex(e)),txindex:"0"}},g=function(t,e,n,r,a,i){return l(void 0,void 0,void 0,s.a.mark((function o(){var c,u,d,l;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(h.c)(t,e,n);case 2:return c=s.sent,u=Object(f.h)(e,c),d=Object(f.d)(f.b,"LogMint"),s.next=7,O(e,c,d,[null,null,p.w.Ox(r)],i);case 7:if(!(l=s.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length){s.next=11;break}return l.length>1&&console.warn("Found more than one mint log."),s.abrupt("return",l[0]);case 11:if(!a){s.next=17;break}return s.next=14,u.status(p.w.Ox(a));case 14:if(!s.sent){s.next=17;break}return s.abrupt("return",v(t.selector,""));case 17:return s.abrupt("return",void 0);case 18:case"end":return s.stop()}}),o)})))},x=function(t,e,n,r,a){return l(void 0,void 0,void 0,s.a.mark((function i(){var o,c,u;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(h.b)(t,e,n);case 2:return o=s.sent,c=Object(f.d)(f.a,"LogRelease"),s.next=6,O(e,o,c,[null,null,p.w.Ox(r)],a);case 6:return(u=s.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length>1&&console.warn("Found more than one release log."),s.abrupt("return",u.length?u[0]:void 0);case 9:case"end":return s.stop()}}),i)})))},w=function(t,e){if(!t)throw Error("No events found in transaction");var n=p.w.Ox(Object(f.f)(e)),r=new u.a.utils.Interface([e]);return t.filter((function(t){return t.topics[0]===n})).map((function(t){return Object.assign(Object.assign({},r.parseLog(t)),{transactionHash:t.transactionHash})}))},O=function(t,e,n,a,i){return l(void 0,void 0,void 0,s.a.mark((function o(){var u,d,h;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(u=1,d="latest",!i){s.next=9;break}return s.t0=c.a,s.next=6,t.getBlockNumber();case 6:s.t1=s.sent.toString(),d=new s.t0(s.t1).toNumber(),u=d-i+1;case 9:return s.next=11,t.getLogs({address:e,fromBlock:u,toBlock:d,topics:[p.w.Ox(Object(f.f)(n))].concat(Object(r.a)(a))});case 11:return h=s.sent,s.abrupt("return",w(h,n));case 13:case"end":return s.stop()}}),o)})))},T=function(t){if(/^.+\.eth$/.exec(t))return!0;try{return u.a.utils.getAddress(t),!0}catch(e){return!1}},j=function(t){return null!==t&&p.w.isHex(t.txid,{length:32,prefix:!0})},k=function(t,e){return p.w.fromHex(d.defaultAbiCoder.encode(t,e))}},569:function(t,e){},63:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return i}));var r=n(3),a=n(193),s=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},i=function(t,e){if(!e){var n=t[r.i.Mainnet]||t[r.i.Testnet]||t[r.i.Devnet];if(!n)throw new Error("Must provide network.");return n}var s;if(!(s=e&&Object(a.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or an EvmNetworkConfig object."));return s}},68:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r=n(36),a=n(16),s=n(1),i=n.n(s),o=n(5),c=n(8),u=n(17),d=n.n(u),p=n(117),f=n.n(p),h=n(72),l=n(108),m=n(134),b=n(3),y=n(54),v=n(136),g=n(123),x=n(55),w=n(40),O=n(63),T=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},j=function(){function e(t,n){var r=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(o.a)(this,e),this.assets={},this.defaultTxConfig={},this.getRenAsset=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.d)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getMintGateway=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockAsset=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockGateway=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.validateAddress=x.i,this.validateTransaction=x.j,this.isMintAsset=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRenAsset(t);case 3:return e.t0=e.sent,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 8:return e.prev=8,e.t2=e.catch(0),e.t2 instanceof Error&&/(Empty address returned)|(Asset not supported on mint-chain)/.exec(String((e.t2||{}).message))||console.warn(e.t2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})))})),this.assetDecimals=b.w.memoize((function(t){return T(r,void 0,void 0,i.a.mark((function e(){var n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.network.asset){e.next=2;break}return e.abrupt("return",this.network.network.nativeCurrency.decimals);case 2:return e.next=4,this.isLockAsset(t);case 4:if(!e.sent){e.next=10;break}return e.next=7,this.getLockAsset(t);case 7:case 15:n=e.sent,e.next=19;break;case 10:return e.next=12,this.isMintAsset(t);case 12:if(!e.sent){e.next=18;break}return e.next=15,this.getRenAsset(t);case 18:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 19:return r={constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},a=new h.b(n,[r],this.provider),e.next=23,a.decimals();case 23:return s=e.sent,e.abrupt("return",new d.a(s.toString()).toNumber());case 25:case"end":return e.stop()}}),e,this)})))}),{expiry:!1}),this.getPayloadHandler=function(t){switch(t){case"approval":return w.c;case"contract":return w.d;case"address":return w.b}throw new Error("Unknown payload type ".concat(t))},this.network=t,this.chain=this.network.selector,this.explorer=Object(O.a)(this.network.network.blockExplorerUrls[0]),this.logger=a.logger||b.u,this.provider=void 0,this.withProvider(n)}return Object(c.a)(e,[{key:"addressExplorerLink",value:function(t){return this.explorer.address(t)}},{key:"formattedTransactionHash",value:function(t){return b.w.Ox(b.w.fromBase64(t.txid))}},{key:"transactionExplorerLink",value:function(t){return this.explorer.transaction(this.formattedTransactionHash(t))}},{key:"withProvider",value:function(t){if(t.signer||t.provider){if(this.provider=t.provider||this.provider,this.signer=t.signer||this.signer,this.signer)try{this.signer.connect(this.provider)}catch(n){}}else{var e=t._isProvider?t:new l.providers.Web3Provider(t);this.provider=e,this.signer=e.getSigner()}return this}},{key:"getOutputPayload",value:function(t,e,n){return T(this,void 0,void 0,i.a.mark((function r(){var a;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type)).getPayload){r.next=3;break}throw b.c.from(new Error("'".concat(n.type,"' payload type can only be used as a setup payload.")),b.h.PARAMETER_ERROR);case 3:return r.abrupt("return",a.getPayload(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler));case 4:case"end":return r.stop()}}),r,this)})))}},{key:"isLockAsset",value:function(t){return T(this,void 0,void 0,i.a.mark((function e(){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.w.memoize((function(t){return T(n,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(this.assets).includes(t)&&t!==this.network.asset){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,this.getLockAsset(t);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})))}))(t));case 1:case"end":return e.stop()}}),e)})))}},{key:"isDepositAsset",value:function(t){return t===this.network.asset}},{key:"transactionConfidence",value:function(t){return T(this,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.txid){e.next=2;break}throw new Error("Unable to fetch transaction confidence, transaction hash not set.");case 2:return e.t0=d.a,e.next=5,this.provider.getBlockNumber();case 5:return e.t1=e.sent.toString(),n=new e.t0(e.t1),e.next=9,this.provider.getTransactionReceipt(this.formattedTransactionHash(t));case 9:if(null!==(r=e.sent)){e.next=12;break}throw b.c.from(new Error("".concat(t.chain," transaction not found: ").concat(t.txidFormatted)),b.h.TRANSACTION_NOT_FOUND);case 12:if(!r||!r.blockNumber){e.next=17;break}return a=new d.a(r.blockNumber.toString()),e.abrupt("return",n.minus(a).plus(1));case 17:return e.abrupt("return",new d.a(0));case 18:case"end":return e.stop()}}),e,this)})))}},{key:"getBalance",value:function(t,e){return T(this,void 0,void 0,i.a.mark((function n(){var r,a,s,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=9;break}if(this.signer){n.next=3;break}throw new Error("Must connect signer or provider address.");case 3:if(n.t0=e,n.t0){n.next=8;break}return n.next=7,this.signer.getAddress();case 7:n.t0=n.sent;case 8:e=n.t0;case 9:if(t!==this.network.asset){n.next=15;break}return n.t1=d.a,n.next=13,this.provider.getBalance(e);case 13:return n.t2=n.sent.toString(),n.abrupt("return",new n.t1(n.t2));case 15:return r={constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},n.next=18,this.isMintAsset(t);case 18:if(!n.sent){n.next=24;break}return n.next=21,this.getRenAsset(t);case 21:a=n.sent,n.next=33;break;case 24:return n.next=26,this.isLockAsset(t);case 26:if(!n.sent){n.next=32;break}return n.next=29,this.getLockAsset(t);case 29:a=n.sent,n.next=33;break;case 32:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 33:return s=new h.b(a,[r],this.provider),n.next=36,s.balanceOf(e);case 36:return n.next=38,n.sent;case 38:return o=n.sent,n.abrupt("return",new d.a(o.toString()));case 40:case"end":return n.stop()}}),n,this)})))}},{key:"getOutputTx",value:function(t,e,n,r,a){return T(this,void 0,void 0,i.a.mark((function s(){var o,c,u=this;return i.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o=function(){return T(u,void 0,void 0,i.a.mark((function n(){var a,s,o;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r(),s=a.nHash,o=a.sigHash,t!==b.f.Release){n.next=7;break}return n.next=4,Object(x.c)(this.network,this.provider,e,s,this.network.logRequestLimit);case 4:case 9:return n.abrupt("return",n.sent);case 7:return n.next=9,Object(x.b)(this.network,this.provider,e,s,o,this.network.logRequestLimit);case 10:return n.abrupt("return",void 0);case 11:case"end":return n.stop()}}),n,this)})))},s.next=3,o();case 3:if(!(c=s.sent)){s.next=6;break}return s.abrupt("return",new b.b({chainTransaction:c,chain:this,target:a}));case 6:if(this.signer){s.next=8;break}throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);case 8:return s.abrupt("return",new v.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return u.getEVMParams(e,t,r())},findExistingTransaction:o}));case 9:case"end":return s.stop()}}),s,this)})))}},{key:"getInputTx",value:function(t,e,n,r,a,s){var i=this;if(!this.signer)throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);return new v.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return i.getEVMParams(e,t,r())},onReceipt:function(e){if(t===b.d.Burn){var n=Object(y.d)(y.b,"LogBurn");Object(x.a)(e.logs,n).map((function(t){return Object(x.d)(i.chain,t)})).map(s)}else{var r=Object(y.d)(y.a,"LogLockToChain"),a=Object(x.a)(e.logs,r).map((function(t){return Object(x.e)(i.chain,t)}));a.map(s);var o=Object(y.d)(y.c,"LogTransferred"),c=Object(x.a)(e.logs,o).map((function(t){return Object(x.f)(i.chain,t)}));if(c.map(s),0===a.length&&0===c.length)throw new Error("No inputs found in transaction ".concat(e.transactionHash,"."))}}})}},{key:"getInputSetup",value:function(t,e,n,r){return T(this,void 0,void 0,i.a.mark((function a(){var s,o,c,u,d,p,f=this;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((s=this.getPayloadHandler(n.type))&&s.getSetup){a.next=3;break}return a.abrupt("return",{});case 3:if(this.signer){a.next=5;break}throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);case 5:return a.next=7,s.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,r()),this.getPayloadHandler);case 7:for(o=a.sent,c={},u=0,d=Object.keys(o);u<d.length;u++)p=d[u],c[p]=new v.a({signer:this.signer,network:this.network,chain:this.chain,payload:o[p],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return f.getEVMParams(t,e,r())}});return a.abrupt("return",c);case 11:case"end":return a.stop()}}),a,this)})))}},{key:"getOutputSetup",value:function(t,e,n){return T(this,void 0,void 0,i.a.mark((function r(){var a,s,o,c,u,d,p=this;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type))&&a.getSetup){r.next=3;break}return r.abrupt("return",{});case 3:if(this.signer){r.next=5;break}throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);case 5:return r.next=7,a.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler);case 7:for(s=r.sent,o={},c=0,u=Object.keys(s);c<u.length;c++)d=u[c],o[d]=new v.a({signer:this.signer,network:this.network,chain:this.chain,payload:s[d],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return p.getEVMParams(t,e,{})}});return r.abrupt("return",o);case 11:case"end":return r.stop()}}),r,this)})))}},{key:"createGatewayAddress",value:function(e,n,r,a){if(n.chain!==this.chain)throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(this.chain,"."));var s=new f.a.ec("secp256k1"),i=s.keyFromPublic(r),o=s.keyFromPrivate(a),c=s.keyFromPublic(i.getPublic().add(o.getPublic()));return Object(m.computeAddress)(t.from(c.getPublic(!1,"hex"),"hex"))}},{key:"getEVMParams",value:function(e,n,r){var s,o=this;return s={},Object(a.a)(s,w.a.EVM_TRANSACTION_TYPE,n),Object(a.a)(s,w.a.EVM_TOKEN_ADDRESS,(function(){return T(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockAsset(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getRenAsset(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_TOKEN_DECIMALS,(function(){return T(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.assetDecimals(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_ACCOUNT,(function(){return T(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.signer){t.next=2;break}throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);case 2:return t.abrupt("return",this.signer.getAddress());case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_ACCOUNT_IS_CONTRACT,(function(){return T(o,void 0,void 0,i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.signer){t.next=2;break}throw b.c.from(new Error("Must connect signer."),b.h.PARAMETER_ERROR);case 2:return t.next=4,this.signer.getAddress();case 4:return e=t.sent,t.next=7,this.provider.getCode(e);case 7:return n=t.sent,t.abrupt("return",b.w.fromHex(n).length>0);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_GATEWAY,(function(){return T(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockGateway(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getMintGateway(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_TRANSFER_WITH_LOG_CONTRACT,(function(){return T(o,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(this.provider,this.network.addresses.GatewayRegistry).getTransferContract();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(s,w.a.EVM_ASSET,e),Object(a.a)(s,w.a.EVM_AMOUNT,b.w.isDefined(r.amount)?r.amount.toString():void 0),Object(a.a)(s,w.a.EVM_NHASH,r.nHash),Object(a.a)(s,w.a.EVM_PHASH,r.pHash),Object(a.a)(s,w.a.EVM_SIGNATURE,r.signature),Object(a.a)(s,w.a.EVM_SIGNATURE_R,b.w.isDefined(r.signature)?r.signature.slice(0,32):void 0),Object(a.a)(s,w.a.EVM_SIGNATURE_S,b.w.isDefined(r.signature)?r.signature.slice(32,64):void 0),Object(a.a)(s,w.a.EVM_SIGNATURE_V,b.w.isDefined(r.signature)?r.signature.slice(64,65)[0]:void 0),Object(a.a)(s,w.a.EVM_TO_CHAIN,r.toChain),Object(a.a)(s,w.a.EVM_TO_ADDRESS_BYTES,b.w.isDefined(r.toPayload)?t.from(r.toPayload.to):void 0),Object(a.a)(s,w.a.EVM_TO_ADDRESS,b.w.isDefined(r.toPayload)?r.toPayload.to:void 0),Object(a.a)(s,w.a.EVM_TO_PAYLOAD,b.w.isDefined(r.toPayload)?r.toPayload.payload:void 0),Object(a.a)(s,w.a.EVM_GATEWAY_DEPOSIT_ADDRESS,r.gatewayAddress),Object(a.a)(s,w.a.EVM_GATEWAY_IS_DEPOSIT_ASSET,this.isDepositAsset(e)),s}},{key:"Account",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.amount,r=e.convertToWei;if(Object(b.k)("BigNumber | string | number | undefined",{amount:n}),Object(b.k)("boolean | undefined",{convertToWei:r}),b.w.isDefined(n)){if((t=d.a.isBigNumber(n)?n:new d.a(n.toString())).isNaN())throw b.c.from(new Error("Invalid numeric-value 'amount'. (amount: ".concat(n.toString(),")")),b.h.PARAMETER_ERROR);if(!r&&0!==t.decimalPlaces())throw b.c.from(new Error("Amount must be provided in Wei as an integer, or 'convertToWei' must be set to 'true'. (amount: ".concat(n.toString(),")")),b.h.PARAMETER_ERROR)}return{chain:this.chain,type:"address",params:{address:w.a.EVM_ACCOUNT,amount:t?t.toFixed():void 0,convertToWei:r}}}},{key:"Address",value:function(t){return Object(b.k)("string",{address:t}),{chain:this.chain,type:"address",params:{address:t}}}},{key:"Contract",value:function(t){return{chain:this.chain,type:"contract",params:{to:t.to,method:t.method,params:[].concat(Object(r.a)(t.params),Object(r.a)(t.withRenParams?[{name:"amount",type:"uint256",value:w.a.EVM_AMOUNT,notInPayload:!0},{name:"nHash",type:"bytes32",value:w.a.EVM_NHASH,notInPayload:!0},{name:"signature",type:"bytes",value:w.a.EVM_SIGNATURE,notInPayload:!0}]:[])),txConfig:t.txConfig}}}}]),e}();j.chain="Ethereum"}).call(this,n(24).Buffer)},706:function(t,e,n){"use strict";n.r(e);n(422);var r=n(0),a=n.n(r),s=n(379),i=n.n(s),o=n(3),c=Object({NODE_ENV:"production",PUBLIC_URL:"/ren-js-v3-demo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_INFURA_KEY:"fa7d507418f54bbfb78a054eabb01f48"}).REACT_APP_NETWORK||o.i.Testnet,u=n(11);var d=function(){return Object(u.jsx)("div",{})},p=n(1),f=n.n(p),h=n(52),l=n(197),m=n.n(l),b=n(16),y=n(42),v=n(36),g=n(21),x=n(250),w=n(402),O=n(403),T=n(5),j=n(207),k=n(75),E=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},_=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=function(t){return E(void 0,void 0,void 0,f.a.mark((function n(){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchStatus();case 2:if(t.status===k.b.Submitted){n.next=18;break}n.t0=t.status,n.next=n.t0===k.b.Detected?6:n.t0===k.b.Confirmed?9:n.t0===k.b.Signed?12:n.t0===k.b.Reverted?15:16;break;case 6:return n.next=8,o.w.tryNTimes((function(){return E(void 0,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._config.logger.debug("Calling .confirmed"),t.in.eventEmitter.on("status",(function(e){o.w.isDefined(e.confirmations)?t._config.logger.debug("".concat(e.confirmations,"/").concat(e.target," confirmations")):t._config.logger.debug("Waiting for ".concat(e.target," confirmations..."))})),e.next=4,t.in.wait();case 4:case"end":return e.stop()}}),e)})))}),e,10*o.w.sleep.SECONDS,t._config.logger);case 8:case 11:case 14:return n.abrupt("break",16);case 9:return n.next=11,o.w.tryNTimes((function(){return E(void 0,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._config.logger.debug("Calling .signed"),t.renVM.eventEmitter.on("status",(function(e){t._config.logger.debug("status: ".concat(e))})),e.next=5,t.renVM.submit();case 5:return e.next=7,t.renVM.wait();case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),t.status!==k.b.Reverted){e.next=13;break}return e.abrupt("return");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))}),e,10*o.w.sleep.SECONDS,t._config.logger);case 12:return n.next=14,o.w.tryNTimes((function(){return E(void 0,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._config.logger.debug("Calling .mint"),t.out){e.next=4;break}return e.abrupt("return");case 4:if(!t.out.submit){e.next=7;break}return e.next=7,t.out.submit();case 7:return e.next=9,t.out.wait();case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),!/(execution reverted)|(Transaction has been reverted)/.exec(e.t0.message||String(e.t0))){e.next=17;break}return t.status=k.b.Reverted,t.revertReason=e.t0.message||String(e.t0),e.abrupt("return");case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))}),e,10*o.w.sleep.SECONDS,t._config.logger);case 15:throw new Error("RenVM transaction reverted".concat(t.revertReason?": "+t.revertReason:""));case 16:n.next=2;break;case 18:case"end":return n.stop()}}),n)})))};return n.withRetries=function(e){return t(e)},n}(),A=n(17),S=n.n(A),P=n(8),R=n(15),C=n(12),M=n(13),N=n(29),B=n(25),D=n(85),I=n(175),U=n(198),L=n(199),H=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},F=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t){var r,a;return Object(T.a)(this,n),(a=e.call(this)).addListener=function(t,e){return"transaction"===t&&a.getTransactions().map(e),Object(N.a)((r=Object(R.a)(a),Object(B.a)(n.prototype)),"on",r).call(r,t,e),Object(R.a)(a)},a.on=function(t,e){return a.addListener(t,e)},a.getTransactions=t,a}return n}(D.EventEmitter),V=function(){function t(e,n,r,a){var s=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(T.a)(this,t),this.setup={},this.transactions=Object(I.a)(),this.eventEmitter=new F((function(){return s.transactions.filter((function(t){return void 0===t.then})).map((function(t){return t})).valueSeq().toArray()})),this.params=a,this.fromChain=n,this.toChain=r,this.provider=e,this.config=Object.assign(Object.assign({},U.a),i),this.config.logger.debug("gateway created:",String(e.endpointOrProvider),n.chain,r.chain,this.params,i)}return Object(P.a)(t,[{key:"selector",get:function(){return this.getter("_selector")||this._selector}},{key:"gHash",get:function(){return this.getter("_gHash")||this._gHash}},{key:"pHash",get:function(){return this.getter("_pHash")||this._pHash}},{key:"fees",get:function(){return this.getter("_fees")||this._fees}},{key:"outputType",get:function(){return this.getter("_outputType")||this._outputType}},{key:"inputType",get:function(){return this.getter("_inputType")||this._inputType}},{key:"inConfirmationTarget",get:function(){return this.getter("_inConfirmationTarget")||this._inConfirmationTarget}},{key:"initialize",value:function(){return H(this,void 0,void 0,f.a.mark((function t(){var e,n,r,a,s,i,c,u,d,p,h,l,m,b,y,v,x,w,O,T=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.params,n=e.to,r=e.asset,a=e.from,t.next=3,Object(L.a)({asset:r,fromChain:this.fromChain,toChain:this.toChain});case 3:if(s=t.sent,i=s.inputType,c=s.outputType,u=s.selector,this._inputType=i,this._outputType=c,this._selector=u,this.outputType!==o.f.Release||Object(o.r)(this.fromChain)){t.next=12;break}throw o.c.from(new Error("Cannot release from non-contract chain ".concat(this.fromChain.chain)),o.h.PARAMETER_ERROR);case 12:if(this.outputType!==o.f.Mint||Object(o.r)(this.toChain)){t.next=14;break}throw o.c.from(new Error("Cannot mint ".concat(r," to non-contract chain ").concat(this.toChain.chain)),o.h.PARAMETER_ERROR);case 14:return t.next=16,Promise.all([this.provider.getConfirmationTarget(this.fromChain.chain),H(T,void 0,void 0,f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.w.isDefined(this.params.shard)){t.next=2;break}return t.abrupt("return",this.params.shard);case 2:if(t.t0=this.inputType===o.d.Lock&&Object(o.s)(this.fromChain),!t.t0){t.next=7;break}return t.next=6,this.fromChain.isDepositAsset(r);case 6:t.t0=t.sent;case 7:if(!t.t0){t.next=13;break}return t.next=10,this.provider.selectShard(this.params.asset);case 10:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",{gPubKey:""});case 14:case"end":return t.stop()}}),t,this)}))),this.toChain.getOutputPayload(r,this.outputType,n)]);case 16:if(d=t.sent,p=Object(g.a)(d,3),h=p[0],l=p[1],m=p[2],this.params.shard=l,this._inConfirmationTarget=h,this._pHash=Object(o.o)(m.payload),b=Object(o.p)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),t.t0=Object(o.s)(this.fromChain),!t.t0){t.next=30;break}return t.next=29,this.fromChain.isDepositAsset(this.params.asset);case 29:t.t0=t.sent;case 30:if(!t.t0){t.next=57;break}if(t.prev=31,Object(o.r)(this.toChain)){t.next=34;break}throw new Error("Cannot mint ".concat(r," to non-contract chain ").concat(this.toChain.chain,"."));case 34:if(this.params.shard){t.next=36;break}throw o.c.from(new Error("RenVM shard not selected."),o.h.INTERNAL_ERROR);case 36:if(y="string"===typeof this.params.nonce?o.w.fromBase64(this.params.nonce):o.w.toNBytes(this.params.nonce||0,32),v=Object(o.m)(this.pHash,b,m.toBytes,y),this._gHash=v,x=o.w.fromBase64(this.params.shard.gPubKey),this.config.logger.debug("gPubKey:",o.w.Ox(x)),x&&0!==x.length){t.next=43;break}throw o.c.from(new Error("Unable to fetch RenVM shard public key."),o.h.NETWORK_ERROR);case 43:if(v&&0!==v.length){t.next=45;break}throw new Error("Invalid gateway hash being passed to gateway address generation.");case 45:if(r&&0!==r.length){t.next=47;break}throw new Error("Invalid asset being passed to gateway address generation.");case 47:return t.next=49,this.fromChain.createGatewayAddress(this.params.asset,this.params.from,x,v);case 49:this.gatewayAddress=t.sent,this.config.logger.debug("gateway address:",this.gatewayAddress),t.next=56;break;case 53:throw t.prev=53,t.t1=t.catch(31),t.t1;case 56:this.wait().catch(console.error);case 57:if(!Object(o.r)(this.fromChain)){t.next=63;break}return w=function(t){var e=o.w.toURLBase64(t.nonce?o.w.fromBase64(t.nonce):"string"===typeof T.params.nonce?o.w.fromBase64(T.params.nonce):o.w.toNBytes(T.params.nonce||0,32)),n=Object(o.m)(m.payload,b,m.toBytes,o.w.fromBase64(e));if(T._gHash=n,!n||0===n.length)throw o.c.from(new Error("Invalid gateway hash being passed to gateway address generation."),o.h.PARAMETER_ERROR);if(!r||0===r.length)throw o.c.from(new Error("Invalid asset being passed to gateway address generation."),o.h.PARAMETER_ERROR);T.processDeposit(t).catch(console.error)},O=function(){},t.next=62,this.fromChain.getInputTx(this.inputType,r,a,(function(){return{toChain:n.chain,toPayload:m,gatewayAddress:T.gatewayAddress}}),this.inConfirmationTarget,w,O);case 62:this.in=t.sent;case 63:return t.next=65,W(this.provider,r,this.fromChain,this.toChain);case 65:if(this._fees=t.sent,!Object(o.r)(this.fromChain)||!this.fromChain.getInputSetup){t.next=73;break}return t.t2=Object,t.t3=Object.assign({},this.setup),t.next=71,this.fromChain.getInputSetup(r,this.inputType,a,(function(){return{toChain:n.chain,toPayload:m,gatewayAddress:T.gatewayAddress}}));case 71:t.t4=t.sent,this.setup=t.t2.assign.call(t.t2,t.t3,t.t4);case 73:if(!Object(o.r)(this.toChain)||!this.toChain.getOutputSetup){t.next=80;break}return t.t5=Object,t.t6=Object.assign({},this.setup),t.next=78,this.toChain.getOutputSetup(r,this.outputType,n);case 78:t.t7=t.sent,this.setup=t.t5.assign.call(t.t5,t.t6,t.t7);case 80:return t.abrupt("return",this);case 81:case"end":return t.stop()}}),t,this,[[31,53]])})))}},{key:"processDeposit",value:function(t){return H(this,void 0,void 0,f.a.mark((function e(){var n,r,a,s=this;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.txid+"_"+String(t.txindex),r=this.transactions.get(n)){e.next=18;break}return a=function(){return H(s,void 0,void 0,f.a.mark((function e(){var n,r,a,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pHash&&this.gHash){e.next=2;break}throw new Error("Gateway address must be generated before calling 'processDeposit'.");case 2:return n=o.w.toURLBase64(t.nonce?o.w.fromBase64(t.nonce):"string"===typeof this.params.nonce?o.w.fromBase64(this.params.nonce):o.w.toNBytes(this.params.nonce||0,32)),r={asset:this.params.asset,fromTx:t,to:this.params.to,shard:this.params.shard,nonce:n},(a=this.in)||(a=new o.b({chainTransaction:t,chain:this.fromChain,target:this.inConfirmationTarget})),s=new k.a(this.provider,this.fromChain,this.toChain,r,a,this.config),e.next=9,s.initialize();case 9:return this.eventEmitter.emit("transaction",s),this.config.logger.debug("new deposit:",t),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)})))}(),this.transactions=this.transactions.set(n,a),e.prev=6,e.t0=this.transactions,e.t1=n,e.next=11,a;case 11:e.t2=e.sent,this.transactions=e.t0.set.call(e.t0,e.t1,e.t2),e.next=18;break;case 15:e.prev=15,e.t3=e.catch(6),this.transactions=this.transactions.remove(n);case 18:return e.next=20,r;case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,this,[[6,15]])})))}},{key:"on",value:function(t,e){return this.eventEmitter.on(t,e),this}},{key:"getter",value:function(t){if(void 0===this[t])throw new Error("Must call 'initialize' before accessing '".concat(t,"'."));return this[t]}},{key:"wait",value:function(){return H(this,void 0,void 0,f.a.mark((function t(){var e,n,r,a=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gatewayAddress&&Object(o.s)(this.fromChain)&&this.fromChain.watchForDeposits){t.next=2;break}return t.abrupt("return");case 2:if(e=function(){return 0===a.eventEmitter.listenerCount("transaction")},t.prev=4,!e()){t.next=9;break}return t.next=8,o.w.sleep(1*o.w.sleep.SECONDS);case 8:return t.abrupt("continue",2);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),this.config.logger.error(o.w.extractError(t.t0));case 14:return n=function(t){try{a.processDeposit(t).catch(console.error)}catch(e){a.config.logger.error(e)}},r=function(){},t.prev=16,t.next=19,this.fromChain.watchForDeposits(this.params.asset,this.params.from,this.gatewayAddress,n,r,e);case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(16),this.config.logger.error(o.w.extractError(t.t1));case 24:return t.next=26,o.w.sleep(this.config.networkDelay);case 26:t.next=2;break;case 28:case"end":return t.stop()}}),t,this,[[4,11],[16,21]])})))}}]),t}(),G=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},K=1e4,W=function(t,e,n,r){return G(void 0,void 0,void 0,f.a.mark((function a(){var s,i,c,u,d,p,h,l,m,b,y,v,g,x;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.queryBlockState(e,5);case 2:if((s=a.sent)[e]){a.next=5;break}throw o.c.from(new Error("No fee details found for ".concat(e)),o.h.UNKNOWN_ERROR);case 5:return i=s[e],c=i.gasLimit,u=i.gasCap,d=i.minimumAmount,p=i.dustAmount,h=s[e].fees.chains.filter((function(t){return t.chain===r.chain}))[0],a.next=9,n.isLockAsset(e);case 9:if(!(l=a.sent)){a.next=19;break}if(a.t1=Object(o.s)(n),!a.t1){a.next=16;break}return a.next=15,n.isDepositAsset(e);case 15:a.t1=a.sent;case 16:a.t0=a.t1,a.next=25;break;case 19:if(a.t2=Object(o.s)(r),!a.t2){a.next=24;break}return a.next=23,r.isDepositAsset(e);case 23:a.t2=a.sent;case 24:a.t0=a.t2;case 25:return m=a.t0,b=m?c.times(u).plus(p).plus(1):new S.a(0),y=h&&h.mintFee?h.mintFee.toNumber():15,v=h&&h.burnFee?h.burnFee.toNumber():15,g=function(t){return l?S.a.max(new S.a(t).minus(b).times(K-y).dividedBy(K).decimalPlaces(0),0):S.a.max(new S.a(t).times(K-v).dividedBy(K).minus(b).decimalPlaces(0),0)},x=d.plus(b).times((l?y:v)+K).dividedBy(K).decimalPlaces(0),a.abrupt("return",{lock:b,release:b,mint:y,burn:v,minimumAmount:x,estimateOutput:g});case 32:case"end":return a.stop()}}),a)})))},q=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},Y=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.i.Mainnet,r=arguments.length>1?arguments[1]:void 0;Object(T.a)(this,t),this.chains={},this.withChains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,s=n;a<s.length;a++){var i=s[a];e.chains[i.chain]=i}return e},this.withChain=this.withChains,this.getChain=function(t){if(!e.chains[t])throw o.c.from(new Error("Chain ".concat(t," not found. (Must call 'renJS.withChains(").concat(t.toLowerCase(),")')")),o.h.PARAMETER_ERROR);return e.chains[t]},this.getFees=function(t){var n=t.asset,r=t.from,a=t.to;return q(e,void 0,void 0,f.a.mark((function t(){var e,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getChain("string"===typeof r?r:r.chain),s=this.getChain("string"===typeof a?a:a.chain),t.next=4,e.isLockAsset(n);case 4:if(t.t0=t.sent,t.t0){t.next=12;break}if(t.t1=Object(o.r)(e),!t.t1){t.next=11;break}return t.next=10,e.isMintAsset(n);case 10:t.t1=t.sent;case 11:t.t0=t.t1;case 12:if(t.t0){t.next=14;break}throw o.c.from(new Error("Asset not supported by chain ".concat(e.chain,".")),o.h.PARAMETER_ERROR);case 14:return t.next=16,s.isLockAsset(n);case 16:if(t.t2=t.sent,t.t2){t.next=24;break}if(t.t3=Object(o.r)(s),!t.t3){t.next=23;break}return t.next=22,s.isMintAsset(n);case 22:t.t3=t.sent;case 23:t.t2=t.t3;case 24:if(t.t2){t.next=26;break}throw o.c.from(new Error("Asset not supported by chain ".concat(s.chain,".")),o.h.PARAMETER_ERROR);case 26:return t.next=28,W(this.provider,n,s,e);case 28:return t.abrupt("return",t.sent);case 29:case"end":return t.stop()}}),t,this)})))},this.selectShard=function(t){return q(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.selectShard(t));case 1:case"end":return e.stop()}}),e,this)})))},this.gateway=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return q(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new V(this.provider,this.getChain(t.from.chain),this.getChain(t.to.chain),t,Object.assign(Object.assign({},this._config),n)).initialize());case 1:case"end":return e.stop()}}),e,this)})))},this.gatewayTransaction=function(t,n){return q(e,void 0,void 0,f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new k.a(this.provider,this.getChain(t.fromTx.chain),this.getChain(t.to.chain),t,void 0,Object.assign(Object.assign({},this._config),n)).initialize());case 1:case"end":return e.stop()}}),e,this)})))},this._config=r||{},this.provider="string"===typeof n?new j.a(n,this._config.logger):n};Y.Networks=o.i,Y.defaultDepositHandler=_;var X,z,Q=Y,Z=n(48),J=n(114),$=(n(86),n(288)),tt=n(289),et=n(290),nt=n(294),rt=(n(146),n(295)),at=n(68),st=(n(193),n(63)),it=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);it.chain="Arbitrum",it.configMap=(X={},Object(b.a)(X,o.i.Testnet,{selector:"Arbitrum",asset:"ArbETH",isTestnet:!0,network:{chainId:"0x66eeb",chainName:"Arbitrum Testnet Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc","wss://rinkeby.arbitrum.io/ws"],blockExplorerUrls:["https://testnet.arbiscan.io/","https://rinkeby-explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(b.a)(X,o.i.Mainnet,{selector:"Arbitrum",asset:"ArbETH",network:{chainId:"0xa4b1",chainName:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","wss://arb1.arbitrum.io/ws"],blockExplorerUrls:["https://arbiscan.io","https://explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),X),it.assets={ArbETH:"ArbETH"};var ot,ct=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);ct.chain="Avalanche",ct.configMap=(z={},Object(b.a)(z,o.i.Testnet,{selector:"Avalanche",asset:"AVAX",isTestnet:!0,network:{chainId:"0xa869",chainName:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorerUrls:["https://testnet.snowtrace.io/"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(b.a)(z,o.i.Mainnet,{selector:"Avalanche",asset:"AVAX",network:{chainId:"0xa86a",chainName:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorerUrls:["https://snowtrace.io/"]},addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),z),ct.assets={AVAX:"AVAX"};var ut={selector:"Fantom",asset:"FTM",network:{chainId:"0xfa2",chainName:"Fantom Testnet",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorerUrls:["https://testnet.ftmscan.com/"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},dt=Object.assign(Object.assign({},ut),{addresses:{GatewayRegistry:"0xD881213F5ABF783d93220e6bD3Cc21706A8dc1fC",BasicBridge:"0xD087b0540e172553c12DEEeCDEf3dFD21Ec02066"}}),pt=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);pt.chain="Fantom",pt.configMap=(ot={},Object(b.a)(ot,o.i.Mainnet,{selector:"Fantom",asset:"FTM",network:{chainId:"0xfa",chainName:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.ftm.tools"],blockExplorerUrls:["https://ftmscan.com"]},addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),Object(b.a)(ot,o.i.Testnet,ut),Object(b.a)(ot,o.i.Devnet,dt),ot),pt.assets={FTM:"FTM"};var ft,ht=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);ht.chain="Goerli",ht.configMap=Object(b.a)({},o.i.Testnet,{selector:"Goerli",asset:"gETH",network:{chainId:"0x5",chainName:"Ethereum Testnet G\xf6rli",nativeCurrency:{name:"G\xf6rli Ether",symbol:"GOR",decimals:18},rpcUrls:["https://rpc.goerli.mudit.blog/","https://rpc.slock.it/goerli ","https://goerli.prylabs.net/"],blockExplorerUrls:["https://goerli.infura.io"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),ht.assets={gETH:"gETH"};var lt,mt=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);mt.chain="Polygon",mt.configMap=(ft={},Object(b.a)(ft,o.i.Testnet,{selector:"Polygon",asset:"MATIC",isTestnet:!0,network:{chainId:"0x13881",chainName:"Matic(Polygon) Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"tMATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com","https://rpc-mumbai.matic.today","wss://ws-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(b.a)(ft,o.i.Mainnet,{selector:"Polygon",asset:"MATIC",network:{chainId:"0x89",chainName:"Matic(Polygon) Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.network","wss://ws-mainnet.matic.network","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet.chainstacklabs.com"],blockExplorerUrls:["https://polygonscan.com"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),ft),mt.assets={MATIC:"MATIC"};var bt,yt={selector:"BinanceSmartChain",asset:"BNB",isTestnet:!0,network:{chainId:"0x61",chainName:"Binance Smart Chain Testnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"tBNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s3.binance.org:8545"],blockExplorerUrls:["https://testnet.bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},vt=Object.assign(Object.assign({},yt),{addresses:{GatewayRegistry:"0x87e83f957a2F3A2E5Fe16d5C6B22e38FD28bdc06",BasicBridge:"0x105435a9b0f375B179e5e43A16228C04F01Fb2ee"}}),gt=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);gt.chain="BinanceSmartChain",gt.configMap=(lt={},Object(b.a)(lt,o.i.Mainnet,{selector:"BinanceSmartChain",asset:"BNB",network:{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","wss://bsc-ws-node.nariox.org"],blockExplorerUrls:["https://bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),Object(b.a)(lt,o.i.Testnet,yt),Object(b.a)(lt,o.i.Devnet,vt),lt),gt.assets={BNB:"BNB"};var xt={selector:"Ethereum",asset:"ETH",isTestnet:!0,network:{chainId:"0x2a",chainName:"Ethereum Testnet Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOV",decimals:18},rpcUrls:["https://kovan.poa.network","http://kovan.poa.network:8545","https://kovan.infura.io/v3/${INFURA_API_KEY}","wss://kovan.infura.io/ws/v3/${INFURA_API_KEY}","ws://kovan.poa.network:8546"],blockExplorerUrls:["https://kovan.etherscan.io"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},wt=Object.assign(Object.assign({},xt),{addresses:{GatewayRegistry:"0x5045E727D9D9AcDe1F6DCae52B078EC30dC95455",BasicBridge:"0xFABDB1F53Ef8B080332621cBc9F820a39e7A1B83"}}),Ot=function(t){Object(C.a)(n,t);var e=Object(M.a)(n);function n(t,r){var a,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(T.a)(this,n),(a=e.call(this,Object(st.b)(n.configMap,t),r,s)).configMap=n.configMap,a.assets=n.assets,a}return n}(at.a);Ot.chain="Ethereum",Ot.configMap=(bt={},Object(b.a)(bt,o.i.Mainnet,{selector:"Ethereum",asset:"ETH",network:{chainId:"0x1",chainName:"Ethereum Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://cloudflare-eth.com","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://api.mycryptoapi.com/eth"],blockExplorerUrls:["https://etherscan.io"]},addresses:{GatewayRegistry:"0xf36666C230Fa12333579b9Bd6196CB634D6BC506",BasicBridge:"0x82DF02A52E2e76C0c233367f2fE6c9cfe51578c5"}}),Object(b.a)(bt,o.i.Testnet,xt),Object(b.a)(bt,o.i.Devnet,wt),bt),Ot.assets={ETH:"ETH",DAI:"DAI",REN:"REN",USDC:"USDC",USDT:"USDT",EURT:"EURT",BUSD:"BUSD",MIM:"MIM",CRV:"CRV",LINK:"LINK",UNI:"UNI",SUSHI:"SUSHI",FTT:"FTT",ROOK:"ROOK",BADGER:"BADGER",KNC:"KNC"};var Tt=function(t,e){var n=t.configMap[e];if(!n)throw new Error("No configuration for ".concat(t.name," on ").concat(e,"."));var r=n.network.rpcUrls[0];if([Ot.chain,ht.chain].includes(t.name)){var a,s=Object(Z.a)(n.network.rpcUrls);try{for(s.s();!(a=s.n()).done;){var i=a.value;if(i.match(/^https:\/\/.*\$\{INFURA_API_KEY\}/)){r=i.replace(/\$\{INFURA_API_KEY\}/,"fa7d507418f54bbfb78a054eabb01f48");break}}}catch(o){s.e(o)}finally{s.f()}}return{chain:new t(e,{provider:new J.providers.JsonRpcProvider(r)}),connectionRequired:!0,accounts:[]}},jt=function(){var t=Object(h.a)(f.a.mark((function t(e,n,r){var a,s,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.from&&n.to){t.next=2;break}throw new Error("Missing gateway field.");case 2:a=n.from.asset,t.t0=n.from.chain,t.next=t.t0===Ot.chain||t.t0===gt.chain||t.t0===mt.chain||t.t0===ct.chain||t.t0===it.chain||t.t0===pt.chain?6:t.t0===$.a.chain?8:10;break;case 6:return s=r[n.from.chain].chain.Account({amount:n.amount,convertToWei:!0}),t.abrupt("break",11);case 8:return s=r[n.from.chain].chain.GatewayAddress(),t.abrupt("break",11);case 10:throw new Error("Unknown chain ".concat(n.from.chain));case 11:t.t1=n.to.chain,t.next=t.t1===Ot.chain||t.t1===gt.chain||t.t1===mt.chain||t.t1===ct.chain||t.t1===it.chain||t.t1===pt.chain?14:t.t1===$.a.chain?16:20;break;case 14:return i=r[n.to.chain].chain.Account(),t.abrupt("break",21);case 16:if(n.toAddress){t.next=18;break}throw new Error("No recipient address provided.");case 18:return i=r[n.to.chain].chain.Address(n.toAddress),t.abrupt("break",21);case 20:throw new Error("Unknown chain ".concat(n.to.chain));case 21:return t.next=23,e.gateway({asset:a,from:s,to:i});case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();var kt=Object(O.a)((function(){var t=Object(r.useState)((function(){return new Q(c)})),e=Object(g.a)(t,1)[0],n=Object(r.useState)((function(){return function(){var t,e=Tt(Ot,c),n=Tt(gt,c),r=Tt(mt,c),a=Tt(ct,c),s=Tt(pt,c),i=Tt(it,c),o={chain:new $.a(c)};return t={},Object(b.a)(t,Ot.chain,e),Object(b.a)(t,gt.chain,n),Object(b.a)(t,mt.chain,r),Object(b.a)(t,ct.chain,a),Object(b.a)(t,it.chain,i),Object(b.a)(t,pt.chain,s),Object(b.a)(t,$.a.chain,o),t}()})),a=Object(g.a)(n,2),s=a[0],i=a[1],o=function(t,e){var n=Object(r.useState)((function(){try{var n=window.localStorage.getItem(t);return n?JSON.parse(n):e}catch(r){return console.error(r),e}})),a=Object(g.a)(n,2),s=a[0],i=a[1];return[s,function(e){try{var n=e instanceof Function?e(s):e;i(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(r){console.error(r)}}]}("ren-js-demo-v3:".concat(c,":txs"),{}),u=Object(g.a)(o,2),d=u[0],p=u[1],l=Object(r.useState)(!1),m=Object(g.a)(l,2),O=m[0],T=m[1],j=Object(r.useState)(!1),k=Object(g.a)(j,2),E=k[0],_=k[1],A=Object(r.useState)([]),S=Object(g.a)(A,2),P=S[0],R=S[1],C=Object(r.useState)(),M=Object(g.a)(C,2),N=M[0],B=M[1],D=Object(r.useState)(),I=Object(g.a)(D,2),U=I[0],L=I[1],H=Object(r.useCallback)((function(t){R((function(e){return[t].concat(Object(v.a)(e))})),U&&p((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(b.a)({},U.toLowerCase(),Object(y.a)(Object(y.a)({},e[U.toLowerCase()]),{},Object(b.a)({},t.hash,{params:t.params,done:!1,timestamp:((e[U.toLowerCase()]||{})[t.hash]||{}).timestamp||Date.now()}))))}))}),[p,U]),F=Object(r.useCallback)((function(t){U&&p((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(b.a)({},U.toLowerCase(),Object(y.a)(Object(y.a)({},e[U.toLowerCase()]),{},Object(b.a)({},t.hash,Object(y.a)(Object(y.a)({},(e[U.toLowerCase()]||{})[t.hash]),{},{done:!0})))))}))}),[p,U]);Object(r.useEffect)((function(){e.withChains.apply(e,Object(v.a)(Object.values(s).map((function(t){return t.chain}))))}),[e,s]);var V=Object(r.useCallback)((function(t,e,n){var r=s[t];r.chain.withProvider&&r.chain.withProvider(e),s[t].accounts=[].concat(Object(v.a)(r.accounts||[]),[n]),s[t].connectionRequired=!1,i(s)}),[s]),G=Object(r.useCallback)(function(){var t=Object(h.a)(f.a.mark((function t(n){var r,a,i;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,B(n),r=new x.a.providers.Web3Provider(n,"any").getSigner(),t.next=5,r.getAddress();case 5:a=t.sent,L(a),s.Ethereum.chain.withProvider({signer:r}),s.BinanceSmartChain.chain.withProvider({signer:r}),s.Polygon.chain.withProvider({signer:r}),s.Fantom.chain.withProvider({signer:r}),s.Avalanche.chain.withProvider({signer:r}),s.Arbitrum.chain.withProvider({signer:r});try{O||(T(!0),(i=d[a.toLowerCase()])&&Object.values(i).length>0&&(_(!0),Promise.allSettled(Object(w.a)(Object.values(d[a.toLowerCase()]||{})).sortBy((function(t){return t.timestamp||0})).map(function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.done){t.next=4;break}return t.next=3,e.gatewayTransaction(n.params||n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).toArray()).then((function(t){t.forEach((function(t){if(t&&"fulfilled"===t.status){var e=t.value;e&&R((function(t){return[e].concat(Object(v.a)(t))}))}}))})).finally((function(){_(!1)}))))}catch(o){console.error(o)}t.next=20;break;case 16:throw t.prev=16,t.t0=t.catch(0),console.error(t.t0),t.t0;case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(e){return t.apply(this,arguments)}}(),[s,d,O,e]);return{renJS:e,chains:s,connect:V,injectedWeb3:N,injectedWeb3Address:U,setInjectedWeb3:G,transactions:P,addTransaction:H,loadingLocalTxs:E,transactionDoneCallback:F}}));var Et,_t=function(t){var e=t.web3Account,n=t.connectWeb3Account;return Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("div",{className:"shadow rounded-md w-full",children:Object(u.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(u.jsx)("h2",{className:"font-bold",children:"Accounts"})})}),Object(u.jsx)("div",{className:"w-full py-6 px-4",children:Object(u.jsxs)("div",{className:"flex content-center items-center",children:[Object(u.jsx)("span",{children:"Web3 account:"}),e?Object(u.jsx)("span",{className:"ml-4",children:Object(u.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:"https://blockscan.com/address/".concat(e),children:e})}):Object(u.jsx)("button",{className:"group ml-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 disabled:opacity-50",onClick:n,children:"Connect"})]})})]})},At=function(){var t=kt.useContainer(),e=t.injectedWeb3Address,n=t.setInjectedWeb3,a=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()();case 2:if(!(e=t.sent)){t.next=10;break}return t.next=6,e.enable();case 6:return t.next=8,n(e);case 8:t.next=11;break;case 10:throw new Error("Please install MetaMask.");case 11:case"end":return t.stop()}}),t)}))),[n]);return Object(u.jsx)(_t,{web3Account:e,connectWeb3Account:a})},St=n(311),Pt=n(341),Rt={Arbitrum:it,Avalanche:ct,BinanceSmartChain:gt,Bitcoin:$.a,BitcoinCash:tt.a,DigiByte:et.a,Dogecoin:nt.a,Ethereum:Ot,Fantom:pt,Filecoin:St.a,Goerli:ht,Polygon:mt,Terra:Pt.a,Zcash:rt.a};!function(t){t.ArbETH="ArbETH",t.AVAX="AVAX",t.BADGER="BADGER",t.BCH="BCH",t.BNB="BNB",t.BTC="BTC",t.BUSD="BUSD",t.CRV="CRV",t.DAI="DAI",t.DGB="DGB",t.DOGE="DOGE",t.ETH="ETH",t.EURT="EURT",t.FIL="FIL",t.FTM="FTM",t.FTT="FTT",t.gETH="gETH",t.KNC="KNC",t.LINK="LINK",t.LUNA="LUNA",t.MATIC="MATIC",t.MIM="MIM",t.REN="REN",t.ROOK="ROOK",t.SUSHI="SUSHI",t.UNI="UNI",t.USDC="USDC",t.USDT="USDT",t.ZEC="ZEC"}(Et||(Et={}));var Ct;Object.values(Rt).reduce((function(t,e){return t.concat(Object.values(e.assets))}),[]);!function(t){t.Arbitrum="Arbitrum",t.Avalanche="Avalanche",t.BinanceSmartChain="BinanceSmartChain",t.Bitcoin="Bitcoin",t.BitcoinCash="BitcoinCash",t.DigiByte="DigiByte",t.Dogecoin="Dogecoin",t.Ethereum="Ethereum",t.Fantom="Fantom",t.Filecoin="Filecoin",t.Goerli="Goerli",t.Polygon="Polygon",t.Terra="Terra",t.Zcash="Zcash"}(Ct||(Ct={}));var Mt=Rt,Nt=n(99),Bt=n(723),Dt=n(724),It=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},Ut=function(t){var e=t.prompt,n=t.option,a=t.validOptions,s=t.onSelectOption,i=t.onCancelOption;return Object(u.jsxs)("div",{className:"w-full flex items-center",children:[Object(u.jsxs)(Bt.a,{as:"div",className:"w-full relative inline-block text-left",children:[Object(u.jsx)("div",{children:Object(u.jsxs)(Bt.a.Button,{disabled:0===a.length,className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",children:[n?Object(u.jsx)(u.Fragment,{children:n.label}):e,Object(u.jsx)(Nt.b,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),Object(u.jsx)(Dt.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(u.jsx)(Bt.a.Items,{className:"origin-top-right absolute mt-2 w-full rounded-md border-2 border-indigo-600 shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:Object(u.jsx)("div",{className:"py-1",children:a.map((function(t){return Object(u.jsx)(Bt.a.Item,{onClick:function(){return s(t)},children:function(e){var n=e.active;return Object(u.jsx)("span",{className:It(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:t.label})}},t.label)}))})})})]}),Object(u.jsx)("div",{className:"ml-2 w-5",children:n?Object(u.jsx)("button",{onClick:i,children:Object(u.jsx)(Nt.c,{className:"text-indigo-600 -mb-1 h-5 w-5","aria-hidden":"true"})}):null})]})},Lt=function(t){var e=t.option,n=t.validOptions,r=t.onSelectOption,a=t.onCancelOption;return Object(u.jsx)(Ut,{prompt:"Select an asset",option:e?{value:e,label:e}:void 0,validOptions:n.map((function(t){return{value:t,label:t}})),onSelectOption:function(t){return r(t.value)},onCancelOption:a})},Ht=function(t){var e=t.className;return Object(u.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white "+(e||""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(u.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(u.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},Ft=function(t){var e=t.option,n=t.validOptions,r=t.onSelectOption,a=t.onCancelOption;return Object(u.jsx)(Ut,{prompt:"Select a chain",option:e?{value:e,label:"".concat(e.chain)}:e,validOptions:n.map((function(t){return{value:t,label:"".concat(t.chain)}})),onSelectOption:function(t){return r(t.value)},onCancelOption:a})};var Vt=function(t){var e,n,a=t.connectFrom,s=t.assets,i=t.createGatewayParams,o=t.validFromOptions,c=t.validToOptions,d=t.updateCreateGatewayParams,p=t.handleCreateGateway,l=Object(r.useState)(!1),m=Object(g.a)(l,2),b=m[0],v=m[1],x=Object(r.useState)(),w=Object(g.a)(x,2),O=w[0],T=w[1],j=Object(r.useState)(!1),k=Object(g.a)(j,2),E=k[0],_=k[1],A=Object(r.useState)(),S=Object(g.a)(A,2),P=S[0],R=S[1],C=Object(r.useState)(!1),M=Object(g.a)(C,2),N=M[0],B=M[1],D=Object(r.useCallback)((function(t){d(Object(y.a)(Object(y.a)({},i),{},{asset:t,from:void 0,to:void 0}))}),[i,d]),I=Object(r.useCallback)((function(t){d(Object(y.a)(Object(y.a)({},i),{},{from:t}))}),[i,d]),U=Object(r.useCallback)((function(t){d(Object(y.a)(Object(y.a)({},i),{},{to:t}))}),[i,d]),L=Object(r.useCallback)((function(){d(Object(y.a)(Object(y.a)({},i),{},{asset:void 0,from:void 0,to:void 0}))}),[i,d]),H=Object(r.useCallback)((function(){d(Object(y.a)(Object(y.a)({},i),{},{from:void 0}))}),[i,d]),F=Object(r.useCallback)((function(){d(Object(y.a)(Object(y.a)({},i),{},{to:void 0}))}),[i,d]),V=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return v(!0),t.prev=3,t.next=6,a();case 6:B(!0),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0),T(t.t0);case 13:v(!1);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),[a]),G=Object(r.useCallback)((function(t){d(Object(y.a)(Object(y.a)({},i),{},{amount:t.target.value}))}),[d,i]),K=Object(r.useCallback)((function(t){d(Object(y.a)(Object(y.a)({},i),{},{toAddress:t.target.value}))}),[d,i]),W=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.prev=1,t.next=4,p();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),R(t.t0);case 10:_(!1);case 11:case"end":return t.stop()}}),t,null,[[1,6]])}))),[p]);return Object(u.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[Object(u.jsx)("h3",{className:"font-bold",children:"Create Gateway"}),Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"mr-2",children:"Asset:"}),Object(u.jsx)(Lt,{option:i.asset,validOptions:s,onSelectOption:D,onCancelOption:L})]}),Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"mr-2",children:"From:"}),Object(u.jsx)(Ft,{option:i.from,validOptions:o,onSelectOption:I,onCancelOption:H})]}),Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"mr-2",children:"To:"}),Object(u.jsx)(Ft,{option:i.to,validOptions:c,onSelectOption:U,onCancelOption:F})]}),(null===(e=i.to)||void 0===e?void 0:e.toAddressRequired)?Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"mr-2",children:"Address:"}),Object(u.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:i.toAddress,onChange:K})]}):null,Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsx)("span",{className:"mr-2",children:"Amount:"}),Object(u.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:i.amount,onChange:G}),Object(u.jsx)("div",{className:"ml-2 w-5"})]}),a?Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("button",{disabled:b,onClick:V,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:b?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ht,{})," Connecting"," ","Web3 wallet"]}):Object(u.jsx)(u.Fragment,{children:"Connect Web3 wallet"})}),O?Object(u.jsx)("p",{className:"text-red-500 break-words",children:String(O.message)}):null]}):Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{disabled:!i.from||!i.to||E||(null===(n=i.to)||void 0===n?void 0:n.toAddressRequired)&&!i.toAddress,onClick:W,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:E?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ht,{})," Creating gateway"]}):Object(u.jsxs)(u.Fragment,{children:[N?Object(u.jsxs)(u.Fragment,{children:["Connected",Object(u.jsx)(Nt.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(u.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Create gateway"]})}),P?Object(u.jsx)("p",{className:"text-red-500 break-words",children:String(P.message)}):null]})]})},Gt=n(177),Kt=n.n(Gt),Wt=function(t){var e=t.amount,n=t.fromAsset,r=t.fromChain,a=t.toAsset,s=t.toChain,i=n===a;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{className:"font-bold",children:[i?"Move":"Convert",e?Object(u.jsxs)(u.Fragment,{children:[" ",e]}):Object(u.jsx)(u.Fragment,{})," ",n," from ",r," ","to ",i?Object(u.jsxs)(u.Fragment,{children:[a," on"]}):null," ",s]})})},qt=function(t){var e=t.gatewayAddress,n=t.fromAsset,r=t.fromChain,a=t.toAsset,s=t.toChain,i=n===a;return Object(u.jsx)("div",{children:Object(u.jsxs)("div",{children:[i?"Move":"Convert"," ",n," from ",r," ","to ",i?Object(u.jsxs)(u.Fragment,{children:[a," on"]}):null," ",s,Object(u.jsx)("div",{children:Object(u.jsxs)("p",{children:["Deposit ",n," to ",e]})})]})})},Yt=function(t){var e,n,a=t.tx,s=t.target,i=t.autoSubmit,c=t.onDone,d=kt.useContainer(),p=d.injectedWeb3,l=d.chains,m=Object(r.useState)(!!i),b=Object(g.a)(m,2),y=b[0],v=b[1],x=Object(r.useState)(!1),w=Object(g.a)(x,2),O=w[0],T=w[1],j=Object(r.useState)(),k=Object(g.a)(j,2),E=k[0],_=k[1],A=Object(r.useState)(),S=Object(g.a)(A,2),P=S[0],R=S[1],C=Object(r.useState)(),M=Object(g.a)(C,2),N=M[0],B=M[1],D=Object(r.useState)(!1),I=Object(g.a)(D,2),U=I[0],L=I[1],H=Object(r.useState)(),F=Object(g.a)(H,2),V=F[0],G=F[1],K=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(void 0),R(void 0),t.prev=2,T(!0),t.next=6,a.wait(s).on("status",(function(t){G(t.confirmations)}));case 6:c(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0),R(t.t0);case 13:T(!1);case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),[a,c,s]),W=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(void 0),R(void 0),!a.submit||a.status.status!==o.a.Ready){t.next=15;break}return t.prev=3,v(!0),t.next=7,a.submit({txConfig:{}});case 7:K().catch(console.error),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),console.error(t.t0),_(t.t0);case 14:v(!1);case 15:case"end":return t.stop()}}),t,null,[[3,10]])}))),[a,K]),q=Object(r.useState)(!1),Y=Object(g.a)(q,2),X=Y[0],z=Y[1];Object(r.useEffect)((function(){X||(z(!0),i&&W().catch(console.error),a.status.status!==o.a.Ready&&K().catch(console.error))}),[X,z,W,i,K,a.status.status]),Object(r.useEffect)((function(){Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=3;break}return B(!1),t.abrupt("return");case 3:return t.t0=Kt.a,t.next=6,p.request({method:"eth_chainId"});case 6:t.t1=t.sent,new t.t0(t.t1).toNumber()!==new Kt.a(null===(e=l[a.chain].chain.network.network)||void 0===e?void 0:e.chainId).toNumber()?B(!0):B(!1);case 9:case"end":return t.stop()}}),t)})))().catch(console.error)}));var Q=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,p.request({method:"wallet_switchEthereumChain",params:[{chainId:l[a.chain].chain.network.network.chainId}]});case 5:L(!0),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),t.next=12,p.request({method:"wallet_addEthereumChain",params:[l[a.chain].chain.network.network]});case 12:B(!1);case 13:case"end":return t.stop()}}),t,null,[[2,8]])}))),[p,l,a]);if(void 0===N)return Object(u.jsxs)("div",{children:[Object(u.jsx)(Ht,{})," Loading..."]});var Z=o.w.isDefined(s)?s:a.status.target;switch(a.status.status){case o.a.Done:return Object(u.jsxs)("p",{children:["Transaction done!"," ",Object(u.jsx)("button",{className:"test-indigo-600",onClick:c,children:"Continue"})]});case o.a.Reverted:return Object(u.jsxs)("p",{children:["Transaction reverted: ",a.status.revertReason]});default:return Object(u.jsx)(u.Fragment,{children:E?Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"text-red-500 break-words",children:["Error submitting:"," ",String(E.message)]})," ",Object(u.jsxs)("button",{onClick:W,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Retry submitting to ",a.chain]})]}):P?Object(u.jsxs)("p",{children:[Object(u.jsxs)("span",{className:"text-red-500 break-words",children:["Error waiting for ",a.chain," transaction confirmations: ",String(P.message),"."]})," ",Object(u.jsx)("button",{onClick:K,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Retry"})]}):y?Object(u.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(u.jsx)(Ht,{})," Submitting to ",a.chain]}):O?Object(u.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(u.jsx)(Ht,{})," Waiting for ",a.chain," ",o.w.isDefined(Z)&&1===Z?"confirmation":"confirmations","...",(null===(e=a.status.response)||void 0===e?void 0:e.txStatus)?Object(u.jsxs)(u.Fragment,{children:[" ","(",null===(n=a.status.response)||void 0===n?void 0:n.txStatus,")"]}):o.w.isDefined(V)&&o.w.isDefined(Z)&&Z>1?Object(u.jsxs)(u.Fragment,{children:[" ","(",V,"/",Z,")"]}):null]}):N?Object(u.jsxs)("button",{onClick:Q,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Switch to ",a.chain," in MetaMask"]}):Object(u.jsxs)("button",{onClick:W,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[U?Object(u.jsxs)(u.Fragment,{children:["Switched",Object(u.jsx)(Nt.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(u.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Submit to ",a.chain]})})}};var Xt=function(t){var e=t.gateway,n=t.amount,a=t.onDone,s=Object(r.useState)(!1),i=Object(g.a)(s,2),c=i[0],d=i[1],p=Object(r.useState)(!1),l=Object(g.a)(p,2),m=l[0],b=l[1],y=Object(r.useState)(!1),v=Object(g.a)(y,2),x=v[0],w=v[1],O=Object(r.useState)(),T=Object(g.a)(O,2),j=T[0],k=T[1],E=Object(r.useState)(),_=Object(g.a)(E,2),A=_[0],S=_[1],P=Object(r.useState)(),R=Object(g.a)(P,2),C=R[0],M=R[1];Object(r.useEffect)((function(){Object(h.a)(f.a.mark((function t(){var r,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fromChain.assetDecimals(e.params.asset);case 3:return r=t.sent,t.next=6,e.fromChain.getBalance(e.params.asset);case 6:a=t.sent,k(a.shiftedBy(-r).toFixed()),n&&S(e.fees.estimateOutput(new Gt.BigNumber(n).shiftedBy(r)).shiftedBy(-r)),M(e.fees.minimumAmount.shiftedBy(-r).toFixed()),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))().catch(console.error)}),[e.params.asset,e.fromChain,e.fees,n]);var N=e.params.asset,B=e.fromChain.chain,D=e.params.asset,I=e.toChain.chain,U=Object(r.useCallback)((function(){d(!0)}),[]),L=Object(r.useCallback)((function(){b(!0)}),[]);return Object(r.useEffect)((function(){e.on("transaction",(function(t){w(!0)}))}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"flex justify-between",children:[Object(u.jsx)(Wt,{fromAsset:N,fromChain:B,toAsset:D,toChain:I}),Object(u.jsx)("button",{className:"h-5 w-5 -mt-4 -mr-4",onClick:a,children:Object(u.jsx)(Nt.c,{className:"text-black h-5 w-5","aria-hidden":"true"})})]}),c?x?Object(u.jsxs)("div",{className:"mt-4",children:[Object(u.jsx)("p",{className:"text-sm font-medium",children:"Submitted - view your in-progress transaction under Transactions."}),Object(u.jsx)("button",{className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 disabled:opacity-50",onClick:a,children:"Return"})]}):Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsxs)("p",{className:"text-sm font-medium",children:[Object(u.jsx)(Ht,{className:"text-indigo-600 inline-block"})," ","Loading transaction..."]})}):!m&&e.setup.approval&&e.setup.approval.status.status!==o.a.Done?Object(u.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset,Object(u.jsx)(Yt,{tx:e.setup.approval,target:1,onDone:L})]}):A&&A.isZero()?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("p",{children:["Invalid amount - minimum amount: ",C]})}):e.in?Object(u.jsxs)(u.Fragment,{children:[e.setup.approval?Object(u.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset," ",Object(u.jsx)(Nt.a,{className:"text-indigo-600 h-5 w-5 inline-block"})]}):null,Object(u.jsxs)("div",{className:"mt-4",children:[e.setup.approval?"Step 2: ":"","Submit gateway",Object(u.jsx)(Yt,{tx:e.in,onDone:U,target:1})]})]}):e.gatewayAddress?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(qt,{gatewayAddress:e.gatewayAddress,fromAsset:N,fromChain:B,toAsset:D,toChain:I})}):null,j?Object(u.jsxs)("p",{className:"text-sm text-gray-600 mt-4",children:["Balance: ",j," ",e.params.asset]}):null,A?Object(u.jsxs)("p",{className:"text-sm text-gray-600 mt-4",children:["Receive amount: ",A.toFixed()," ",e.params.asset]}):null]})},zt=["Ethereum","BinanceSmartChain","Polygon","Fantom","Avalanche","Arbitrum"],Qt=Object.values(Mt).reduce((function(t,e){return[].concat(Object(v.a)(t),Object(v.a)(Object.values(e.assets).map((function(t){return{asset:t,lockChain:e.chain,mintChains:zt.filter((function(t){return t!==e.chain}))}}))))}),[]).filter((function(t){return zt.includes(t.lockChain)||"BTC"===t.asset})),Zt=Qt.reduce((function(t,e){return[].concat(Object(v.a)(t),[{asset:e.asset,chain:e.lockChain,assetOrigin:e.lockChain,toAddressRequired:!zt.includes(e.lockChain)}],Object(v.a)(e.mintChains.map((function(t){return{asset:e.asset,chain:t,assetOrigin:e.lockChain}}),[])))}),[]),Jt=Zt;var $t=function(){var t=kt.useContainer(),e=t.renJS,n=t.chains,a=t.injectedWeb3,s=t.setInjectedWeb3,i=t.addTransaction,o=Object(r.useState)(),c=Object(g.a)(o,2),d=c[0],p=c[1],l=Object(r.useCallback)((function(){d&&d.eventEmitter.removeListener("transaction",i),p(void 0)}),[i,d,p]),b=Object(r.useState)({amount:"1.5",from:void 0,to:void 0}),y=Object(g.a)(b,2),v=y[0],x=y[1],w=Object(r.useState)([]),O=Object(g.a)(w,2),T=O[0],j=O[1],k=Object(r.useState)([]),E=Object(g.a)(k,2),_=E[0],A=E[1],S=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt(e,v,n);case 2:r=t.sent,p(r),r.on("transaction",i);case 5:case"end":return t.stop()}}),t)}))),[e,n,v,i]),P=Object(r.useCallback)(Object(h.a)(f.a.mark((function t(){var e;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m()();case 2:if(!(e=t.sent)){t.next=10;break}return t.next=6,e.enable();case 6:return t.next=8,s(e);case 8:t.next=11;break;case 10:throw new Error("Please install MetaMask.");case 11:case"end":return t.stop()}}),t)}))),[s]),R=Object(r.useCallback)((function(t){x(t);var e=Zt;e=e.filter((function(e){return e.asset===t.asset&&(!t.to||e.asset===t.to.asset&&e.chain!==t.to.chain&&(t.to.chain===t.to.assetOrigin||e.chain===t.to.assetOrigin))}));var n=Jt;n=n.filter((function(e){return e.asset===t.asset&&(!t.from||e.asset===t.from.asset&&e.chain!==t.from.chain&&(t.from.chain===t.from.assetOrigin||e.chain===t.from.assetOrigin))})),j(e),A(n)}),[]);return Object(u.jsx)("div",{children:d?Object(u.jsx)(Xt,{amount:v.amount,gateway:d,onDone:l}):Object(u.jsx)(Vt,{createGatewayParams:v,assets:Qt.map((function(t){return t.asset})),validFromOptions:T,validToOptions:_,updateCreateGatewayParams:R,handleCreateGateway:S,connectFrom:!a&&v.from?P:void 0})})},te=function(t){var e=t.fromAsset,n=t.fromChain,r=t.toChain,a=t.txHash,s=t.inTxDone,i=t.inTx,d=t.renVMDone,p=t.renVM,f=t.outTxDone,h=t.outTx,l=t.onInDone,m=t.onRenVMDone,b=t.onOutDone,y=kt.useContainer().chains;return Object(u.jsx)("div",{className:"rounded-md w-full mt-5 ".concat(f||h&&h.status.status===o.a.Done?"opacity-60":""),children:Object(u.jsxs)("div",{className:"px-4 py-5 space-y-2 sm:p-6 w-full h-full bg-white rounded-md p-4 flex flex-col border border-gray-300",children:[Object(u.jsxs)("h3",{className:"font-bold truncate",children:[e," on ",n," to ",r]}),Object(u.jsxs)("p",{className:"truncate",children:["RenVM Hash:"," ",Object(u.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:"https://explorer".concat("mainnet"!==c?"-".concat(c):"",".renproject.io/#/tx/").concat(a),children:a})]}),i&&i.status.transaction?Object(u.jsxs)("p",{className:"truncate",children:[i.chain," tx:"," ",Object(u.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:y[i.chain].chain.transactionExplorerLink(i.status.transaction),children:i.status.transaction.txidFormatted})]}):null,h&&h.status.transaction?Object(u.jsxs)("p",{className:"truncate",children:[h.chain," tx:"," ",Object(u.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:y[h.chain].chain.transactionExplorerLink(h.status.transaction),children:h.status.transaction.txidFormatted})]}):null,!s&&i&&i.status.status!==o.a.Done?Object(u.jsx)(Yt,{tx:i,onDone:l},"in"):!d&&p&&p.status.status!==o.a.Done?Object(u.jsx)(Yt,{tx:p,onDone:m,autoSubmit:!0},"renVM"):!f&&h&&h.status.status!==o.a.Done?Object(u.jsx)(Yt,{tx:h,onDone:b},"out"):null]})})},ee=function(t){var e=t.transaction,n=kt.useContainer().transactionDoneCallback,a=Object(r.useState)(!1),s=Object(g.a)(a,2),i=s[0],o=s[1],c=Object(r.useState)(!1),d=Object(g.a)(c,2),p=d[0],f=d[1],h=Object(r.useState)(!1),l=Object(g.a)(h,2),m=l[0],b=l[1];return Object(u.jsx)(te,{fromAsset:e.params.asset,fromChain:e.fromChain.chain,toChain:e.toChain.chain,inTx:e.in,renVM:e.renVM,outTx:e.out,inTxDone:i,renVMDone:p,outTxDone:m,txHash:e.hash,onInDone:function(){o(!0)},onRenVMDone:function(){f(!0)},onOutDone:function(){b(!0),n(e)}})};var ne=function(t){var e=t.transactions,n=t.loadingLocalTxs;return Object(u.jsxs)("div",{className:"flex flex-col",children:[Object(u.jsx)("div",{className:"shadow rounded-md w-full",children:Object(u.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(u.jsx)("h2",{className:"font-bold",children:"Transactions"})})}),Object(u.jsxs)("div",{className:"w-full",children:[n?Object(u.jsxs)("div",{className:"text-sm font-medium m-4",children:[Object(u.jsx)(Ht,{className:"text-indigo-600 inline-block"})," ","Loading account transactions..."]}):null,e.length?e.map((function(t){return Object(u.jsx)(ee,{transaction:t},t.hash)})):n?null:Object(u.jsx)("p",{className:"text-sm font-medium m-4",children:"No transactions"})]})]})},re=function(){var t=kt.useContainer(),e=t.transactions,n=t.loadingLocalTxs;return Object(u.jsx)(ne,{transactions:e,loadingLocalTxs:n})};var ae=function(){return Object(u.jsx)("div",{className:"antialiased font-sans bg-gray-100 min-h-screen min-w-screen flex justify-center py-8 px-4 sm:px-6 lg:px-8",children:Object(u.jsxs)("div",{className:"max-w-screen-2xl flex flex-col w-full",children:[Object(u.jsxs)("div",{className:"pb-4 w-full flex justify-between flex-wrap",children:[Object(u.jsxs)("h1",{className:"font-bold",children:["RenJS v3 Demo (",c," -"," ",Object(u.jsx)("a",{className:"text-indigo-900",href:"mainnet"===c?"https://renproject.github.io/ren-js-v3-demo/":"https://renproject.github.io/ren-js-v3-demo-mainnet/",children:"switch network"}),")"," "]}),Object(u.jsx)("span",{children:"mainnet"===c?Object(u.jsx)("span",{className:"text-yellow-500",children:"DEMO SOFTWARE - ONLY SEND SMALL AMOUNTS"}):null})]}),Object(u.jsxs)("div",{className:"flex w-full flex-col h-full md:flex-row md:justify-center",children:[Object(u.jsx)("div",{className:"shadow rounded-md w-full md:w-2/5 ",children:Object(u.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(u.jsx)($t,{})})}),Object(u.jsxs)("div",{className:"w-full mt-4 md:w-3/5 md:ml-5 md:mt-0",children:[Object(u.jsx)(At,{}),Object(u.jsx)("br",{}),Object(u.jsx)(re,{})]}),Object(u.jsx)(d,{})]})]})})};i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(kt.Provider,{children:Object(u.jsx)(ae,{})})}),document.getElementById("root"))},75:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return y}));var r,a,s=n(1),i=n.n(s),o=n(5),c=n(8),u=n(16),d=n(17),p=n.n(d),f=n(3),h=n(198),l=n(383),m=n(199),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.FetchingStatus="fetching-status",t.Detected="detected",t.Confirmed="confirmed",t.Signed="signed",t.Reverted="reverted",t.Submitted="submitted"}(a||(a={}));r={},Object(u.a)(r,a.Detected,0),Object(u.a)(r,a.Confirmed,1),Object(u.a)(r,a.Signed,2),Object(u.a)(r,a.Reverted,3),Object(u.a)(r,a.Submitted,4);var y=function(){function e(t,n,r,s,c,u){var d=this;Object(o.a)(this,e),this.queryTx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return b(d,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.queryTxResult||this.queryTxResult.txStatus!==f.j.TxStatusDone){e.next=2;break}return e.abrupt("return",this.queryTxResult);case 2:return e.next=4,this.provider.queryTx(this.hash,t);case 4:return n=e.sent,this.queryTxResult=n,n.tx.out&&n.tx.out.revert&&n.tx.out.revert.length>0&&n.tx.out.sig&&n.tx.out.sig.length>0&&this.onSignatureReady(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))},this.fetchStatus=function(t){return b(d,void 0,void 0,i.a.mark((function e(){var n,r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){return b(r,void 0,void 0,i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryTx(1);case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e=null;case 9:if(t.prev=9,void 0===(this.out&&this.out.status)){t.next=13;break}return t.abrupt("return",a.Submitted);case 13:t.next=17;break;case 15:t.prev=15,t.t1=t.catch(9);case 17:if(t.prev=17,void 0!==e){t.next=24;break}return t.next=21,this.queryTx(1);case 21:t.t2=t.sent,t.next=25;break;case 24:t.t2=e;case 25:if(!(e=t.t2)||e.txStatus!==f.j.TxStatusDone){t.next=33;break}if(!e.tx.out||!e.tx.out.revert||""===e.tx.out.revert){t.next=32;break}this.status=a.Reverted,this.revertReason=e.tx.out.revert.toString(),t.next=33;break;case 32:return t.abrupt("return",a.Signed);case 33:t.next=37;break;case 35:t.prev=35,t.t3=t.catch(17);case 37:if(t.prev=37,!(f.w.isDefined(this.in.status.confirmations)&&this.in.status.confirmations>=this.in.status.target)){t.next=40;break}return t.abrupt("return",a.Confirmed);case 40:t.next=44;break;case 42:t.prev=42,t.t4=t.catch(37);case 44:return t.abrupt("return",a.Detected);case 45:case"end":return t.stop()}}),t,this,[[0,6],[9,15],[17,35],[37,42]])})))},!t){e.next=18;break}case 2:return e.prev=3,e.next=6,n();case 6:this.status=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),this._config.logger.error(e.t0),e.next=14,f.w.sleep(this._config.networkDelay);case 14:e.next=2;break;case 16:e.next=21;break;case 18:return e.next=20,n();case 20:this.status=e.sent;case 21:return e.abrupt("return",this.status);case 22:case"end":return e.stop()}}),e,this,[[3,9]])})))},this.onSignatureReady=function(t){d.queryTxResult=t;var e=t.tx;if(e.out&&e.out.revert&&""!==e.out.revert)return d.status=a.Reverted,void(d.revertReason=e.out.revert);if(d.status=a.Signed,e.out&&e.out.txid&&e.out.txid.length>0){var n=f.w.toURLBase64(e.out.txid),r=e.out.txindex.toFixed();d.out.setTransaction({chain:d.toChain.chain,txid:n,txindex:r,txidFormatted:d.toChain.formattedTransactionHash({txid:n,txindex:r})})}},this.provider=t,this.params=s,this._config=Object.assign(Object.assign({},h.a),u),this.fromChain=n,this.toChain=r,this.status=a.FetchingStatus,this.hash="";var p=f.w.isDefined(s.nonce)?f.w.fromBase64(s.nonce):f.w.toNBytes(0,32);this.nHash=Object(f.n)(p,f.w.fromBase64(s.fromTx.txid),s.fromTx.txindex),this.in=c||void 0,this.selector=void 0,this.out=void 0,this.pHash=void 0,this.gHash=void 0,this.renVM=void 0}return Object(c.a)(e,[{key:"initialize",value:function(){return b(this,void 0,void 0,i.a.mark((function e(){var n,r,a,s,o,c,u,d,h,b,y,v,g=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)({asset:this.params.asset,fromChain:this.fromChain,toChain:this.toChain});case 2:return n=e.sent,r=n.inputType,a=n.outputType,s=n.selector,this.inputType=r,this.outputType=a,this.selector=s,o=this.params,c=o.asset,u=o.nonce,d=o.to,e.next=12,this.toChain.getOutputPayload(c,this.outputType,d);case 12:if(h=e.sent,b=Object(f.p)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),this.pHash=Object(f.o)(h.payload),y=u?t.isBuffer(u)?u:f.w.fromBase64(u):f.w.toNBytes(0,32),this.gHash=Object(f.m)(this.pHash,b,h.toBytes,y),v=this.params.shard?f.w.fromBase64(this.params.shard.gPubKey):t.from([]),this.in){e.next=27;break}return e.t0=f.b,e.t1=this.params.fromTx,e.t2=this.fromChain,e.next=24,this.provider.getConfirmationTarget(this.fromChain.chain);case 24:e.t3=e.sent,e.t4={chainTransaction:e.t1,chain:e.t2,target:e.t3},this.in=new e.t0(e.t4);case 27:if(this.renVM=new l.a(this.provider,this.selector,{txid:f.w.fromBase64(this.params.fromTx.txid),txindex:new p.a(this.params.fromTx.txindex),amount:new p.a(this.params.fromTx.amount),payload:h.payload,phash:this.pHash,to:h.to,nonce:y,nhash:this.nHash,gpubkey:v,ghash:this.gHash},this.onSignatureReady),this.hash=this.renVM._hash,this.renVM.eventEmitter.on("status",(function(t){g.queryTxResult=t.response})),e.t5=Object(f.s)(this.toChain),!e.t5){e.next=35;break}return e.next=34,this.toChain.isDepositAsset(this.params.asset);case 34:e.t5=e.sent;case 35:if(!e.t5){e.next=39;break}this.out=new f.b({chain:this.toChain,target:0}),e.next=46;break;case 39:if(!Object(f.r)(this.toChain)){e.next=45;break}return e.next=42,this.toChain.getOutputTx(this.outputType,this.params.asset,this.params.to,(function(){return{amount:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.amount:void 0,nHash:g.nHash,sHash:f.w.keccak256(t.from(g.selector)),pHash:g.pHash,sigHash:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.sighash:void 0,signature:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.sig:void 0}}),1);case 42:this.out=e.sent,e.next=46;break;case 45:throw new Error("Error setting 'out' transaction submitter.");case 46:return e.abrupt("return",this);case 47:case"end":return e.stop()}}),e,this)})))}}]),e}()}).call(this,n(24).Buffer)},86:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v}));var r=n(48),a=n(1),s=n.n(a),i=n(5),o=n(8),c=n(17),u=n.n(c),d=n(151),p=n.n(d),f=n(3),h=n(18),l=n(384),m=n(146),b=n(41),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))},v=function(){function e(t){var n=this;Object(i.a)(this,e),this.assets={},this.configMap={},this.api=new h.a,this.getBalance=function(t,e){return y(n,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._assertAssetIsSupported(t),this.validateAddress(e)){n.next=3;break}throw new Error("Invalid address ".concat(e,"."));case 3:return n.abrupt("return",new u.a(0));case 4:case"end":return n.stop()}}),n,this)})))},this.transactionConfidence=function(t){return y(n,void 0,void 0,s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.fetchUTXO(this.formattedTransactionHash(t),t.txindex);case 2:if(n=e.sent,r=n.height){e.next=8;break}return e.abrupt("return",new u.a(0));case 8:return e.t0=u.a,e.next=11,this.api.fetchHeight();case 11:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",a.minus(r).plus(1));case 14:case"end":return e.stop()}}),e,this)})))};var a=Object(m.a)(t)?t:this.configMap[t];if(!a)throw"string"===typeof t?new Error("Unknown network ".concat(t,".")):new Error("Invalid network config.");this.network=a,this.chain=this.network.selector;var o,c=Object(r.a)(this.network.providers);try{for(c.s();!(o=c.n()).done;){var d=o.value;this.withAPI(d)}}catch(p){c.e(p)}finally{c.f()}}return Object(o.a)(e,[{key:"withAPI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.priority,r=void 0===n?0:n;return this.api.withAPI(t,{priority:r}),this}},{key:"getOutputPayload",value:function(e,n,r){return this._assertAssetIsSupported(e),{to:r.address,toBytes:p.a.decode(r.address),payload:t.from([])}}},{key:"addressExplorerLink",value:function(t){return this.network.explorer.address(t)}},{key:"transactionExplorerLink",value:function(t){return this.network.explorer.transaction(this.formattedTransactionHash(t))}},{key:"encodeAddress",value:function(t){return p.a.encode(t)}},{key:"validateAddress",value:function(t){return Object(b.f)(t,this.network.nativeAsset.symbol,this.network.isTestnet?"testnet":"prod")}},{key:"formattedTransactionHash",value:function(t){return f.w.fromBase64(t.txid).reverse().toString("hex")}},{key:"validateTransaction",value:function(t){return 32===f.w.fromBase64(t.txid).length&&!new u.a(t.txindex).isNaN()}},{key:"isLockAsset",value:function(t){return t===this.network.nativeAsset.symbol}},{key:"isDepositAsset",value:function(t){return this._assertAssetIsSupported(t),!0}},{key:"_assertAssetIsSupported",value:function(t){if(!this.isLockAsset(t))throw new Error("Asset ".concat(t," not supported on ").concat(this.chain,"."))}},{key:"assetDecimals",value:function(t){return this._assertAssetIsSupported(t),8}},{key:"watchForDeposits",value:function(t,e,n,r,a,i){return y(this,void 0,void 0,s.a.mark((function a(){var o=this;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(this._assertAssetIsSupported(t),e.chain===this.chain){a.next=3;break}throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(this.chain,"."));case 3:return a.prev=3,a.next=6,f.w.tryNTimes((function(){return y(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.fetchTXs(n));case 1:case"end":return t.stop()}}),t,this)})))}),2);case 6:a.sent.map((function(t){return r({chain:o.chain,txid:f.w.toURLBase64(f.w.fromHex(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount})})),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(3);case 12:if(!i()){a.next=15;break}return a.abrupt("return");case 15:return a.prev=15,a.next=18,this.api.fetchUTXOs(n);case 18:a.sent.map((function(t){return r({chain:o.chain,txid:f.w.toURLBase64(f.w.fromHex(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount})})),a.next=25;break;case 22:a.prev=22,a.t1=a.catch(15),console.error(a.t1);case 25:return a.next=27,f.w.sleep(15*f.w.sleep.SECONDS);case 27:a.next=12;break;case 29:case"end":return a.stop()}}),a,this,[[3,10],[15,22]])})))}},{key:"createGatewayAddress",value:function(t,e,n,r){if(this._assertAssetIsSupported(t),e.chain!==this.chain)throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(this.chain,"."));return this.encodeAddress(Object(l.a)(Object(b.c)(n),r,this.network.p2shPrefix))}},{key:"Address",value:function(t){if(Object(f.k)("string",{address:t}),!this.validateAddress(t))throw f.c.from(new Error("Invalid ".concat(this.chain," address: ").concat(String(t))),f.h.PARAMETER_ERROR);return{chain:this.chain,address:t}}},{key:"GatewayAddress",value:function(){return{chain:this.chain}}},{key:"toSats",value:function(t){return new u.a(t).shiftedBy(8).decimalPlaces(0).toFixed()}},{key:"fromSats",value:function(t){return new u.a(t).shiftedBy(-8).toFixed()}}]),e}();v.chain="Bitcoin",v.configMap={}}).call(this,n(24).Buffer)},90:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return h}));var r,a=n(1),s=n.n(a),i=n(5),o=n(23),c=n.n(o),u=n(17),d=n.n(u),p=n(18),f=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.BTC="BTC",t.LTC="LTC",t.ZEC="ZEC",t.DOGE="DOGE",t.DASH="DASH",t.BTCTEST="BTCTEST",t.LTCTEST="LTCTEST",t.ZECTEST="ZECTEST",t.DOGETEST="DOGETEST",t.DASHTEST="DASHTEST"}(r||(r={}));var h=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BTC;Object(i.a)(this,t),this.fetchHeight=function(){return f(e,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("https://sochain.com/api/v2/get_info/".concat(this.network),{timeout:p.b});case 2:return t.abrupt("return",t.sent.data.blocks.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return f(e,void 0,void 0,s.a.mark((function e(){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://sochain.com/api/v2/get_tx/".concat(this.network,"/").concat(t),e.next=3,c.a.get(r,{timeout:p.b});case 3:return a=e.sent,i=a.data.data,e.t0=d.a,e.next=8,this.fetchHeight();case 8:return e.t1=e.sent,o=new e.t0(e.t1),e.abrupt("return",Object(p.c)({txid:i.txid,amount:i.outputs[parseInt(n,10)].value.toString(),txindex:n,height:i.confirmations&&i.confirmations>0?o.minus(i.confirmations).plus(1).toFixed():null},8));case 11:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return f(e,void 0,void 0,s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_unspent/".concat(this.network,"/").concat(t,"/",0),e.next=3,c.a.get(n,{timeout:p.b});case 3:return r=e.sent,e.t0=d.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(p.d)(r.data.data.txs.map((function(t){return{txid:t.txid,txindex:t.output_no.toString(),amount:t.value.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(p.f));case 10:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return f(e,void 0,void 0,s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_received/".concat(this.network,"/").concat(t,"/",0),e.next=3,c.a.get(n,{timeout:p.b});case 3:return r=e.sent,e.t0=d.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(p.d)(r.data.data.txs.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.output_no.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(p.f));case 10:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return f(e,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.post("https://sochain.com/api/v2/send_tx/".concat(this.network),{tx_hex:t},{timeout:p.b});case 2:return n=e.sent,e.abrupt("return",n.data.data.txid);case 4:case"end":return e.stop()}}),e,this)})))},this.network=n}},93:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return h}));var r,a=n(48),s=n(1),i=n.n(s),o=n(5),c=n(8),u=n(23),d=n.n(u),p=n(18),f=function(t,e,n,r){return new(n||(n=Promise))((function(a,s){function i(t){try{c(r.next(t))}catch(e){s(e)}}function o(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,o)}c((r=r.apply(t,e||[])).next())}))};!function(t){t.BITCOIN="bitcoin",t.BITCOIN_CASH="bitcoin-cash",t.DOGECOIN="dogecoin",t.ZCASH="zcash",t.BITCOIN_TESTNET="bitcoin/testnet"}(r||(r={}));var h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BITCOIN;Object(o.a)(this,t),this.network=e}return Object(c.a)(t,[{key:"endpoint",value:function(){return"https://api.blockchair.com/".concat(this.network)}},{key:"fetchHeight",value:function(){return f(this,void 0,void 0,i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpoint(),"/stats"),t.next=3,d.a.get("".concat(e),{timeout:p.b});case 3:return n=t.sent.data,t.abrupt("return",n.data.best_block_height.toString());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"fetchUTXO",value:function(t,e){return f(this,void 0,void 0,i.a.mark((function n(){var r,a,s,o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.endpoint(),"/dashboards/transaction/").concat(t),n.next=3,d.a.get("".concat(r),{timeout:p.b});case 3:if((a=n.sent.data).data[t]){n.next=6;break}throw new Error("Transaction not found.");case 6:if(s=a.data[t],0!==a.context.state){n.next=14;break}return o="".concat(this.endpoint(),"/stats"),n.next=12,d.a.get(o,{timeout:p.b});case 12:c=n.sent.data,c.data.blocks-1;case 14:return n.abrupt("return",{txid:t,txindex:e,amount:s.outputs[parseInt(e,10)].value.toString(),height:s.transaction.block_id&&s.transaction.block_id>0?s.transaction.block_id.toString():null});case 15:case"end":return n.stop()}}),n,this)})))}},{key:"fetchUTXOs",value:function(t){return f(this,void 0,void 0,i.a.mark((function e(){var n,r,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=0,100"),e.next=3,d.a.get(n,{timeout:p.b});case 3:if(r=e.sent.data,0!==r.context.state){e.next=11;break}return a="".concat(this.endpoint(),"/stats"),e.next=9,d.a.get(a,{timeout:p.b});case 9:s=e.sent.data,s.data.blocks-1;case 11:return e.abrupt("return",r.data[t].utxo.map((function(t){return{txid:t.transaction_hash,amount:t.value.toString(),txindex:t.index.toString(),height:t.block_id&&t.block_id>0?t.block_id.toString():null}})).sort(p.f));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"fetchTXs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return f(this,void 0,void 0,i.a.mark((function n(){var r,s,o,c,u,f,h,l,m,b,y,v,g,x;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=").concat(e,",0"),n.next=3,d.a.get(r,{timeout:p.b});case 3:s=n.sent.data,o=s.data[t].transactions,c={},u=0;case 7:if(!(u<Math.ceil(o.length/10))){n.next=16;break}return f="".concat(this.endpoint(),"/dashboards/transactions/").concat(o.slice(10*u,10*(u+1)).join(",")),n.next=11,d.a.get(f,{timeout:p.b});case 11:h=n.sent.data,c=Object.assign(Object.assign({},c),h.data);case 13:u++,n.next=7;break;case 16:l=[],m=Object(a.a)(o);try{for(m.s();!(b=m.n()).done;)for(y=b.value,v=c[y],g=0;g<v.outputs.length;g++)(x=v.outputs[g]).recipient===t&&l.push({txid:v.transaction.hash,amount:x.value.toString(),txindex:g.toString(),height:x.block_id&&x.block_id>0?x.block_id.toString():null})}catch(i){m.e(i)}finally{m.f()}return n.abrupt("return",l.sort(p.f));case 20:case"end":return n.stop()}}),n,this)})))}},{key:"broadcastTransaction",value:function(t){return f(this,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/push/transaction"),e.next=3,d.a.post(n,{data:t},{timeout:p.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.data.transaction_hash);case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()},94:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r=function(t){return"object"===typeof t&&null!==t&&1===Object.keys(t).length&&void 0!==t.struct&&Array.isArray(t.struct)},a=function(t){return"object"===typeof t&&void 0!==t.list}}},[[706,1,2]]]);
//# sourceMappingURL=main.7ac10a76.chunk.js.map