(this["webpackJsonpdemo-v3"]=this["webpackJsonpdemo-v3"]||[]).push([[0],{104:function(t,e,n){"use strict";n.d(e,"c",(function(){return b})),n.d(e,"b",(function(){return y})),n.d(e,"d",(function(){return m})),n.d(e,"a",(function(){return v}));var r,a,i=n(1),s=n.n(i),c=n(16),o=n(3),u=n(51);!function(t){t.ASSET_NOT_SUPPORTED="ASSET_NOT_SUPPORTED",t.NETWORK_ERROR="NETWORK_ERROR"}(r||(r={}));var d,p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},h="0x"+"00".repeat(20);!function(t){t.MintGateway="Mint Gateway",t.LockGateway="Lock Gateway",t.RenAsset="Ren Asset",t.LockAsset="Lock Asset"}(d||(d={}));var f=(a={},Object(c.a)(a,d.MintGateway,"getMintGatewayBySymbol"),Object(c.a)(a,d.LockGateway,"getLockGatewayBySymbol"),Object(c.a)(a,d.RenAsset,"getRenAssetBySymbol"),Object(c.a)(a,d.LockAsset,"getLockAssetBySymbol"),a),l=function(t){return function(e,n,a){return p(void 0,void 0,void 0,s.a.mark((function i(){var c,d;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,c=Object(u.g)(n,e.addresses.GatewayRegistry),i.t0=o.g,i.next=5,c[f[t]](a);case 5:if(i.t1=i.sent,(d=(0,i.t0)(i.t1))&&d!==h){i.next=9;break}throw new o.c("".concat(a," not supported on ").concat(e.selector," - unable to get ").concat(a," ").concat(t),r.ASSET_NOT_SUPPORTED);case 9:return i.abrupt("return",d);case 12:throw i.prev=12,i.t2=i.catch(0),i.t2 instanceof Error&&(i.t2.message="Error looking up ".concat(a," ").concat(t).concat(i.t2.message?": ".concat(String(i.t2.message)):"."),i.t2.code=r.NETWORK_ERROR),i.t2;case 16:case"end":return i.stop()}}),i,null,[[0,12]])})))}},b=l(d.MintGateway),y=l(d.LockGateway),m=l(d.RenAsset),v=l(d.LockAsset)},112:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(1),a=n.n(r),i=n(5),s=n(28),c=n.n(s),o=n(152),u=n.n(o),d=n(3),p=n(17),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},f=function t(e){var n=this;Object(i.a)(this,t),this.fetchHeight=function(){return h(n,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("".concat(this.url),{timeout:p.b});case 2:return t.abrupt("return",t.sent.data.bestHeight.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){return h(n,void 0,void 0,a.a.mark((function e(){var n,r,i,s=this;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/utxo/").concat(t),e.next=3,c.a.get(n,{httpsAgent:new u.a.Agent({rejectUnauthorized:!1}),timeout:p.b});case 3:return r=e.sent,i="string"===typeof r.data?JSON.parse(r.data):r.data,e.next=7,Promise.all(i.map((function(t){return{txid:t.txid,amount:Object(d.y)(t.satoshis)?t.satoshis.toString():Object(d.y)(t.amount)?Object(p.e)(t.amount,8).toFixed():void 0,txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})).map((function(t){return Object(d.y)(t.amount)?t:s.fetchUTXO(t.txid,t.txindex)})));case 7:return e.abrupt("return",e.sent.sort(p.f));case 8:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return h(n,void 0,void 0,a.a.mark((function n(){var r,i;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,c.a.get(r,{timeout:p.b});case 3:return i=n.sent.data,n.abrupt("return",Object(p.c)({txid:t,amount:i.vout[parseInt(e,10)].value.toString(),txindex:e,height:i.blockheight&&i.blockheight>0?i.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return h(n,void 0,void 0,a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,c.a.post(n,{rawtx:t},{timeout:p.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},113:function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p}));var r=n(5),a=n(1),i=n.n(a),s=(n(42),n(81),n(111)),c=n(3),o=n(52),u=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},d=function(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];t=Object.assign(Object.assign({},t),s),Object(c.y)(t.value)&&(t.value=t.value.toString()),Object(c.y)(t.gasPrice)&&(t.gasPrice=t.gasPrice.toString())}return t},p=function t(e){var n=this,a=e.network,d=e.signer,p=e.chain,h=e.payload,f=e.target,l=e.getPayloadHandler,b=e.getParams,y=e.onReceipt,m=e.findExistingTransaction;Object(r.a)(this,t),this.updateStatus=function(t){return n.status=Object.assign(Object.assign({},n.status),t),n.eventEmitter.emit("status",n.status),n.status},this.submit=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(c.E)(n.eventEmitter);return u(n,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.findExistingTransaction||!this.signer.provider){e.next=8;break}return e.next=3,this.findExistingTransaction();case 3:if(!(n=e.sent)){e.next=8;break}return e.next=7,this.signer.provider.getTransaction(n.txidFormatted);case 7:this.tx=e.sent;case 8:return e.next=10,this.getPayloadHandler(this.payload.type).submit(this.network,this.signer,this.payload,this.getParams(),t,this.getPayloadHandler);case 10:return this.tx=e.sent,this.updateStatus({status:c.a.Confirming,transaction:Object(o.h)(this.chain,this.tx.hash),target:this.target,confirmations:this.tx.confirmations}),e.abrupt("return",this.status);case 13:case"end":return e.stop()}}),e,this)}))).then(e.resolve).catch(e.reject),e},this.wait=function(t){var e=Object(c.E)(n.eventEmitter);return u(n,void 0,void 0,i.a.mark((function e(){var n,r,a,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.tx){e.next=2;break}throw new Error('Must call ".submit" first.');case 2:t=Object(c.y)(t)?t:this.target;case 3:if(!(this.tx.confirmations<t||this.onReceipt)){e.next=32;break}return e.prev=4,e.next=7,this.tx.wait(Math.min(this.tx.confirmations+1,t));case 7:n=e.sent,this.onReceipt&&(r=this.onReceipt,this.onReceipt=void 0,r(n)),a=this.tx.confirmations,this.tx.confirmations=n.confirmations,n.confirmations>a&&this.updateStatus(Object.assign(Object.assign({},this.status),{status:this.tx.confirmations<t?c.a.Confirming:c.a.Done,transaction:Object(o.h)(this.chain,this.tx.hash),target:t,confirmations:this.tx.confirmations})),e.next=30;break;case 14:if(e.prev=14,e.t0=e.catch(4),!Object(c.A)(e.t0)){e.next=28;break}if(e.t0.code!==s.Logger.errors.TRANSACTION_REPLACED){e.next=25;break}return u=e.t0.replacement,d=this.tx,this.tx=u,this.updateStatus({status:c.a.Confirming,transaction:Object(o.h)(this.chain,u.hash),target:t,confirmations:u.confirmations,replaced:Object(o.h)(this.chain,d.hash)}),e.abrupt("continue",3);case 25:if(e.t0.code!==s.Logger.errors.CALL_EXCEPTION){e.next=28;break}throw this.updateStatus({status:c.a.Reverted,transaction:Object(o.h)(this.chain,this.tx.hash),target:t,confirmations:e.t0.receipt.confirmations,revertReason:e.t0.message}),e.t0;case 28:return console.error(e.t0),e.abrupt("continue",3);case 30:e.next=3;break;case 32:return this.status.status!==c.a.Done&&this.updateStatus({status:c.a.Done}),e.abrupt("return",this.status);case 34:case"end":return e.stop()}}),e,this,[[4,14]])}))).then(e.resolve).catch(e.reject),e},this.network=a,this.signer=d,this.chain=p,this.payload=h,this.target=f,this.getPayloadHandler=l,this.getParams=b,this.onReceipt=y,this.findExistingTransaction=m,this.eventEmitter=Object(c.n)(),this.status={chain:p,status:c.a.Ready,confirmations:0,target:0}}},115:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var r=n(5),a=n(38),i=n(199),s=function(t){return Object(a.e)(Object(a.e)(t)).slice(0,4)},c=function e(){var n=this;Object(r.a)(this,e),this.OP=i.a,this.addOp=function(e){return n.script=t.concat([n.script,t.from([e])]),n},this.addData=function(e){return n.script=t.concat([n.script,t.from([e.length]),e]),n},this.toBuffer=function(){return n.script},this.toScriptHashOut=function(){return(new e).addOp(e.OP.OP_HASH160).addData(Object(a.c)(n.toBuffer())).addOp(e.OP.OP_EQUAL).toBuffer()},this.toAddress=function(e){var r=Object(a.c)(n.toBuffer()),i=t.concat([e,r]);return t.concat([i,s(i)])},this.script=t.from([])};c.OP=i.a}).call(this,n(32).Buffer)},124:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.label&&!!t.selector&&!!t.nativeAsset&&!!t.p2shPrefix&&!!t.explorer&&!!t.providers}},129:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return f}));var r,a=n(5),i=n(11),s=n(12),c=n(282);!function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.PARAMETER_ERROR="PARAMETER_ERROR",t.INTERNAL_ERROR="INTERNAL_ERROR",t.NETWORK_ERROR="NETWORK_ERROR",t.TRANSACTION_NOT_FOUND="TRANSACTION_NOT_FOUND"}(r||(r={}));var o=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).code=r,i}return n}(Object(c.a)(Error)),u=function(t){return t instanceof Error&&"string"===typeof t.code},d=function(t,e){return t.code=e,t},p=function(t,e){return t.hasOwnProperty(e)},h=function(t){return""===t||"null"===t||"undefined"===t},f=function t(e){if(e&&"object"===typeof e){if(p(e,"response")&&e.response){var n=t(e.response);if(!h(n))return n}if(p(e,"data")&&e.data){var r=t(e.data);if(!h(r))return r}if(p(e,"error")&&e.error){var a=t(e.error);if(!h(a))return a}if(p(e,"context")&&e.context){var i=t(e.context);if(!h(i))return i}if(p(e,"message")&&e.message){var s=t(e.message);if(!h(s))return s}if(p(e,"statusText")&&e.statusText){var c=t(e.statusText);if(!h(c))return c}}try{return"string"===typeof e?("Error: "===e.slice(0,7)&&(e=e.slice(7)),e):JSON.stringify(e)}catch(o){}return String(e)}},131:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return E}));var r=n(42),a=n(18),i=n.n(a),s=n(48),c=n(95),o=n(36),u=function(t){switch(t){case"nil":return 0;case o.a.Bool:return 1;case o.a.U8:return 2;case o.a.U16:return 3;case o.a.U32:return 4;case o.a.U64:return 5;case o.a.U128:return 6;case o.a.U256:return 7;case o.a.Str:return 10;case o.a.Bytes:return 11;case o.a.Bytes32:return 12;case o.a.Bytes65:return 13;case"struct":return 20;case"list":return 21}throw new Error("Unknown type ".concat(String(t),"."))},d=function(t){return function(e){return function(t,e){try{return Object(s.g)("number"===typeof t?t:i.a.isBigNumber(t)?t.toFixed():t.toString(),e/8)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal uint".concat(e," '").concat(String(t),"': ").concat(String(n.message))),n}}(e,t)}},p=d(8),h=d(16),f=d(32),l=d(64),b=d(128),y=d(256),m=function(e){return t.concat([f(e.length),e])},v=function(e){return m(t.from(e))},g=function(e){var n=f(e.struct.length);return t.concat([t.from([u("struct")]),n].concat(Object(r.a)(e.struct.map((function(e){var n=Object.keys(e);if(0===n.length)throw new Error("Invalid struct field with no entries.");if(n.length>1)throw new Error("Invalid struct field with multiple entries.");var r=Object.keys(e)[0],a=e[r];return t.concat([v(r),O(a)])})))))},x=function(e){return t.concat([t.from([u("list")]),O(e.list)])},O=function(e){if(Object(o.c)(e))return g(e);if(Object(o.b)(e))return x(e);if("string"===typeof e)return t.from([u(e)]);throw new Error("Unable to marshal type ".concat(String(e),"."))},w=function(e,n){return t.concat(e.struct.map((function(t){var e=Object.keys(t);if(0===e.length)throw new Error("Invalid struct member with no entries.");if(e.length>1)throw new Error("Invalid struct member with multiple entries.");if("object"!==typeof n)throw new Error('Invalid struct value of type "'.concat(typeof n,'".'));if(null===n)throw new Error('Invalid struct value "null".');var r=Object.keys(t)[0],a=t[r];try{return T(a,n[r])}catch(i){throw i instanceof Error&&(i.message="Unable to marshal struct field ".concat(r,": ").concat(String(i.message))),i}})))},j=function(e,n){var r=e.list;return t.concat(n.map((function(t,e){try{return T(r,t)}catch(n){throw n instanceof Error&&(n.message="Unable to marshal array element #".concat(e,": ").concat(String(n.message))),n}})))},T=function(e,n){if(Object(o.c)(e))return w(e,n);if(Object(o.b)(e))return j(e,n);if("string"===typeof e)return"nil"===e?t.from([]):function(e,n){switch(e){case o.a.Bool:return p(n?1:0);case o.a.U8:return p(n);case o.a.U16:return h(n);case o.a.U32:return f(n);case o.a.U64:return l(n);case o.a.U128:return b(n);case o.a.U256:return y(n);case o.a.Str:return v(n);case o.a.Bytes:return m(t.isBuffer(n)?t.from(n):Object(c.b)(n));case o.a.Bytes32:case o.a.Bytes65:return t.isBuffer(n)?t.from(n):Object(c.b)(n)}}(e,n);throw new Error("Unknown value type ".concat(String(e)).concat(e?"":" for value ".concat(String(n))))},E=function(e){var n=e.t,r=e.v,a=O(n),i=T(n,r);return t.concat([a,i])}}).call(this,n(32).Buffer)},149:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return a}));var r=n(3),a=function(e){var n=Object(r.K)(e.out);return n&&n.sig&&t.isBuffer(n.sig)&&n.sig.length>0&&(n.sig=Object(r.p)(n.sig)),{version:parseInt(e.version),hash:e.hash,selector:e.selector,in:Object(r.K)(e.in),out:n}}}).call(this,n(32).Buffer)},160:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return!!t.addresses}},17:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"a",(function(){return v}));var r=n(50),a=n(1),i=n.n(a),s=n(5),c=n(9),o=n(18),u=n.n(o),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},p=3e4,h=function(t,e){var n=t.height?new u.a(t.height):null,r=e.height?new u.a(e.height):null;if(n){if(!r)return-1;if(!n.isEqualTo(r))return r.minus(n).toNumber()}else if(r)return 1;var a=new u.a(t.amount),i=new u.a(e.amount);if(a.isEqualTo(i))return i.minus(a).toNumber();if(t.txid!==e.txid)return t.txid<=e.txid?-1:1;var s=new u.a(t.txindex);return new u.a(e.txindex).minus(s).toNumber()},f=function(t,e){return new u.a(t).shiftedBy(e).decimalPlaces(0)},l=function(t,e){return Object.assign(Object.assign({},t),{amount:f(t.amount,e).toFixed()})},b=function(t,e){return t.map((function(t){return l(t,e)}))},y=function(t){if(void 0===t||null===t)throw new Error("Unexpected ".concat(String(t)," value."));return t},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.api&&void 0!==t.priority?t:{api:t,priority:e}},v=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.priority,o=void 0===c?0:c;Object(s.a)(this,t),this.fetchUTXOs=function(t,n){return d(e,void 0,void 0,i.a.mark((function e(){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXOs}),(function(e){return d(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",y(e.fetchUTXOs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t,n){return d(e,void 0,void 0,i.a.mark((function e(){var r=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchTXs}),(function(e){return d(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",y(e.fetchTXs)(t,n));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return d(e,void 0,void 0,i.a.mark((function e(){var n=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.forEachAPI((function(t){return void 0!==t.broadcastTransaction}),(function(e){return d(n,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",y(e.broadcastTransaction)(t));case 1:case"end":return n.stop()}}),n)})))})));case 1:case"end":return e.stop()}}),e,this)})))},this.forEachAPI=function(t,n){return d(e,void 0,void 0,i.a.mark((function e(){var a,s,c,o,u,d,p,h,f,l,b,y;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.apis.map((function(t,e){return{api:t,index:e}})).filter((function(e){var n=e.api;return t(n.api)})).sort((function(t,e){var n=t.api,r=e.api;return n.priority!==r.priority?n.priority-r.priority:2*Math.random()-1})),a.length){e.next=3;break}throw new Error("No API available for call.");case 3:c=[],o=Object(r.a)(a),e.prev=5,o.s();case 7:if((u=o.n()).done){e.next=24;break}return d=u.value,p=d.api,h=d.index,e.prev=9,e.next=12,n(p.api);case 12:f=e.sent,l=Object(r.a)(c);try{for(l.s();!(b=l.n()).done;)y=b.value,this.apis[y].priority-=5}catch(i){l.e(i)}finally{l.f()}return e.abrupt("return",f);case 18:e.prev=18,e.t0=e.catch(9),c.push(h),s=s||e.t0;case 22:e.next=7;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(5),o.e(e.t1);case 29:return e.prev=29,o.f(),e.finish(29);case 32:throw s;case 33:case"end":return e.stop()}}),e,this,[[5,26,29,32],[9,18]])})))},this.apis=n.map((function(t){return m(t,o)}))}return Object(c.a)(t,[{key:"withAPI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.priority,r=void 0===n?0:n;return this.apis.push(m(t,r)),this}},{key:"fetchHeight",value:function(){return d(this,void 0,void 0,i.a.mark((function t(){var e=this;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchHeight}),(function(t){return d(e,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t.fetchHeight)());case 1:case"end":return e.stop()}}),e)})))})));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"fetchUTXO",value:function(t,e){return d(this,void 0,void 0,i.a.mark((function n(){var r=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.forEachAPI((function(t){return void 0!==t.fetchUTXO}),(function(n){return d(r,void 0,void 0,i.a.mark((function r(){return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",y(n.fetchUTXO)(t,e));case 1:case"end":return r.stop()}}),r)})))})));case 1:case"end":return n.stop()}}),n,this)})))}}]),t}()},170:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(3),a={logLevel:r.e.Debug,logger:r.F,networkDelay:15*r.k}},171:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(1),a=n.n(r),i=n(3),s=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},c=function(t){var e=t.asset,n=t.fromChain,r=t.toChain;return s(void 0,void 0,void 0,a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.isLockAsset(e);case 2:if(!t.sent){t.next=12;break}if(Object(i.x)(n)){t.next=5;break}throw Object(i.L)(new Error("Cannot burn from non-contract chain ".concat(n.chain,".")),i.i.PARAMETER_ERROR);case 5:return t.next=7,n.isMintAsset(e);case 7:if(t.sent){t.next=9;break}throw Object(i.L)(new Error("Asset '".concat(e,"' is not supported on ").concat(n.chain,".")),i.i.PARAMETER_ERROR);case 9:return t.abrupt("return",{inputType:i.d.Burn,outputType:i.f.Release,selector:"".concat(e,"/from").concat(n.chain)});case 12:return t.next=14,n.isLockAsset(e);case 14:if(!t.sent){t.next=24;break}if(Object(i.x)(r)){t.next=17;break}throw Object(i.L)(new Error("Cannot mint to non-contract chain ".concat(r.chain,".")),i.i.PARAMETER_ERROR);case 17:return t.next=19,r.isMintAsset(e);case 19:if(t.sent){t.next=21;break}throw Object(i.L)(new Error("Asset '".concat(e,"' is not supported on ").concat(r.chain,".")),i.i.PARAMETER_ERROR);case 21:return t.abrupt("return",{inputType:i.d.Lock,outputType:i.f.Mint,selector:"".concat(e,"/to").concat(r.chain)});case 24:throw Object(i.L)(new Error("Burning and minting is not supported yet."),i.i.NOT_IMPLEMENTED);case 25:case"end":return t.stop()}}),t)})))}},173:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return h}));var r,a=n(1),i=n.n(a),s=n(5),c=n(15),o=n(11),u=n(12),d=n(3);!function(t){t.SubmitGateway="ren_submitGateway",t.SubmitTx="ren_submitTx",t.QueryTx="ren_queryTx",t.QueryTxs="ren_queryTxs",t.QueryBlock="ren_queryBlock",t.QueryBlocks="ren_queryBlocks",t.QueryConfig="ren_queryConfig",t.QueryState="ren_queryState",t.QueryBlockState="ren_queryBlockState"}(r||(r={}));d.h.U256,d.h.Str,d.h.Bytes32;var p,h={struct:[{txid:d.h.Bytes},{txindex:d.h.U32},{amount:d.h.U256},{payload:d.h.Bytes},{phash:d.h.Bytes32},{to:d.h.Str},{nonce:d.h.Bytes32},{nhash:d.h.Bytes32},{gpubkey:d.h.Bytes},{ghash:d.h.Bytes32}]},f={struct:[{payload:d.h.Bytes},{phash:d.h.Bytes32},{to:d.h.Str},{nonce:d.h.Bytes32},{nhash:d.h.Bytes32},{gpubkey:d.h.Bytes},{ghash:d.h.Bytes32}]},l=n(28),b=n.n(l),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},m=function(t,e){return{id:1,jsonrpc:"2.0",method:t,params:e}},v=function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.F;if(Object(s.a)(this,t),this.sendMessage=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:120*d.k;return y(n,void 0,void 0,i.a.mark((function n(){var s,c,o,u=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"===typeof(s=this.endpointOrProvider)){n.next=3;break}return n.abrupt("return",s.sendMessage(t,e,r,a));case 3:return c=m(t,e),this.logger.getLevel&&this.logger.getLevel()<=d.e.Debug&&this.logger.debug("[request]",JSON.stringify(c,null,"    ")),n.prev=5,n.next=8,Object(d.J)((function(){return y(u,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",b.a.post(s,c,{timeout:a}));case 1:case"end":return t.stop()}}),t)})))}),r,1*d.k);case 8:if(200===(o=n.sent).status){n.next=11;break}throw this.responseError("Unexpected status code ".concat(String(o.status)," returned from node."),o);case 11:if(!o.data.error){n.next=13;break}throw new Error(o.data.error);case 13:if(void 0!==o.data.result){n.next=15;break}throw new Error("Empty result returned from node.");case 15:return this.logger.getLevel&&this.logger.getLevel()<=d.e.Debug&&this.logger.debug("[response]",JSON.stringify(o.data.result,null,"    ")),n.abrupt("return",o.data.result);case 19:throw n.prev=19,n.t0=n.catch(5),new Error(Object(d.o)(n.t0));case 22:case"end":return n.stop()}}),n,this,[[5,19]])})))},this.responseError=function(t,e){var n=new Error(t);return n.response=e,n},this.logger=r,"string"===typeof e&&-1===e.indexOf("://"))throw new Error("Invalid node URL without protocol: ".concat(e,"."));this.endpointOrProvider=e},g=n(16),x=(p={},Object(g.a)(p,d.j.Mainnet,"https://lightnode-mainnet.herokuapp.com"),Object(g.a)(p,d.j.Testnet,"https://lightnode-testnet.herokuapp.com"),Object(g.a)(p,d.j.Devnet,"https://lightnode-devnet.herokuapp.com/"),p),O=n(149),w=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},j=function(t){Object(o.a)(n,t);var e=Object(u.a)(n);function n(t){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.F;return Object(s.a)(this,n),(a=e.call(this,"string"!==typeof t?t:x[t]||t)).queryBlock=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessage(r.QueryBlock,{blockHeight:t},e);case 2:return n.abrupt("return",n.sent.block);case 3:case"end":return n.stop()}}),n,this)})))},a.queryBlocks=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryBlocks,{blockHeight:t,n:e},n);case 2:return a.abrupt("return",a.sent.blocks);case 3:case"end":return a.stop()}}),a,this)})))},a.submitGateway=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.sendMessage(r.SubmitGateway,{gateway:t,tx:e},n));case 1:case"end":return a.stop()}}),a,this)})))},a.submitTx=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.sendMessage(r.SubmitTx,{tx:t},e));case 1:case"end":return n.stop()}}),n,this)})))},a.queryTxs=function(t,e,n,s,o){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.sendMessage(r.QueryTxs,{tags:t,page:(e||0).toString(),pageSize:(n||0).toString(),txStatus:s},o);case 2:return a.abrupt("return",a.sent.txs.map((function(t){return Object(O.a)(t)})));case 3:case"end":return a.stop()}}),a,this)})))},a.queryConfig=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendMessage(r.QueryConfig,{},t));case 1:case"end":return e.stop()}}),e,this)})))},a.queryBlockState=Object(d.D)((function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){var a,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessage(r.QueryBlockState,{contract:t},e);case 2:return a=n.sent,s=a.state,n.abrupt("return",Object(d.K)(s));case 5:case"end":return n.stop()}}),n,this)})))})),a.submitGatewayDetails=function(t,e,n){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function r(){var a,s,c,o,u,p,h,l,b,y;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.selector,s=e.gHash,c=e.gPubKey,o=e.nHash,u=e.nonce,p=e.payload,h=e.pHash,l=e.to,Object(d.m)("Buffer",{gHash:s,gPubKey:c,nHash:o,nonce:u,payload:p,pHash:h}),Object(d.m)("string",{to:l}),b={t:f,v:{ghash:Object(d.I)(s),gpubkey:Object(d.I)(c),nhash:Object(d.I)(o),nonce:Object(d.I)(u),payload:Object(d.I)(p),phash:Object(d.I)(h),to:l}},y={selector:a,version:"1",in:b},r.next=7,this.submitGateway(t,y,n);case 7:return r.abrupt("return",t);case 8:case"end":return r.stop()}}),r,this)})))},a.queryTx=function(t,e){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(d.m)("string",{txHash:t}),n.prev=1,n.next=4,this.sendMessage(r.QueryTx,{txHash:t},e);case 4:a=n.sent,n.next=18;break;case 7:if(n.prev=7,n.t0=n.catch(1),!n.t0.message.match(/^invalid params: /)){n.next=13;break}throw Object(d.L)(n.t0,d.i.PARAMETER_ERROR);case 13:if(!n.t0.message.match(/not found$/)){n.next=17;break}throw Object(d.L)(n.t0,d.i.TRANSACTION_NOT_FOUND);case 17:throw Object(d.L)(n.t0,d.i.UNKNOWN_ERROR);case 18:return n.prev=18,n.abrupt("return",{tx:Object(O.a)(a.tx),txStatus:a.txStatus});case 22:throw n.prev=22,n.t1=n.catch(18),Object(d.L)(n.t1,d.i.INTERNAL_ERROR);case 25:case"end":return n.stop()}}),n,this,[[1,7],[18,22]])})))},a.selectShard=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.queryBlockState(t,5);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Object(d.L)(new Error("Error fetching RenVM shards: ".concat(String(e.t0.message))),d.i.NETWORK_ERROR);case 9:if(n[t]){e.next=11;break}throw new Error("No RenVM block state found for ".concat(t,"."));case 11:if((r=n[t].shards[0].pubKey)&&0!==r.length){e.next=14;break}throw new Error("Unable to fetch RenVM public key for ".concat(t,"."));case 14:return Object(d.m)("Buffer",{pubKey:r}),e.abrupt("return",{gPubKey:Object(d.I)(r)});case 16:case"end":return e.stop()}}),e,this,[[0,6]])})))},a.getNetwork=function(){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queryConfig();case 2:return t.abrupt("return",t.sent.network);case 3:case"end":return t.stop()}}),t,this)})))},a.getConfirmationTarget=function(t){return w(Object(c.a)(a),void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendMessage(r.QueryConfig,{});case 2:return n=e.sent,e.abrupt("return",parseInt(n.confirmations[t],10));case 4:case"end":return e.stop()}}),e,this)})))},a.logger=o,a}return n}(v)},176:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(50),a=n(1),i=n.n(a),s=n(5),c=n(28),o=n.n(c),u=n(18),d=n.n(u),p=n(152),h=n.n(p),f=n(3),l=n(17),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},y=function t(e){var n=this;Object(s.a)(this,t),this.fetchHeight=function(){return b(n,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("".concat(this.url,"/sync"),{timeout:l.b});case 2:return t.abrupt("return",t.sent.data.height.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXOs=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return b(n,void 0,void 0,i.a.mark((function n(){var r,a,s,c,u=this;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/addr/").concat(t,"/utxo"),n.next=3,o.a.get(r,{httpsAgent:new h.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:return a=n.sent,s="string"===typeof a.data?JSON.parse(a.data):a.data,n.t0=d.a,n.next=8,this.fetchHeight();case 8:return n.t1=n.sent,c=new n.t0(n.t1),n.next=12,Promise.all(s.filter((function(t){return 0===e||t.confirmations>=e})).map((function(t){return{txid:t.txid,txindex:t.vout.toString(),amount:Object(f.y)(t.satoshis)?t.satoshis.toString():Object(f.y)(t.amount)?Object(l.e)(t.amount,8).toFixed():void 0,height:t.confirmations&&t.confirmations>0?c.minus(t.confirmations).plus(1).toFixed():null}})).map((function(t){return Object(f.y)(t.amount)?t:u.fetchUTXO(t.txid,t.txindex)})));case 12:return n.abrupt("return",n.sent.sort(l.f));case 13:case"end":return n.stop()}}),n,this)})))},this.fetchTXs=function(t){return b(n,void 0,void 0,i.a.mark((function e(){var n,a,s,c,u,d,p,f,b;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/txs/?address=").concat(t),e.next=3,o.a.get(n,{httpsAgent:new h.a.Agent({rejectUnauthorized:!1}),timeout:l.b});case 3:a=e.sent,s="string"===typeof a.data?JSON.parse(a.data):a.data,c=[],u=Object(r.a)(s.txs);try{for(u.s();!(d=u.n()).done;)for(p=d.value,f=0;f<p.vout.length;f++)(b=p.vout[f]).scriptPubKey.addresses.indexOf(t)>=0&&c.push({txid:p.txid,txindex:f.toString(),amount:Object(l.e)(parseFloat(b.value),8).toFixed(),height:p.blockheight&&p.blockheight>0?p.blockheight.toString():null})}catch(i){u.e(i)}finally{u.f()}return e.abrupt("return",c.sort(l.f));case 9:case"end":return e.stop()}}),e,this)})))},this.fetchUTXO=function(t,e){return b(n,void 0,void 0,i.a.mark((function n(){var r,a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.url,"/tx/").concat(t),n.next=3,o.a.get(r,{timeout:l.b});case 3:return a=n.sent.data,n.abrupt("return",Object(l.c)({txid:t,amount:a.vout[parseInt(e,10)].value.toString(),txindex:e,height:a.blockheight&&a.blockheight>0?a.blockheight.toString():null},8));case 5:case"end":return n.stop()}}),n,this)})))},this.broadcastTransaction=function(t){return b(n,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.url,"/tx/send"),e.next=3,o.a.post(n,{rawtx:t},{timeout:l.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.txid);case 7:case"end":return e.stop()}}),e,this)})))},this.url=e.replace(/\/$/,"")}},199:function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),function(t){t[t.OP_FALSE=0]="OP_FALSE",t[t.OP_0=0]="OP_0",t[t.OP_PUSHDATA1=76]="OP_PUSHDATA1",t[t.OP_PUSHDATA2=77]="OP_PUSHDATA2",t[t.OP_PUSHDATA4=78]="OP_PUSHDATA4",t[t.OP_1NEGATE=79]="OP_1NEGATE",t[t.OP_RESERVED=80]="OP_RESERVED",t[t.OP_TRUE=81]="OP_TRUE",t[t.OP_1=81]="OP_1",t[t.OP_2=82]="OP_2",t[t.OP_3=83]="OP_3",t[t.OP_4=84]="OP_4",t[t.OP_5=85]="OP_5",t[t.OP_6=86]="OP_6",t[t.OP_7=87]="OP_7",t[t.OP_8=88]="OP_8",t[t.OP_9=89]="OP_9",t[t.OP_10=90]="OP_10",t[t.OP_11=91]="OP_11",t[t.OP_12=92]="OP_12",t[t.OP_13=93]="OP_13",t[t.OP_14=94]="OP_14",t[t.OP_15=95]="OP_15",t[t.OP_16=96]="OP_16",t[t.OP_NOP=97]="OP_NOP",t[t.OP_VER=98]="OP_VER",t[t.OP_IF=99]="OP_IF",t[t.OP_NOTIF=100]="OP_NOTIF",t[t.OP_VERIF=101]="OP_VERIF",t[t.OP_VERNOTIF=102]="OP_VERNOTIF",t[t.OP_ELSE=103]="OP_ELSE",t[t.OP_ENDIF=104]="OP_ENDIF",t[t.OP_VERIFY=105]="OP_VERIFY",t[t.OP_RETURN=106]="OP_RETURN",t[t.OP_TOALTSTACK=107]="OP_TOALTSTACK",t[t.OP_FROMALTSTACK=108]="OP_FROMALTSTACK",t[t.OP_2DROP=109]="OP_2DROP",t[t.OP_2DUP=110]="OP_2DUP",t[t.OP_3DUP=111]="OP_3DUP",t[t.OP_2OVER=112]="OP_2OVER",t[t.OP_2ROT=113]="OP_2ROT",t[t.OP_2SWAP=114]="OP_2SWAP",t[t.OP_IFDUP=115]="OP_IFDUP",t[t.OP_DEPTH=116]="OP_DEPTH",t[t.OP_DROP=117]="OP_DROP",t[t.OP_DUP=118]="OP_DUP",t[t.OP_NIP=119]="OP_NIP",t[t.OP_OVER=120]="OP_OVER",t[t.OP_PICK=121]="OP_PICK",t[t.OP_ROLL=122]="OP_ROLL",t[t.OP_ROT=123]="OP_ROT",t[t.OP_SWAP=124]="OP_SWAP",t[t.OP_TUCK=125]="OP_TUCK",t[t.OP_CAT=126]="OP_CAT",t[t.OP_SUBSTR=127]="OP_SUBSTR",t[t.OP_LEFT=128]="OP_LEFT",t[t.OP_RIGHT=129]="OP_RIGHT",t[t.OP_SIZE=130]="OP_SIZE",t[t.OP_INVERT=131]="OP_INVERT",t[t.OP_AND=132]="OP_AND",t[t.OP_OR=133]="OP_OR",t[t.OP_XOR=134]="OP_XOR",t[t.OP_EQUAL=135]="OP_EQUAL",t[t.OP_EQUALVERIFY=136]="OP_EQUALVERIFY",t[t.OP_RESERVED1=137]="OP_RESERVED1",t[t.OP_RESERVED2=138]="OP_RESERVED2",t[t.OP_1ADD=139]="OP_1ADD",t[t.OP_1SUB=140]="OP_1SUB",t[t.OP_2MUL=141]="OP_2MUL",t[t.OP_2DIV=142]="OP_2DIV",t[t.OP_NEGATE=143]="OP_NEGATE",t[t.OP_ABS=144]="OP_ABS",t[t.OP_NOT=145]="OP_NOT",t[t.OP_0NOTEQUAL=146]="OP_0NOTEQUAL",t[t.OP_ADD=147]="OP_ADD",t[t.OP_SUB=148]="OP_SUB",t[t.OP_MUL=149]="OP_MUL",t[t.OP_DIV=150]="OP_DIV",t[t.OP_MOD=151]="OP_MOD",t[t.OP_LSHIFT=152]="OP_LSHIFT",t[t.OP_RSHIFT=153]="OP_RSHIFT",t[t.OP_BOOLAND=154]="OP_BOOLAND",t[t.OP_BOOLOR=155]="OP_BOOLOR",t[t.OP_NUMEQUAL=156]="OP_NUMEQUAL",t[t.OP_NUMEQUALVERIFY=157]="OP_NUMEQUALVERIFY",t[t.OP_NUMNOTEQUAL=158]="OP_NUMNOTEQUAL",t[t.OP_LESSTHAN=159]="OP_LESSTHAN",t[t.OP_GREATERTHAN=160]="OP_GREATERTHAN",t[t.OP_LESSTHANOREQUAL=161]="OP_LESSTHANOREQUAL",t[t.OP_GREATERTHANOREQUAL=162]="OP_GREATERTHANOREQUAL",t[t.OP_MIN=163]="OP_MIN",t[t.OP_MAX=164]="OP_MAX",t[t.OP_WITHIN=165]="OP_WITHIN",t[t.OP_RIPEMD160=166]="OP_RIPEMD160",t[t.OP_SHA1=167]="OP_SHA1",t[t.OP_SHA256=168]="OP_SHA256",t[t.OP_HASH160=169]="OP_HASH160",t[t.OP_HASH256=170]="OP_HASH256",t[t.OP_CODESEPARATOR=171]="OP_CODESEPARATOR",t[t.OP_CHECKSIG=172]="OP_CHECKSIG",t[t.OP_CHECKSIGVERIFY=173]="OP_CHECKSIGVERIFY",t[t.OP_CHECKMULTISIG=174]="OP_CHECKMULTISIG",t[t.OP_CHECKMULTISIGVERIFY=175]="OP_CHECKMULTISIGVERIFY",t[t.OP_CHECKLOCKTIMEVERIFY=177]="OP_CHECKLOCKTIMEVERIFY",t[t.OP_CHECKSEQUENCEVERIFY=178]="OP_CHECKSEQUENCEVERIFY",t[t.OP_NOP1=176]="OP_NOP1",t[t.OP_NOP2=177]="OP_NOP2",t[t.OP_NOP3=178]="OP_NOP3",t[t.OP_NOP4=179]="OP_NOP4",t[t.OP_NOP5=180]="OP_NOP5",t[t.OP_NOP6=181]="OP_NOP6",t[t.OP_NOP7=182]="OP_NOP7",t[t.OP_NOP8=183]="OP_NOP8",t[t.OP_NOP9=184]="OP_NOP9",t[t.OP_NOP10=185]="OP_NOP10",t[t.OP_PUBKEYHASH=253]="OP_PUBKEYHASH",t[t.OP_PUBKEY=254]="OP_PUBKEY",t[t.OP_INVALIDOPCODE=255]="OP_INVALIDOPCODE"}(r||(r={}))},200:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(50),a=n(1),i=n.n(a),s=n(5),c=n(28),o=n.n(c),u=n(17),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},p=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.testnet,c=void 0!==a&&a,p=n.apiKey,h=void 0===p?void 0:p;Object(s.a)(this,t),this.getAPIUrl=function(t){return"https://blockstream.info/".concat(e.testnet?"testnet/":"","api").concat(t).concat(e.apiKey?"?key=".concat(e.apiKey):"")},this.fetchHeight=function(){return d(e,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get(this.getAPIUrl("/blocks/tip/height"),{timeout:u.b});case 2:return t.abrupt("return",t.sent.data.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return d(e,void 0,void 0,i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/tx/".concat(t)),{timeout:u.b});case 2:return r=e.sent.data,e.abrupt("return",{txid:t,amount:r.vout[parseInt(n,10)].value.toString(),txindex:n,height:r.status.confirmed?r.status.block_height.toString():null});case 4:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return d(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/address/".concat(t,"/utxo")),{timeout:u.b});case 2:return n=e.sent,e.abrupt("return",n.data.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.vout.toString(),height:t.status.confirmed?t.status.block_height.toString():null}})).sort(u.f));case 4:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return d(e,void 0,void 0,i.a.mark((function e(){var n,a,s,c,d,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get(this.getAPIUrl("/address/".concat(t,"/txs")),{timeout:u.b});case 2:n=e.sent,a=[],s=Object(r.a)(n.data);try{for(s.s();!(c=s.n()).done;)for(d=c.value,p=0;p<d.vout.length;p++)(h=d.vout[p]).scriptpubkey_address===t&&a.push({txid:d.txid,amount:h.value.toString(),txindex:p.toString(),height:d.status.confirmed?d.status.block_height.toString():null})}catch(i){s.e(i)}finally{s.f()}return e.abrupt("return",a.sort(u.f));case 7:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return d(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post(this.getAPIUrl("/tx"),t,{timeout:u.b});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})))},this.testnet=c,this.apiKey=h}},201:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(50),a=n(1),i=n.n(a),s=n(5),c=n(9),o=n(28),u=n.n(o),d=n(17),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.testnet,r=void 0!==n&&n;Object(s.a)(this,t),this.testnet=r}return Object(c.a)(t,[{key:"endpoint",value:function(){return this.testnet?"https://trest.bitcoin.com/v2/":"https://rest.bitcoin.com/v2/"}},{key:"endpointV2",value:function(){return this.testnet?"https://explorer-tbch.api.bitcoin.com/tbch/v1":"https://explorer.api.bitcoin.com/bch/v1"}},{key:"fetchHeight",value:function(){return p(this,void 0,void 0,i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpointV2(),"/blockchain/getBlockCount"),t.next=3,u.a.get(e,{timeout:d.b});case 3:return n=t.sent,t.abrupt("return",n.data.toString());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"fetchUTXO",value:function(t,e){return p(this,void 0,void 0,i.a.mark((function n(){var r,a,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(this.endpointV2(),"/tx/").concat(t),n.next=3,u.a.get(r,{timeout:d.b});case 3:return a=n.sent,s=a.data,n.abrupt("return",Object(d.c)({txid:t,amount:s.vout[parseInt(e,10)].value.toString(),txindex:e,height:s.blockheight&&s.blockheight>0?s.blockheight.toString():null},8));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"fetchUTXOs",value:function(t){return p(this,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpointV2(),"/addr/").concat(t,"/utxo"),e.next=3,u.a.get(n,{timeout:d.b});case 3:return r=e.sent,e.abrupt("return",Object(d.d)(r.data.map((function(t){return{txid:t.txid,amount:t.amount.toString(),txindex:t.vout.toString(),height:t.height&&t.height>0?t.height.toString():null}})),8).sort(d.f));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"fetchTXs",value:function(t){return p(this,void 0,void 0,i.a.mark((function e(){var n,a,s,c,o,p,h,f,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/address/transactions/").concat(t),e.next=3,u.a.get(n,{timeout:d.b});case 3:a=e.sent,s=a.data,c=[],o=Object(r.a)(s.txs);try{for(o.s();!(p=o.n()).done;)for(h=p.value,f=0;f<h.vout.length;f++)(l=h.vout[f]).scriptPubKey.addresses.indexOf(t)>=0&&c.push({txid:h.txid,amount:Object(d.e)(parseFloat(l.value),8).toFixed(),txindex:f.toString(),height:h.blockheight&&h.blockheight>0?h.blockheight.toString():null})}catch(i){o.e(i)}finally{o.f()}return e.abrupt("return",c.sort(d.f));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"broadcastTransaction",value:function(t){return p(this,void 0,void 0,i.a.mark((function e(){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint().replace(/\/$/,""),"/rawtransactions/sendRawTransaction"),e.next=3,u.a.post(n,{hexes:[t]},{timeout:d.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data[0]);case 7:case"end":return e.stop()}}),e,this)})))}}]),t}()},210:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var r=n(18),a=n.n(r),i=n(40),s=n(48),c=n(95),o=function(e){Object(i.b)("Buffer",{signature:e});var n=e.slice(0,32),r=e.slice(32,64),o=e.slice(64,65)[0],u=new a.a(Object(c.a)(r),16);o=(o||0)%27+27;var d=new a.a("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141",16);return u.gt(d.div(2))&&(u=d.minus(u),o=27===o?28:27),t.concat([n,Object(s.g)(u,32),t.from([o])])}}).call(this,n(32).Buffer)},211:function(t,e,n){"use strict";(function(t){n.d(e,"f",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return l}));var r=n(132),a=n.n(r),i=n(163),s=n(40),c=n(48),o=n(131),u=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(s.b)("Buffer[]",{msg:n}),t.from(i.keccak256.buffer(t.concat(n)))},d=u,p=function(e){Object(s.b)("string",{selector:e});var n=t.from(e.replace(/\/.*To/,"/to"));return u(n)},h=function(t,e,n,r){return Object(s.b)("Buffer",{pHash:t,nonce:r,sHash:e,to:n}),u(t,e,n,r)},f=function(t,e,n){return Object(s.b)("Buffer",{nonce:t,txid:e}),Object(s.b)("string",{txindex:n}),u(t,e,Object(c.g)(n,4))},l=function(e,n,r){return Object(s.b)("string",{version:e,selector:n}),function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Object(s.b)("Buffer[]",{msg:n}),a()("sha256").update(t.concat(n)).digest()}(Object(o.a)(e),Object(o.a)(n),Object(o.b)(r))}}).call(this,n(32).Buffer)},226:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m}));var r,a=n(5),i=n(11),s=n(12),c=n(16),o=n(3),u=n(86),d=n(200),p=n(82),h=n(77),f=n(38),l={label:"Bitcoin",selector:"Bitcoin",nativeAsset:{name:"Bitcoin",symbol:"BTC",decimals:8},explorer:Object(f.b)("https://live.blockcypher.com/btc/"),p2shPrefix:t.from([5]),providers:[new d.a,new u.a,{api:new p.a,priority:15}]},b={label:"Bitcoin Testnet",selector:"Bitcoin",nativeAsset:{name:"Testnet Bitcoin",symbol:"BTC",decimals:8},isTestnet:!0,explorer:Object(f.b)("https://live.blockcypher.com/btc-testnet/"),p2shPrefix:t.from([196]),providers:[new d.a({testnet:!0})]},y=(r={},Object(c.a)(r,o.j.Mainnet,l),Object(c.a)(r,o.j.Testnet,b),Object(c.a)(r,o.j.Devnet,b),r),m=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,Object(f.d)(n.configMap,t))).configMap=y,r.assets=n.assets,r}return n}(h.a);m.chain="Bitcoin",m.configMap=y,m.assets={BTC:"BTC"}}).call(this,n(32).Buffer)},235:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(9),i=n(11),s=n(12),c=n(16),o=n(154),u=n(128),d=n.n(u),p=n(3),h=n(201),f=n(86),l=n(77),b=n(38),y={label:"Bitcoin Cash",selector:"BitcoinCash",nativeAsset:{name:"Bitcoin Cash",symbol:"BCH",decimals:8},explorer:Object(b.b)("https://explorer.bitcoin.com/bch/"),p2shPrefix:t.from([5]),providers:[new h.a,new f.a(f.b.BITCOIN_CASH)]},m={label:"Bitcoin Cash Testnet",selector:"BitcoinCash",nativeAsset:{name:"Testnet Bitcoin Cash",symbol:"BCH",decimals:8},isTestnet:!0,explorer:Object(b.b)("https://explorer.bitcoin.com/tbch/"),p2shPrefix:t.from([196]),providers:[new h.a({testnet:!0})]},v=(e={},Object(c.a)(e,p.j.Mainnet,y),Object(c.a)(e,p.j.Testnet,m),Object(c.a)(e,p.j.Devnet,m),e),g=function(t){Object(i.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(b.d)(n.configMap,t))).configMap=v,a.assets=n.assets,a}return Object(a.a)(n,[{key:"validateAddress",value:function(t){return Object(o.isValidAddress)(t)&&this.network.isTestnet?Object(o.isTestnetAddress)(t):Object(o.isMainnetAddress)(t)}},{key:"encodeAddress",value:function(t){return Object(o.toCashAddress)(d.a.encode(t))}}]),n}(l.a);g.chain="BitcoinCash",g.configMap=v,g.assets={BCH:"BCH"}}).call(this,n(32).Buffer)},236:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(112),u=n(77),d=n(38),p={label:"DigiByte",selector:"DigiByte",nativeAsset:{name:"DigiByte",symbol:"DGB",decimals:8},explorer:Object(d.b)("https://digiexplorer.info/"),p2shPrefix:t.from([63]),providers:[new o.a("https://multichain-web-proxy.herokuapp.com/digibyte-mainnet"),new o.a("https://digiexplorer.info/api"),new o.a("https://insight.digibyte.host/api")]},h={label:"DigiByte Testnet",selector:"DigiByte",nativeAsset:{name:"Testnet DigiByte",symbol:"DGB",decimals:8},isTestnet:!0,explorer:Object(d.b)("`https://testnetexplorer.digibyteservers.io/"),p2shPrefix:t.from([140]),providers:[new o.a("https://testnetexplorer.digibyteservers.io/api")]},f=(e={},Object(s.a)(e,c.j.Mainnet,p),Object(s.a)(e,c.j.Testnet,h),Object(s.a)(e,c.j.Devnet,h),e),l=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(d.d)(n.configMap,t))).configMap=f,a.assets=n.assets,a}return n}(u.a);l.chain="DigiByte",l.configMap=f,l.assets={DGB:"DGB"}}).call(this,n(32).Buffer)},240:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(86),u=n(82),d=n(77),p=n(38),h={label:"Dogecoin",selector:"Dogecoin",nativeAsset:{name:"Dogecoin",symbol:"DOGE",decimals:8},explorer:Object(p.a)("doge","DOGE"),p2shPrefix:t.from([22]),providers:[new o.a(o.b.DOGECOIN),{api:new u.a(u.b.DOGE),priority:15}]},f={label:"Dogecoin Testnet",selector:"Dogecoin",nativeAsset:{name:"Testnet Dogecoin",symbol:"DOGE",decimals:8},isTestnet:!0,explorer:Object(p.a)("testnet/doge","DOGETEST"),p2shPrefix:t.from([196]),providers:[{api:new u.a(u.b.DOGETEST),priority:15}]},l=(e={},Object(s.a)(e,c.j.Mainnet,h),Object(s.a)(e,c.j.Testnet,f),Object(s.a)(e,c.j.Devnet,f),e),b=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(p.d)(n.configMap,t))).configMap=l,a.assets=n.assets,a}return n}(d.a);b.chain="Dogecoin",b.configMap=l,b.assets={DOGE:"DOGE"}}).call(this,n(32).Buffer)},241:function(t,e,n){"use strict";(function(t){var e,r=n(5),a=n(11),i=n(12),s=n(16),c=n(3),o=n(112),u=n(86),d=n(176),p=n(82),h=n(77),f=n(38),l={label:"Zcash",selector:"Zcash",nativeAsset:{name:"Zcash",symbol:"ZEC",decimals:8},explorer:Object(f.a)("zcash","ZEC"),p2shPrefix:t.from([28,189]),providers:[new o.a("https://zecblockexplorer.com/api/"),new u.a(u.b.ZCASH),{api:new p.a(p.b.ZEC),priority:15},{api:new d.a("https://explorer.z.cash/api/"),priority:20},{api:new d.a("https://zechain.net/api/v1/"),priority:20}]},b={label:"Zcash Testnet",selector:"Zcash",nativeAsset:{name:"Testnet Zcash",symbol:"ZEC",decimals:8},isTestnet:!0,explorer:Object(f.a)("testnet/zcash","ZECTEST"),p2shPrefix:t.from([28,186]),providers:[new d.a("https://explorer.testnet.z.cash/api/"),{api:new p.a(p.b.ZECTEST),priority:15}]},y=(e={},Object(s.a)(e,c.j.Mainnet,l),Object(s.a)(e,c.j.Testnet,b),Object(s.a)(e,c.j.Devnet,b),e),m=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(t){var a;return Object(r.a)(this,n),(a=e.call(this,Object(f.d)(n.configMap,t))).configMap=y,a.assets=n.assets,a}return n}(h.a);m.chain="Zcash",m.configMap=y,m.assets={ZEC:"ZEC"}}).call(this,n(32).Buffer)},260:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(115),a=function(t,e){return(new r.a).addData(e).addOp(r.a.OP.OP_DROP).addOp(r.a.OP.OP_DUP).addOp(r.a.OP.OP_HASH160).addData(t).addOp(r.a.OP.OP_EQUALVERIFY).addOp(r.a.OP.OP_CHECKSIG)},i=function(t,e,n){return a(t,e).toAddress(n)}},263:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"contract IGatewayRegistry","name":"_registry","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lock","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"mint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"registry","outputs":[{"internalType":"contract IGatewayRegistry","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"release","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},264:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},265:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"address","name":"signatureVerifier","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"LockGatewayProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogLockGatewayAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogLockGatewayRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"address","name":"token","type":"address"},{"indexed":true,"internalType":"address","name":"gatewayContract","type":"address"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogMintGatewayAdded","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":true,"internalType":"string","name":"indexedSymbol","type":"string"}],"name":"LogMintGatewayRemoved","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldTransferContract","type":"address"},{"indexed":true,"internalType":"address","name":"newTransferContract","type":"address"}],"name":"LogTransferContractUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"address","name":"signatureVerifier","type":"address"},{"indexed":false,"internalType":"address","name":"token","type":"address"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"MintGatewayProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"chainId","type":"uint256"},{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":false,"internalType":"string","name":"name","type":"string"},{"indexed":false,"internalType":"string","name":"symbol","type":"string"},{"indexed":false,"internalType":"uint8","name":"decimals","type":"uint8"},{"indexed":false,"internalType":"string","name":"version","type":"string"}],"name":"RenAssetProxyDeployed","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"inputs":[],"name":"CAN_ADD_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"CAN_UPDATE_GATEWAYS","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"chainId_","type":"uint256"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"transferContract","type":"address"},{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"adminAddress","type":"address"},{"internalType":"address[]","name":"gatewayDeployers","type":"address[]"}],"name":"__GatewayRegistry_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"renAssetProxyBeacon_","type":"address"},{"internalType":"address","name":"mintGatewayProxyBeacon_","type":"address"},{"internalType":"address","name":"lockGatewayProxyBeacon_","type":"address"}],"name":"__RenAssetFactory_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"lockAsset","type":"address"},{"internalType":"address","name":"lockGateway","type":"address"}],"name":"addLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"renAsset","type":"address"},{"internalType":"address","name":"mintGateway","type":"address"}],"name":"addMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"lockToken","type":"address"},{"internalType":"string","name":"version","type":"string"}],"name":"deployLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"address","name":"renAsset","type":"address"},{"internalType":"string","name":"version","type":"string"}],"name":"deployMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"erc20Name","type":"string"},{"internalType":"string","name":"erc20Symbol","type":"string"},{"internalType":"uint8","name":"erc20Decimals","type":"uint8"},{"internalType":"string","name":"version","type":"string"}],"name":"deployMintGatewayAndRenAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getLockAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getLockGatewayBySymbol","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token_","type":"address"}],"name":"getLockGatewayByToken","outputs":[{"internalType":"contract ILockGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLockGatewayProxyBeacon","outputs":[{"internalType":"contract LockGatewayProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"}],"name":"getLockGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getMintGatewayBySymbol","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getMintGatewayByToken","outputs":[{"internalType":"contract IMintGateway","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMintGatewayProxyBeacon","outputs":[{"internalType":"contract MintGatewayProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"count","type":"uint256"}],"name":"getMintGatewaySymbols","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getRenAssetBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getRenAssetProxyBeacon","outputs":[{"internalType":"contract RenAssetProxyBeacon","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"getRoleMember","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleMemberCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"tokenSymbol","type":"string"}],"name":"getTokenBySymbol","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTransferContract","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"}],"name":"removeLockGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"symbol","type":"string"}],"name":"removeMintGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newTransferContract","type":"address"}],"name":"updateTransferContract","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},266:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":true,"internalType":"bytes32","name":"selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"lockNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogLockToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldPreviousGateway","type":"address"},{"indexed":true,"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"sigHash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogRelease","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__LockGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAsset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEventNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPreviousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSelectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"contract IRenVMSignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"lock","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"release","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newToken","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},267:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"asset","type":"string"},{"indexed":true,"internalType":"bytes32","name":"selectorHash","type":"bytes32"}],"name":"LogAssetUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes","name":"to","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"bytes","name":"indexedTo","type":"bytes"}],"name":"LogBurn","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"recipientAddress","type":"string"},{"indexed":false,"internalType":"string","name":"recipientChain","type":"string"},{"indexed":false,"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"burnNonce","type":"uint256"},{"indexed":true,"internalType":"string","name":"recipientAddressIndexed","type":"string"},{"indexed":true,"internalType":"string","name":"recipientChainIndexed","type":"string"}],"name":"LogBurnToChain","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":true,"internalType":"uint256","name":"sigHash","type":"uint256"},{"indexed":true,"internalType":"bytes32","name":"nHash","type":"bytes32"}],"name":"LogMint","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldPreviousGateway","type":"address"},{"indexed":true,"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"LogPreviousGatewayUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"oldSignatureVerifier","type":"address"},{"indexed":true,"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"LogSignatureVerifierUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"token","type":"address"}],"name":"LogTokenUpdated","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"tokenAddress","type":"address"},{"indexed":true,"internalType":"address","name":"nextTokenOwner","type":"address"}],"name":"TokenOwnershipTransferred","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__GatewayStateManager_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"asset_","type":"string"},{"internalType":"address","name":"signatureVerifier_","type":"address"},{"internalType":"address","name":"token_","type":"address"}],"name":"__MintGateway_init","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"address","name":"caller","type":"address"}],"name":"_burnFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"},{"internalType":"address","name":"caller","type":"address"}],"name":"_mintFromPreviousGateway","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes","name":"recipient","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipient","type":"string"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burn","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"recipientAddress","type":"string"},{"internalType":"string","name":"recipientChain","type":"string"},{"internalType":"bytes","name":"recipientPayload","type":"bytes"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"burnWithPayload","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getAsset","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getEventNonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getPreviousGateway","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSelectorHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getSignatureVerifier","outputs":[{"internalType":"contract IRenVMSignatureVerifier","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"pHash","type":"bytes32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes32","name":"nHash","type":"bytes32"},{"internalType":"bytes","name":"sig","type":"bytes"}],"name":"mint","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hash","type":"bytes32"}],"name":"status","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"token","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"nextTokenOwner","type":"address"}],"name":"transferTokenOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"nextAsset","type":"string"}],"name":"updateAsset","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newPreviousGateway","type":"address"}],"name":"updatePreviousGateway","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newSignatureVerifier","type":"address"}],"name":"updateSignatureVerifier","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newToken","type":"address"}],"name":"updateToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},268:function(t){t.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"LogTransferred","type":"event"},{"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address payable","name":"to","type":"address"}],"name":"transferWithLog","outputs":[],"stateMutability":"payable","type":"function"}]')},274:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,a=n(42),i=n(3),s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},c=/tuple\(([a-zA-Z0-9]+(,[a-zA-Z0-9]+)*)\)/,o=function(t){t.value;var e=s(t,["value"]);try{var n=e&&e.type&&c.exec(e.type);if(n&&!t.components){for(var r=n[1].split(","),a=[],i=0;i<r.length;i++)a[i]={name:String(i),type:r[i]};return Object.assign(Object.assign({},e),{components:a})}}catch(o){console.error(o)}return e},u=function(t,e){return Object(i.m)("string",{methodName:t}),(e||[]).map((function(t){var e=t.type,n=t.name;return Object(i.m)("string",{type:e,name:n})})),[{name:t,type:"function",stateMutability:"payable",inputs:Object(a.a)((e||[]).map(o).map((function(t){return Object.assign({type:t.type,name:t.name},t.components?{components:t.components}:void 0)}))),outputs:[]}]};!function(t){t.OverrideArrayLengthError="Contract call override must be same length as contract calls array."}(r||(r={}))},279:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(11),a=n(12),i=n(1),s=n.n(i),c=n(5),o=n(9),u=n(173),d=n(3),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},h="RenVM",f=function(t){Object(r.a)(n,t);var e=Object(a.a)(n);function n(t,r,a,i){return Object(c.a)(this,n),e.call(this,t,r,{t:u.b,v:{txid:Object(d.I)(a.txid),txindex:a.txindex.toFixed(),amount:a.amount.toFixed(),payload:Object(d.I)(a.payload),phash:Object(d.I)(a.phash),to:a.to,nonce:Object(d.I)(a.nonce),nhash:Object(d.I)(a.nhash),gpubkey:Object(d.I)(a.gpubkey),ghash:Object(d.I)(a.ghash)}},i)}return n}(function(){function t(e,n,r,a){var i=this;Object(c.a)(this,t),this.chain="RenVM",this.version="1",this.updateStatus=function(t){return i.status=Object.assign(Object.assign({},i.status),t),i.eventEmitter.emit("status",i.status),i.status},this.submit=function(){var t=Object(d.E)(i.eventEmitter);return p(i,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.provider.submitTx(this.tx);case 3:case 10:t.next=16;break;case 5:return t.prev=5,t.t0=t.catch(0),t.prev=7,t.next=10,this.provider.queryTx(this._hash);case 12:return t.prev=12,t.t1=t.catch(7),t.next=16,this.provider.submitTx(this.tx,2);case 16:return t.abrupt("return",this.updateStatus({status:d.a.Confirming}));case 17:case"end":return t.stop()}}),t,this,[[0,5],[7,12]])}))).then(t.resolve).catch(t.reject),t},this.wait=function(){var t=Object(d.E)(i.eventEmitter);return p(i,void 0,void 0,s.a.mark((function t(){var e,n,r,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=void 0;case 1:return t.prev=2,t.next=5,this.provider.queryTx(this._hash,1);case 5:if(!(e=t.sent)||e.txStatus!==d.l.TxStatusDone){t.next=8;break}return t.abrupt("break",18);case 8:if(e.txStatus!==n)try{n=e.txStatus,this.updateStatus({response:e,status:d.a.Done})}catch(i){}t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0 instanceof Error&&/(not found)|(not available)/.exec(String((t.t0||{}).message))||console.error(t.t0);case 14:return t.next=16,Object(d.G)(15*d.k);case 16:t.next=1;break;case 18:if(!((r=e).out&&r.out.revert&&r.out.revert.length>0)){t.next=23;break}throw a=r.out.revert,this.updateStatus({status:d.a.Reverted,revertReason:a}),new Error("RenVM transaction reverted: ".concat(a));case 23:if(this.signatureCallback)try{this.signatureCallback(e)}catch(i){}return t.abrupt("return",this.updateStatus({response:e,status:d.a.Done}));case 25:case"end":return t.stop()}}),t,this,[[2,11]])}))).then(t.resolve).catch(t.reject),t},this.provider=e,this.selector=n,this.params=r,this.eventEmitter=Object(d.n)(),this.signatureCallback=a,this._hash=Object(d.I)(Object(d.w)(this.version,this.selector,this.params)),this.status={chain:h,status:d.a.Ready,target:1,transaction:{chain:h,txid:this._hash,txidFormatted:this._hash,txindex:"0"}}}return Object(o.a)(t,[{key:"tx",get:function(){return{hash:this._hash,selector:this.selector,version:this.version,in:this.params}}}]),t}())},290:function(t,e,n){},299:function(t,e){},3:function(t,e,n){"use strict";n.d(e,"m",(function(){return i.b})),n.d(e,"k",(function(){return s.b})),n.d(e,"G",(function(){return s.f})),n.d(e,"J",(function(){return s.h})),n.d(e,"y",(function(){return s.d})),n.d(e,"H",(function(){return s.g})),n.d(e,"g",(function(){return c.a})),n.d(e,"r",(function(){return c.c})),n.d(e,"q",(function(){return c.b})),n.d(e,"I",(function(){return c.e})),n.d(e,"B",(function(){return c.d})),n.d(e,"i",(function(){return o.b})),n.d(e,"c",(function(){return o.a})),n.d(e,"A",(function(){return o.d})),n.d(e,"L",(function(){return o.e})),n.d(e,"o",(function(){return o.c})),n.d(e,"p",(function(){return u.a})),n.d(e,"d",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"z",(function(){return p})),n.d(e,"x",(function(){return h})),n.d(e,"n",(function(){return y})),n.d(e,"e",(function(){return d})),n.d(e,"F",(function(){return g})),n.d(e,"j",(function(){return m})),n.d(e,"l",(function(){return O})),n.d(e,"D",(function(){return _})),n.d(e,"h",(function(){return A.a})),n.d(e,"K",(function(){return A.d})),n.d(e,"E",(function(){return D})),n.d(e,"C",(function(){return I.f})),n.d(e,"u",(function(){return I.c})),n.d(e,"v",(function(){return I.d})),n.d(e,"s",(function(){return I.a})),n.d(e,"t",(function(){return I.b})),n.d(e,"w",(function(){return I.e})),n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return U}));var r,a,i=n(40),s=n(48),c=n(95),o=n(129),u=n(210);!function(t){t.Lock="lock",t.Burn="burn"}(r||(r={})),function(t){t.Mint="mint",t.Release="release"}(a||(a={}));var d,p=function(t){return void 0!==t.createGatewayAddress},h=function(t){return void 0!==t.getInputTx&&void 0!==t.getOutputTx},f=n(5),l=n(84),b=function t(){Object(f.a)(this,t)},y=function(){return new l.EventEmitter};!function(t){t[t.Trace=0]="Trace",t[t.Debug=1]="Debug",t[t.Log=1]="Log",t[t.Info=2]="Info",t[t.Warn=3]="Warn",t[t.Error=4]="Error",t[t.Silent=5]="Silent"}(d||(d={}));var m,v=function(){},g={trace:v,debug:v,info:v,warn:v,error:v};!function(t){t.Mainnet="mainnet",t.Testnet="testnet",t.Devnet="devnet"}(m||(m={}));var x,O,w=n(16);!function(t){t.TxStatusNil="nil",t.TxStatusConfirming="confirming",t.TxStatusPending="pending",t.TxStatusExecuting="executing",t.TxStatusReverted="reverted",t.TxStatusDone="done"}(O||(O={}));x={},Object(w.a)(x,O.TxStatusNil,0),Object(w.a)(x,O.TxStatusConfirming,1),Object(w.a)(x,O.TxStatusPending,2),Object(w.a)(x,O.TxStatusExecuting,3),Object(w.a)(x,O.TxStatusReverted,4),Object(w.a)(x,O.TxStatusDone,5);var j=n(1),T=n.n(j),E=n(151),k=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expiry:5*s.a,entryLimit:100},n=e.expiry,r=void 0===n?5*s.a:n,a=e.entryLimit,i=void 0===a?100:a,c=Object(E.b)({timestamp:0,paramKey:null,result:null}),o=Object(E.a)();return function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return k(void 0,void 0,void 0,T.a.mark((function e(){var a,s,u,d;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=JSON.stringify(n),s=o.get(a),u=Date.now()/1e3,!s||!(!1===r||u-s.get("timestamp")<r)||s.get("paramKey")!==a){e.next=7;break}return e.abrupt("return",s.get("result"));case 7:return e.next=9,t.apply(void 0,n);case 9:return d=e.sent,(o=o.set(a,c({timestamp:Date.now()/1e3,paramKey:a,result:d}))).size>i&&(o=o.slice(-i)),e.abrupt("return",d);case 13:case"end":return e.stop()}}),e)})))}},A=(n(131),n(36)),P=n(9),S=n(174),R=n(15),M=n(11),C=n(12),N=function(t){Object(M.a)(n,t);var e=Object(C.a)(n);function n(t){var r;return Object(f.a)(this,n),(r=e.call(this)).promise=new Promise((function(t,e){r.resolve=t,r.reject=e})),r._cancelled=!1,r.eventEmitter=t||new l.EventEmitter,Object(S.a)(r,new Proxy(Object(R.a)(r),{get:r.proxyHandler}))}return Object(P.a)(n,[{key:"proxyHandler",value:function(t,e){var n=this;return"resolve"===e||"reject"===e?t[e]:"then"===e?t.promise.then.bind(t.promise):"catch"===e?t.promise.catch.bind(t.promise):"_cancel"===e?function(){n._cancelled=!0}:"_isCancelled"===e?function(){return!0===n._cancelled}:"_resume"===e?function(){n._cancelled=!1}:t.eventEmitter[e]?t.eventEmitter[e]:void 0}}]),n}(b);Symbol.toStringTag;var B,D=function(t){return new N(t)},I=n(211),H=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.Ready="ready",t.Confirming="confirming",t.Done="done",t.Reverted="reverted"}(B||(B={}));var U=function(){function t(e){var n=this,r=e.chainTransaction,a=e.chain,i=e.target;Object(f.a)(this,t),this.updateStatus=function(t){n.status=Object.assign(Object.assign({},n.status),t),n.eventEmitter.emit("status",n.status)},this._chainTransaction=r,this._chain=a,this._target=i,this.chain=a.chain,this.eventEmitter=y(),this.status=Object.assign({chain:a.chain,status:B.Confirming,target:i},r?{transaction:r}:{})}return Object(P.a)(t,[{key:"setTransaction",value:function(t){this._chainTransaction=t,this.updateStatus({transaction:t})}},{key:"wait",value:function(t){var e=this,n=D(this.eventEmitter);return H(e,void 0,void 0,T.a.mark((function e(){var n,r,a,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._chainTransaction){e.next=3;break}throw new Error('Must call ".submit" first.');case 3:t=Object(s.d)(t)?t:this._target,r=-1;case 5:return e.next=8,this._chain.transactionConfidence(n);case 8:if(a=e.sent.toNumber(),!((i=0===t?1:a/t)>r)){e.next=18;break}if(!(i>=1)){e.next=16;break}return this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a,status:B.Done})),e.abrupt("break",22);case 16:r=i,this.updateStatus(Object.assign(Object.assign({},this.status),{confirmations:a}));case 18:return e.next=20,Object(s.f)(15*s.b);case 20:e.next=5;break;case 22:return e.abrupt("return",this.status);case 23:case"end":return e.stop()}}),e,this)}))).then(n.resolve).catch(n.reject),n}}]),t}()},302:function(t,e){},304:function(t,e){},319:function(t,e){},321:function(t,e){},36:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return f}));var r,a=n(50),i=n(18),s=n.n(i),c=n(95);!function(t){t.Bool="bool",t.U8="u8",t.U16="u16",t.U32="u32",t.U64="u64",t.U128="u128",t.U256="u256",t.Str="string",t.Bytes="bytes",t.Bytes32="bytes32",t.Bytes65="bytes65"}(r||(r={}));var o=function(t){return"object"===typeof t&&null!==t&&1===Object.keys(t).length&&void 0!==t.struct&&Array.isArray(t.struct)},u=function(t){return"object"===typeof t&&void 0!==t.list},d=function(t,e){var n,r={},i=Object(a.a)(t.struct);try{for(i.s();!(n=i.n()).done;){var s=n.value,c=Object.keys(s);if(0===c.length)throw new Error("Invalid struct member with no entries.");if(c.length>1)throw new Error("Invalid struct member with multiple entries.");var o=Object.keys(s)[0],u=s[o];if(e&&!e.hasOwnProperty(o))throw new Error("Missing pack value for key ".concat(o,"."));r[o]=h(u,e[o])}}catch(d){i.e(d)}finally{i.f()}return r},p=function(t,e){return e.map((function(e){return h(t.list,e)}))},h=function(t,e){if(u(t))return p(t,e);if(o(t))return d(t,e);if("string"===typeof t)return"nil"===t?null:function(t,e){switch(t){case r.Bool:return e;case r.U8:case r.U16:case r.U32:case r.U64:case r.U128:case r.U256:return new s.a(e);case r.Str:return e;case r.Bytes:case r.Bytes32:case r.Bytes65:return Object(c.b)(e)}}(t,e);var n;try{n=JSON.stringify(e)}catch(a){n=String(e)}throw n.length>20&&(n="".concat(n.slice(0,17),"...")),new Error("Unknown value type ".concat(String(t)).concat(t?"":" for value ".concat(n),"."))},f=function(t){var e=t.t,n=t.v;return h(e,n)}},37:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return x})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return E}));var r,a=n(42),i=n(50),s=n(1),c=n.n(s),o=n(18),u=n.n(o),d=n(81),p=n(3),h=n(51),f=n(274),l=n(113),b=n(52),y=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.EVM_TRANSACTION_TYPE="__EVM_TRANSACTION_TYPE__",t.EVM_TOKEN_ADDRESS="__EVM_TOKEN_ADDRESS__",t.EVM_TOKEN_DECIMALS="__EVM_TOKEN_DECIMALS__",t.EVM_GATEWAY_IS_DEPOSIT_ASSET="__EVM_GATEWAY_IS_DEPOSIT_ASSET__",t.EVM_GATEWAY_DEPOSIT_ADDRESS="__EVM_GATEWAY_DEPOSIT_ADDRESS__",t.EVM_TRANSFER_WITH_LOG_CONTRACT="__EVM_TRANSFER_WITH_LOG_CONTRACT__",t.EVM_ACCOUNT="__EVM_ACCOUNT__",t.EVM_ACCOUNT_IS_CONTRACT="__EVM_ACCOUNT_IS_CONTRACT__",t.EVM_GATEWAY="__EVM_GATEWAY__",t.EVM_ASSET="__EVM_ASSET__",t.EVM_AMOUNT="__EVM_AMOUNT__",t.EVM_NHASH="__EVM_NHASH__",t.EVM_PHASH="__EVM_PHASH__",t.EVM_SIGNATURE="__EVM_SIGNATURE__",t.EVM_SIGNATURE_R="__EVM_SIGNATURE_R__",t.EVM_SIGNATURE_S="__EVM_SIGNATURE_S__",t.EVM_SIGNATURE_V="__EVM_SIGNATURE_V__",t.EVM_TO_CHAIN="__EVM_TO_CHAIN__",t.EVM_TO_ADDRESS="__EVM_TO_ADDRESS__",t.EVM_TO_ADDRESS_BYTES="__EVM_TO_ADDRESS_BYTES__",t.EVM_TO_PAYLOAD="__EVM_TO_PAYLOAD__"}(r||(r={}));var m=function(t){return Object.values(r).indexOf(t)>=0},v=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("function"!==typeof(r=m(t)?e[t]:t)){n.next=5;break}return n.next=4,r();case 4:r=n.sent;case 5:return n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))},g=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.to,e);case 6:return n.t4=n.sent,n.next=9,Promise.all(t.params.params.map((function(t){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.next=4,v(t.value,e);case 4:return n.t2=n.sent,n.t3={value:n.t2},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t3));case 7:case"end":return n.stop()}}),n)})))})));case 9:return n.t5=n.sent,n.t6={to:n.t4,params:n.t5},n.t7=n.t2.assign.call(n.t2,n.t3,n.t6),n.t8={params:n.t7},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t8));case 14:case"end":return n.stop()}}),n)})))},x={getSetup:function(t,e,n,r,a){return n.setup||{}},getPayload:function(t,e,n,r){return y(void 0,void 0,void 0,c.a.mark((function e(){var a,s,o,u,d,h,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n,r);case 3:n=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),Object(p.L)(new Error("Error getting contract-call payload: ".concat(String(e.t0.message))),p.i.PARAMETER_ERROR);case 9:a=n.params.params.filter((function(t){return!t.notInPayload})),s=Object(i.a)(a),e.prev=11,s.s();case 13:if((o=s.n()).done){e.next=19;break}if(void 0!==(u=o.value).value){e.next=17;break}throw Object(p.L)(new Error("Parameter '".concat(u.name,"' is undefined.")),p.i.PARAMETER_ERROR);case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(11),s.e(e.t1);case 24:return e.prev=24,s.f(),e.finish(24);case 27:d=a.map((function(t){return t.type})),h=a.map((function(t){return t.value})),e.prev=29,f=Object(b.g)(d,h),e.next=36;break;case 33:throw e.prev=33,e.t2=e.catch(29),Object(p.L)(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(e.t2.message))),p.i.PARAMETER_ERROR);case 36:return e.abrupt("return",{to:n.params.to,toBytes:Object(p.r)(n.params.to),payload:f});case 37:case"end":return e.stop()}}),e,null,[[0,6],[11,21,24,27],[29,33]])})))},submit:function(t,e,n,r,s){return y(void 0,void 0,void 0,c.a.mark((function o(){var u,h,y,m,v,x,O,w;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,g(n,r);case 3:n=c.sent,c.next=9;break;case 6:throw c.prev=6,c.t0=c.catch(0),Object(p.L)(new Error("Error resolving parameters for contract-call : ".concat(String(c.t0.message))),p.i.PARAMETER_ERROR);case 9:u=n.params.params.map((function(t){return s.params&&Object(p.y)(s.params[t.name])?Object.assign(Object.assign({},t),{value:s.params[t.name]}):t})),h=u.map((function(t){return t.type})),y=u.map((function(t){return t.value})),m=Object(i.a)(u),c.prev=13,m.s();case 15:if((v=m.n()).done){c.next=21;break}if(void 0!==(x=v.value).value){c.next=19;break}throw Object(p.L)(new Error("Parameter '".concat(x.name,"' is undefined.")),p.i.PARAMETER_ERROR);case 19:c.next=15;break;case 21:c.next=26;break;case 23:c.prev=23,c.t1=c.catch(13),m.e(c.t1);case 26:return c.prev=26,m.f(),c.finish(26);case 29:c.prev=29,Object(b.g)(h,y),c.next=36;break;case 33:throw c.prev=33,c.t2=c.catch(29),Object(p.L)(new Error("Error encoding ".concat(t.selector," parameters: ").concat(String(c.t2.message))),p.i.PARAMETER_ERROR);case 36:if((O=Object(f.a)(n.params.method,u)[0]).name){c.next=39;break}throw new Error("ABI must include method name.");case 39:return w=new d.a(n.params.to.toLowerCase(),[O],e),c.next=42,w[O.name].apply(w,Object(a.a)(y).concat([Object(l.b)(n.params.txConfig,s.txConfig)]));case 42:return c.abrupt("return",c.sent);case 43:case"end":return c.stop()}}),o,null,[[0,6],[13,23,26,29],[29,33]])})))}},O=function(t,e,n){return y(void 0,void 0,void 0,c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(p.y)(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:i=a.t0,a.t4=n[r.EVM_TRANSACTION_TYPE],a.next=a.t4===p.d.Lock?18:a.t4===p.d.Burn?23:a.t4===p.f.Mint?26:a.t4===p.f.Release?27:30;break;case 18:if(i){a.next=20;break}throw Object(p.L)(new Error("Must provide amount to .Account()"),p.i.PARAMETER_ERROR);case 20:if(!n[r.EVM_GATEWAY_IS_DEPOSIT_ASSET]){a.next=22;break}return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_TRANSFER_WITH_LOG_CONTRACT,method:"transferWithLog",params:[{type:"address",name:"to",value:r.EVM_GATEWAY_DEPOSIT_ADDRESS}],txConfig:{value:i}}});case 22:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"lock",params:[{type:"string",name:"recipientAddress",value:r.EVM_TO_ADDRESS},{type:"string",name:"recipientChain",value:r.EVM_TO_CHAIN},{type:"bytes",name:"recipientPayload",value:r.EVM_TO_PAYLOAD},{type:"uint256",name:"amount",value:i}]},setup:{approval:{chain:t.selector,type:"approval",params:{token:r.EVM_TOKEN_ADDRESS,spender:r.EVM_GATEWAY,amount:i}}}});case 23:if(i){a.next=25;break}throw Object(p.L)(new Error("Must provide amount to .Account()"),p.i.PARAMETER_ERROR);case 25:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"burn",params:[{type:"bytes",name:"to",value:r.EVM_TO_ADDRESS_BYTES},{type:"uint256",name:"amount",value:i}]}});case 26:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"mint",params:[{type:"bytes32",name:"pHash",value:r.EVM_PHASH,notInPayload:!0},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 27:if(!n[r.EVM_GATEWAY_IS_DEPOSIT_ASSET]){a.next=29;break}return a.abrupt("return",void 0);case 29:return a.abrupt("return",{chain:t.selector,type:"contract",params:{to:r.EVM_GATEWAY,method:"release",params:[{type:"bytes32",name:"pHash",value:r.EVM_PHASH,notInPayload:!0},{type:"uint256",name:"amount",value:r.EVM_AMOUNT,notInPayload:!0},{type:"bytes32",name:"nHash",value:r.EVM_NHASH,notInPayload:!0},{type:"bytes",name:"calldata sig",value:r.EVM_SIGNATURE,notInPayload:!0}]}});case 30:throw new Error("Unable to use .Account() for set-up call.");case 31:case"end":return a.stop()}}),a)})))},w={getSetup:function(t,e,n,r,a){return y(void 0,void 0,void 0,c.a.mark((function i(){var s;return c.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(x.getSetup){i.next=2;break}throw new Error("Missing contract payload handler.");case 2:return i.next=4,O(t,n,r);case 4:if(s=i.sent){i.next=7;break}return i.abrupt("return",{});case 7:return i.next=9,x.getSetup(t,e,s,r,a);case 9:return i.abrupt("return",i.sent);case 10:case"end":return i.stop()}}),i)})))},getPayload:function(e,n,a,i,s){return y(void 0,void 0,void 0,c.a.mark((function o(){var u,d,h,f;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(x.getPayload){c.next=2;break}throw new Error("Missing contract payload handler.");case 2:return c.next=4,O(e,a,i);case 4:if(u=c.sent){c.next=10;break}return c.next=8,v(a.params.address,i);case 8:return d=c.sent,c.abrupt("return",{to:d,toBytes:Object(p.r)(d),payload:t.from([])});case 10:return c.next=12,x.getPayload(e,n,u,i,s);case 12:return h=c.sent,c.t0=h.to.toLowerCase(),c.next=16,i[r.EVM_GATEWAY]();case 16:if(c.t1=c.sent.toLowerCase(),c.t0!==c.t1){c.next=22;break}return c.next=20,v(a.params.address,i);case 20:f=c.sent,h=Object.assign(Object.assign({},h),{to:f,toBytes:Object(p.r)(f)});case 22:return c.abrupt("return",h);case 23:case"end":return c.stop()}}),o)})))},submit:function(t,e,n,r,a,i){return y(void 0,void 0,void 0,c.a.mark((function s(){var o;return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,O(t,n,r);case 2:if(o=s.sent){s.next=5;break}throw new Error("Unable to submit empty payload for release to ".concat(n.params.address,"."));case 5:return s.abrupt("return",x.submit(t,e,o,r,a,i));case 6:case"end":return s.stop()}}),s)})))}},j=function(t,e){return y(void 0,void 0,void 0,c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Object,n.t1=Object.assign({},t),n.t2=Object,n.t3=Object.assign({},t.params),n.next=6,v(t.params.token,e);case 6:return n.t4=n.sent,n.next=9,v(t.params.spender,e);case 9:return n.t5=n.sent,n.next=12,v(t.params.amount,e);case 12:return n.t6=n.sent,n.t7={token:n.t4,spender:n.t5,amount:n.t6},n.t8=n.t2.assign.call(n.t2,n.t3,n.t7),n.t9={params:n.t8},n.abrupt("return",n.t0.assign.call(n.t0,n.t1,n.t9));case 17:case"end":return n.stop()}}),n)})))},T=function(t,e,n){return y(void 0,void 0,void 0,c.a.mark((function a(){var i;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!Object(p.y)(e.params.amount)){a.next=13;break}if(a.t1=new u.a(e.params.amount),!e.params.convertToWei){a.next=8;break}return a.next=5,n[r.EVM_TOKEN_DECIMALS]();case 5:a.t2=a.sent,a.next=9;break;case 8:a.t2=0;case 9:a.t3=a.t2,a.t0=a.t1.shiftedBy.call(a.t1,a.t3).toFixed(),a.next=14;break;case 13:a.t0=void 0;case 14:return i=a.t0,a.abrupt("return",{chain:t.selector,type:"contract",params:{to:e.params.token,method:"approve",params:[{type:"address",name:"to",value:e.params.spender},{type:"uint256",name:"amount",value:i}]}});case 16:case"end":return a.stop()}}),a)})))},E={getSetup:function(t,e,n,r,a){return n.setup||{}},required:function(t,e,n,r){return y(void 0,void 0,void 0,c.a.mark((function t(){var a,i,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(n,r);case 2:return n=t.sent,a=n.params.token,i=Object(h.e)(e,a),t.next=7,e.getAddress();case 7:return s=t.sent,t.t0=u.a,t.next=11,i.allowance(s,n.params.spender);case 11:return t.t1=t.sent.toString(),o=new t.t0(t.t1),t.abrupt("return",o.lt(new u.a(n.params.amount)));case 14:case"end":return t.stop()}}),t)})))},submit:function(t,e,n,r,a,i){return y(void 0,void 0,void 0,c.a.mark((function s(){return c.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,j(n,r);case 2:return n=s.sent,s.t0=x,s.t1=t,s.t2=e,s.next=8,T(t,n,r);case 8:return s.t3=s.sent,s.t4=r,s.t5=a,s.t6=i,s.abrupt("return",s.t0.submit.call(s.t0,s.t1,s.t2,s.t3,s.t4,s.t5,s.t6));case 13:case"end":return s.stop()}}),s)})))}}}).call(this,n(32).Buffer)},377:function(t,e){},378:function(t,e){},38:function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return l}));var r=n(132),a=n.n(r),i=n(261),s=n(198),c=n.n(s),o=n(124),u=function(t,e,n){if("DGB"===e){var r={name:"digibyte",symbol:"dgb",addressTypes:{prod:["1e","3f"],testnet:["7e","8c"]},validator:c.a,segwitHrp:"prod"===n?"dgb":"dgbt"};return r.validator.isValidAddress(t,r,n)}return Object(i.validate)(t,e,n)},d=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},p=function(t,e){return{url:"https://sochain.com/".concat(t),address:function(t){return"https://sochain.com/address/".concat(e,"/").concat(t)},transaction:function(t){return"https://sochain.com/tx/".concat(e,"/").concat(t)}}},h=function(t,e){var n;if(!(n=e&&Object(o.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or a BitcoinNetworkConfig object."));return n},f=function(t){return a()("sha256").update(t).digest()},l=function(t){return e=f(t),a()("rmd160").update(e).digest();var e}},396:function(t,e){},40:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return o}));var r=n(16),a=n(24),i=n(18),s=n.n(i),c=function(t,e){if(!t)throw new Error("Failed assertion".concat(e?": ".concat(e):""));return!0},o=function(t,e){return f(t)?b(t,e):h(t)?l(t,e):d(p(t),e,t)},u=function(e){return null===e?"null":s.a.isBigNumber(e)?"BigNumber":t.isBuffer(e)?"Buffer":typeof e},d=function(t,e,n){for(var r=0,a=Object.keys(e);r<a.length;r++){var i=a[r],s=e[i];if(!t(s,i)){var c=Array.isArray(s)?"any[]":u(s);throw new Error("Expected '".concat(i,"' to be of type '").concat(n,"', instead got '").concat(c,"'."))}}return!0},p=function(t){return function(e){return"any"===t||u(e)===t}},h=function(t){var e=t.split(" | ");return e.length>1&&e},f=function(t){if("Array<"===t.slice(0,6)&&">"===t.slice(-1)){var e=/^Array<(.*)>$/.exec(t);if(e)return Object(a.a)(e,2)[1]}if(-1===t.indexOf(" ")&&"[]"===t.slice(-2)){var n=/^([^ ]*)\[\]$/.exec(t);if(n)return Object(a.a)(n,2)[1]}return!1},l=function(t,e){var n=t.split(" | ");return d((function(t,e){return n.reduce((function(n,a){if(n)return n;if(f(a))try{return b(a,Object(r.a)({},e,t)),!0}catch(i){return!1}return p(a)(t)}),!1)}),e,t)},b=function(t,e){var n=f(t);if(!n)throw new Error("Invalid array type ".concat(t));for(var a=0,i=Object.keys(e);a<i.length;a++){var s=i[a],c=e[s];d((function(t){return Array.isArray(t)}),{value:c},"any[]");for(var u=0;u<c.length;u++)o(n,Object(r.a)({},"".concat(s,"[").concat(u,"]"),c[u]))}return!0}}).call(this,n(32).Buffer)},404:function(t,e,n){"use strict";n.r(e);n(290);var r=n(0),a=n.n(r),i=n(257),s=n.n(i),c=n(13);var o,u,d=function(){return Object(c.jsx)("div",{})},p=n(1),h=n.n(p),f=n(65),l=n(24),b=n(258),y=n.n(b),m=n(16),v=n(50),g=n(98),x=(n(77),n(226)),O=(n(235),n(236),n(240),n(124),n(241),n(60)),w=(n(160),n(58)),j=n(5),T=n(11),E=n(12),k=n(3),_=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);_.chain="Arbitrum",_.configMap=(o={},Object(m.a)(o,k.j.Testnet,{selector:"Arbitrum",asset:"arbETH",isTestnet:!0,network:{chainId:"0x66eeb",chainName:"Arbitrum Testnet Rinkeby",nativeCurrency:{name:"Arbitrum Rinkeby Ether",symbol:"ARETH",decimals:18},rpcUrls:["https://rinkeby.arbitrum.io/rpc","wss://rinkeby.arbitrum.io/ws"],blockExplorerUrls:["https://testnet.arbiscan.io/","https://rinkeby-explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(m.a)(o,k.j.Mainnet,{selector:"Arbitrum",asset:"arbETH",network:{chainId:"0xa4b1",chainName:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"AETH",decimals:18},rpcUrls:["https://arb1.arbitrum.io/rpc","https://arbitrum-mainnet.infura.io/v3/${INFURA_API_KEY}","https://arb-mainnet.g.alchemy.com/v2/${ALCHEMY_API_KEY}","wss://arb1.arbitrum.io/ws"],blockExplorerUrls:["https://arbiscan.io","https://explorer.arbitrum.io"]},logRequestLimit:2e4,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicBridge:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),o),_.assets={arbETH:"arbETH"};var A,P=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);P.chain="Avalanche",P.configMap=(u={},Object(m.a)(u,k.j.Testnet,{selector:"Avalanche",asset:"AVAX",isTestnet:!0,network:{chainId:"0xa869",chainName:"Avalanche Fuji Testnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],blockExplorerUrls:["https://testnet.snowtrace.io/"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(m.a)(u,k.j.Mainnet,{selector:"Avalanche",asset:"AVAX",network:{chainId:"0xa86a",chainName:"Avalanche Mainnet",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],blockExplorerUrls:["https://snowtrace.io/"]},addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicBridge:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),u),P.assets={AVAX:"AVAX"};var S={selector:"Fantom",asset:"FTM",network:{chainId:"0xfa2",chainName:"Fantom Testnet",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.testnet.fantom.network"],blockExplorerUrls:["https://testnet.ftmscan.com/"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},R=(Object.assign(Object.assign({},S),{addresses:{GatewayRegistry:"0xD881213F5ABF783d93220e6bD3Cc21706A8dc1fC",BasicBridge:"0xD087b0540e172553c12DEEeCDEf3dFD21Ec02066"}}),function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a));R.chain="Fantom",R.configMap=(A={},Object(m.a)(A,k.j.Testnet,S),Object(m.a)(A,k.j.Mainnet,{selector:"Fantom",asset:"FTM",network:{chainId:"0xfa",chainName:"Fantom Opera",nativeCurrency:{name:"Fantom",symbol:"FTM",decimals:18},rpcUrls:["https://rpc.ftm.tools"],blockExplorerUrls:["https://ftmscan.com"]},addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicBridge:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),A),R.assets={FTM:"FTM"};var M,C=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);C.chain="Goerli",C.configMap=Object(m.a)({},k.j.Testnet,{selector:"Goerli",asset:"gETH",network:{chainId:"0x5",chainName:"Ethereum Testnet G\xf6rli",nativeCurrency:{name:"G\xf6rli Ether",symbol:"GOR",decimals:18},rpcUrls:["https://rpc.goerli.mudit.blog/","https://rpc.slock.it/goerli ","https://goerli.prylabs.net/"],blockExplorerUrls:["https://goerli.infura.io"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),C.assets={gETH:"gETH"};var N,B=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);B.chain="Polygon",B.configMap=(M={},Object(m.a)(M,k.j.Testnet,{selector:"Polygon",asset:"MATIC",isTestnet:!0,network:{chainId:"0x13881",chainName:"Matic(Polygon) Testnet Mumbai",nativeCurrency:{name:"Matic",symbol:"tMATIC",decimals:18},rpcUrls:["https://rpc-mumbai.maticvigil.com","https://rpc-mumbai.matic.today","wss://ws-mumbai.matic.today"],blockExplorerUrls:["https://mumbai.polygonscan.com/"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}}),Object(m.a)(M,k.j.Mainnet,{selector:"Polygon",asset:"MATIC",network:{chainId:"0x89",chainName:"Matic(Polygon) Mainnet",nativeCurrency:{name:"Matic",symbol:"MATIC",decimals:18},rpcUrls:["https://rpc-mainnet.maticvigil.com","https://rpc-mainnet.matic.network","wss://ws-mainnet.matic.network","https://rpc-mainnet.matic.quiknode.pro","https://matic-mainnet.chainstacklabs.com"],blockExplorerUrls:["https://polygonscan.com"]},logRequestLimit:1e3,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicBridge:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),M),B.assets={MATIC:"MATIC"};var D,I={selector:"BinanceSmartChain",asset:"BNB",isTestnet:!0,network:{chainId:"0x61",chainName:"Binance Smart Chain Testnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"tBNB",decimals:18},rpcUrls:["https://data-seed-prebsc-1-s1.binance.org:8545","https://data-seed-prebsc-2-s1.binance.org:8545","https://data-seed-prebsc-1-s2.binance.org:8545","https://data-seed-prebsc-2-s2.binance.org:8545","https://data-seed-prebsc-1-s3.binance.org:8545","https://data-seed-prebsc-2-s3.binance.org:8545"],blockExplorerUrls:["https://testnet.bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},H=Object.assign(Object.assign({},I),{addresses:{GatewayRegistry:"0x87e83f957a2F3A2E5Fe16d5C6B22e38FD28bdc06",BasicBridge:"0x105435a9b0f375B179e5e43A16228C04F01Fb2ee"}}),U=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);U.chain="BinanceSmartChain",U.configMap=(N={},Object(m.a)(N,k.j.Mainnet,{selector:"BinanceSmartChain",asset:"BNB",network:{chainId:"0x38",chainName:"Binance Smart Chain Mainnet",nativeCurrency:{name:"Binance Chain Native Token",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed1.binance.org","https://bsc-dataseed2.binance.org","https://bsc-dataseed3.binance.org","https://bsc-dataseed4.binance.org","https://bsc-dataseed1.defibit.io","https://bsc-dataseed2.defibit.io","https://bsc-dataseed3.defibit.io","https://bsc-dataseed4.defibit.io","https://bsc-dataseed1.ninicoin.io","https://bsc-dataseed2.ninicoin.io","https://bsc-dataseed3.ninicoin.io","https://bsc-dataseed4.ninicoin.io","wss://bsc-ws-node.nariox.org"],blockExplorerUrls:["https://bscscan.com"]},logRequestLimit:5e3,addresses:{GatewayRegistry:"0x21C482f153D0317fe85C60bE1F7fa079019fcEbD",BasicBridge:"0xAC23817f7E9Ec7EB6B7889BDd2b50e04a44470c5"}}),Object(m.a)(N,k.j.Testnet,I),Object(m.a)(N,k.j.Devnet,H),N),U.assets={BNB:"BNB"};var L={selector:"Ethereum",asset:"ETH",isTestnet:!0,network:{chainId:"0x2a",chainName:"Ethereum Testnet Kovan",nativeCurrency:{name:"Kovan Ether",symbol:"KOV",decimals:18},rpcUrls:["https://kovan.poa.network","http://kovan.poa.network:8545","https://kovan.infura.io/v3/${INFURA_API_KEY}","wss://kovan.infura.io/ws/v3/${INFURA_API_KEY}","ws://kovan.poa.network:8546"],blockExplorerUrls:["https://kovan.etherscan.io"]},addresses:{GatewayRegistry:"0x5076a1F237531fa4dC8ad99bb68024aB6e1Ff701",BasicBridge:"0xcb6bD6B6c7D7415C0157e393Bb2B6Def7555d518"}},F=Object.assign(Object.assign({},L),{addresses:{GatewayRegistry:"0x5045E727D9D9AcDe1F6DCae52B078EC30dC95455",BasicBridge:"0xFABDB1F53Ef8B080332621cBc9F820a39e7A1B83"}}),V=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(j.a)(this,n),(a=e.call(this,Object(w.b)(n.configMap,t),r,i)).configMap=n.configMap,a.assets=n.assets,a}return n}(O.a);V.chain="Ethereum",V.configMap=(D={},Object(m.a)(D,k.j.Mainnet,{selector:"Ethereum",asset:"ETH",network:{chainId:"0x1",chainName:"Ethereum Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://cloudflare-eth.com","https://mainnet.infura.io/v3/${INFURA_API_KEY}","wss://mainnet.infura.io/ws/v3/${INFURA_API_KEY}","https://api.mycryptoapi.com/eth"],blockExplorerUrls:["https://etherscan.io"]},addresses:{GatewayRegistry:"0xe80d347DF1209a76DD9d2319d62912ba98C54DDD",BasicBridge:"0x32666B64e9fD0F44916E1378Efb2CFa3B3B96e80"}}),Object(m.a)(D,k.j.Testnet,L),Object(m.a)(D,k.j.Devnet,F),D),V.assets={ETH:"ETH",DAI:"DAI",REN:"REN",USDC:"USDC",USDT:"USDT",EURT:"EURT",BUSD:"BUSD",MIM:"MIM",CRV:"CRV",LINK:"LINK",UNI:"UNI",SUSHI:"SUSHI",FTT:"FTT",ROOK:"ROOK",BADGER:"BADGER",KNC:"KNC"};var G=k.j.Testnet,K=function(t,e){var n=t.configMap[e];if(!n)throw new Error("No configuration for ".concat(t.name," on ").concat(e,"."));var r,a=n.network.rpcUrls[0],i=Object(v.a)(n.network.rpcUrls);try{for(i.s();!(r=i.n()).done;){var s=r.value;if(s.match(/^https:\/\/.*\$\{INFURA_API_KEY\}/)){a=s.replace(/\$\{INFURA_API_KEY\}/,"fa7d507418f54bbfb78a054eabb01f48");break}}}catch(c){i.e(c)}finally{i.f()}return{chain:new t(e,{provider:new g.providers.JsonRpcProvider(a)}),connectionRequired:!0,accounts:[]}},q=function(){var t=Object(f.a)(h.a.mark((function t(e,n,r){var a,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.from&&n.to){t.next=2;break}throw new Error("Missing gateway field.");case 2:a=n.from.asset,t.t0=n.from.chain,t.next=t.t0===V.chain||t.t0===U.chain||t.t0===B.chain||t.t0===P.chain||t.t0===R.chain?6:t.t0===x.a.chain?8:10;break;case 6:return i=r[n.from.chain].chain.Account({amount:n.amount,convertToWei:!0}),t.abrupt("break",11);case 8:return i=r[n.from.chain].chain.GatewayAddress(),t.abrupt("break",11);case 10:throw new Error("Unknown chain ".concat(n.from.chain));case 11:t.t1=n.to.chain,t.next=t.t1===V.chain||t.t1===U.chain||t.t1===B.chain||t.t1===P.chain||t.t1===R.chain?14:t.t1===x.a.chain?16:20;break;case 14:return s=r[n.to.chain].chain.Account(),t.abrupt("break",21);case 16:if(n.toAddress){t.next=18;break}throw new Error("No recipient address provided.");case 18:return s=r[n.to.chain].chain.Address(n.toAddress),t.abrupt("break",21);case 20:throw new Error("Unknown chain ".concat(n.to.chain));case 21:return t.next=23,e.gateway({asset:a,from:i,to:s});case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),W=n(42),Y=n(114),X=n(280),Q=n(173),z=n(67),J=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},Z=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=function(t){return J(void 0,void 0,void 0,h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchStatus();case 2:if(t.status===z.b.Submitted){n.next=18;break}n.t0=t.status,n.next=n.t0===z.b.Detected?6:n.t0===z.b.Confirmed?9:n.t0===z.b.Signed?12:n.t0===z.b.Reverted?15:16;break;case 6:return n.next=8,Object(k.J)((function(){return J(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._config.logger.debug("Calling .confirmed"),t.in.eventEmitter.on("status",(function(e){Object(k.y)(e.confirmations)?t._config.logger.debug("".concat(e.confirmations,"/").concat(e.target," confirmations")):t._config.logger.debug("Waiting for ".concat(e.target," confirmations..."))})),e.next=4,t.in.wait();case 4:case"end":return e.stop()}}),e)})))}),e,10*k.k,t._config.logger);case 8:case 11:case 14:return n.abrupt("break",16);case 9:return n.next=11,Object(k.J)((function(){return J(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._config.logger.debug("Calling .signed"),t.renVM.eventEmitter.on("status",(function(e){t._config.logger.debug("status: ".concat(e))})),e.next=5,t.renVM.submit();case 5:return e.next=7,t.renVM.wait();case 7:e.next=14;break;case 9:if(e.prev=9,e.t0=e.catch(0),t.status!==z.b.Reverted){e.next=13;break}return e.abrupt("return");case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))}),e,10*k.k,t._config.logger);case 12:return n.next=14,Object(k.J)((function(){return J(void 0,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._config.logger.debug("Calling .mint"),t.out){e.next=4;break}return e.abrupt("return");case 4:if(!t.out.submit){e.next=7;break}return e.next=7,t.out.submit();case 7:return e.next=9,t.out.wait();case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),!/(execution reverted)|(Transaction has been reverted)/.exec(e.t0.message||String(e.t0))){e.next=17;break}return t.status=z.b.Reverted,t.revertReason=e.t0.message||String(e.t0),e.abrupt("return");case 17:throw e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))}),e,10*k.k,t._config.logger);case 15:throw new Error("RenVM transaction reverted".concat(t.revertReason?": "+t.revertReason:""));case 16:n.next=2;break;case 18:case"end":return n.stop()}}),n)})))};return n.withRetries=function(e){return t(e)},n}(),$=n(18),tt=n.n($),et=n(9),nt=n(15),rt=n(26),at=n(21),it=n(84),st=n(151),ct=n(170),ot=n(171),ut=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},dt=function(t){Object(T.a)(n,t);var e=Object(E.a)(n);function n(t){var r,a;return Object(j.a)(this,n),(a=e.call(this)).addListener=function(t,e){return"transaction"===t&&a.getTransactions().map(e),Object(rt.a)((r=Object(nt.a)(a),Object(at.a)(n.prototype)),"on",r).call(r,t,e),Object(nt.a)(a)},a.on=function(t,e){return a.addListener(t,e)},a.getTransactions=t,a}return n}(it.EventEmitter),pt=function(){function t(e,n,r,a){var i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};Object(j.a)(this,t),this.setup={},this.transactions=Object(st.a)(),this.eventEmitter=new dt((function(){return i.transactions.filter((function(t){return void 0===t.then})).map((function(t){return t})).valueSeq().toArray()})),this.params=a,this.fromChain=n,this.toChain=r,this.provider=e,this.config=Object.assign(Object.assign({},ct.a),s),this.config.logger.debug("gateway created:",String(e.endpointOrProvider),n.chain,r.chain,this.params,s)}return Object(et.a)(t,[{key:"selector",get:function(){return this.getter("_selector")||this._selector}},{key:"gHash",get:function(){return this.getter("_gHash")||this._gHash}},{key:"pHash",get:function(){return this.getter("_pHash")||this._pHash}},{key:"fees",get:function(){return this.getter("_fees")||this._fees}},{key:"outputType",get:function(){return this.getter("_outputType")||this._outputType}},{key:"inputType",get:function(){return this.getter("_inputType")||this._inputType}},{key:"inConfirmationTarget",get:function(){return this.getter("_inConfirmationTarget")||this._inConfirmationTarget}},{key:"initialize",value:function(){return ut(this,void 0,void 0,h.a.mark((function t(){var e,n,r,a,i,s,c,o,u,d,p,f,b,y,m,v,g,x,O,w=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.params,n=e.to,r=e.asset,a=e.from,t.next=3,Object(ot.a)({asset:r,fromChain:this.fromChain,toChain:this.toChain});case 3:if(i=t.sent,s=i.inputType,c=i.outputType,o=i.selector,this._inputType=s,this._outputType=c,this._selector=o,this.outputType!==k.f.Release||Object(k.x)(this.fromChain)){t.next=12;break}throw Object(k.L)(new Error("Cannot release from non-contract chain ".concat(this.fromChain.chain)),k.i.PARAMETER_ERROR);case 12:if(this.outputType!==k.f.Mint||Object(k.x)(this.toChain)){t.next=14;break}throw Object(k.L)(new Error("Cannot mint ".concat(r," to non-contract chain ").concat(this.toChain.chain)),k.i.PARAMETER_ERROR);case 14:return t.next=16,Promise.all([this.provider.getConfirmationTarget(this.fromChain.chain),ut(w,void 0,void 0,h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(k.y)(this.params.shard)){t.next=2;break}return t.abrupt("return",this.params.shard);case 2:if(t.t0=this.inputType===k.d.Lock&&Object(k.z)(this.fromChain),!t.t0){t.next=7;break}return t.next=6,this.fromChain.isDepositAsset(r);case 6:t.t0=t.sent;case 7:if(!t.t0){t.next=13;break}return t.next=10,this.provider.selectShard(this.params.asset);case 10:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",{gPubKey:""});case 14:case"end":return t.stop()}}),t,this)})))]);case 16:return u=t.sent,d=Object(l.a)(u,2),p=d[0],f=d[1],this.params.shard=f,this._inConfirmationTarget=p,t.next=24,this.toChain.getOutputPayload(r,this.outputType,n);case 24:if(b=t.sent,this._pHash=Object(k.u)(b.payload),y=Object(k.v)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),t.t0=Object(k.z)(this.fromChain),!t.t0){t.next=32;break}return t.next=31,this.fromChain.isDepositAsset(this.params.asset);case 31:t.t0=t.sent;case 32:if(!t.t0){t.next=59;break}if(t.prev=33,Object(k.x)(this.toChain)){t.next=36;break}throw new Error("Cannot mint ".concat(r," to non-contract chain ").concat(this.toChain.chain,"."));case 36:if(this.params.shard){t.next=38;break}throw Object(k.L)(new Error("RenVM shard not selected."),k.i.INTERNAL_ERROR);case 38:if(m="string"===typeof this.params.nonce?Object(k.q)(this.params.nonce):Object(k.H)(this.params.nonce||0,32),v=Object(k.s)(this.pHash,y,b.toBytes,m),this._gHash=v,g=Object(k.q)(this.params.shard.gPubKey),this.config.logger.debug("gPubKey:",Object(k.g)(g)),g&&0!==g.length){t.next=45;break}throw Object(k.L)(new Error("Unable to fetch RenVM shard public key."),k.i.NETWORK_ERROR);case 45:if(v&&0!==v.length){t.next=47;break}throw new Error("Invalid gateway hash being passed to gateway address generation.");case 47:if(r&&0!==r.length){t.next=49;break}throw new Error("Invalid asset being passed to gateway address generation.");case 49:return t.next=51,this.fromChain.createGatewayAddress(this.params.asset,this.params.from,g,v);case 51:this.gatewayAddress=t.sent,this.config.logger.debug("gateway address:",this.gatewayAddress),t.next=58;break;case 55:throw t.prev=55,t.t1=t.catch(33),t.t1;case 58:this.wait().catch(console.error);case 59:if(!Object(k.x)(this.fromChain)){t.next=65;break}return x=function(t){var e=Object(k.I)(t.nonce?Object(k.q)(t.nonce):"string"===typeof w.params.nonce?Object(k.q)(w.params.nonce):Object(k.H)(w.params.nonce||0,32)),n=Object(k.s)(b.payload,y,b.toBytes,Object(k.q)(e));if(w._gHash=n,!n||0===n.length)throw Object(k.L)(new Error("Invalid gateway hash being passed to gateway address generation."),k.i.PARAMETER_ERROR);if(!r||0===r.length)throw Object(k.L)(new Error("Invalid asset being passed to gateway address generation."),k.i.PARAMETER_ERROR);w.processDeposit(t).catch(console.error)},O=function(){},t.next=64,this.fromChain.getInputTx(this.inputType,r,a,(function(){return{toChain:n.chain,toPayload:b,gatewayAddress:w.gatewayAddress}}),this.inConfirmationTarget,x,O);case 64:this.in=t.sent;case 65:return t.next=67,lt(this.provider,r,this.fromChain,this.toChain);case 67:if(this._fees=t.sent,!Object(k.x)(this.fromChain)||!this.fromChain.getInputSetup){t.next=75;break}return t.t2=Object,t.t3=Object.assign({},this.setup),t.next=73,this.fromChain.getInputSetup(r,this.inputType,a,(function(){return{toChain:n.chain,toPayload:b,gatewayAddress:w.gatewayAddress}}));case 73:t.t4=t.sent,this.setup=t.t2.assign.call(t.t2,t.t3,t.t4);case 75:if(!Object(k.x)(this.toChain)||!this.toChain.getOutputSetup){t.next=82;break}return t.t5=Object,t.t6=Object.assign({},this.setup),t.next=80,this.toChain.getOutputSetup(r,this.outputType,n);case 80:t.t7=t.sent,this.setup=t.t5.assign.call(t.t5,t.t6,t.t7);case 82:return t.abrupt("return",this);case 83:case"end":return t.stop()}}),t,this,[[33,55]])})))}},{key:"processDeposit",value:function(t){return ut(this,void 0,void 0,h.a.mark((function e(){var n,r,a,i=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.txid+"_"+String(t.txindex),r=this.transactions.get(n)){e.next=18;break}return a=function(){return ut(i,void 0,void 0,h.a.mark((function e(){var n,r,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pHash&&this.gHash){e.next=2;break}throw new Error("Gateway address must be generated before calling 'processDeposit'.");case 2:return n=Object(k.I)(t.nonce?Object(k.q)(t.nonce):"string"===typeof this.params.nonce?Object(k.q)(this.params.nonce):Object(k.H)(this.params.nonce||0,32)),r={asset:this.params.asset,fromTx:t,to:this.params.to,shard:this.params.shard,nonce:n},(a=this.in)||(a=new k.b({chainTransaction:t,chain:this.fromChain,target:this.inConfirmationTarget})),i=new z.a(this.provider,this.fromChain,this.toChain,r,a,this.config),e.next=9,i.initialize();case 9:return this.eventEmitter.emit("transaction",i),this.config.logger.debug("new deposit:",t),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})))}(),this.transactions=this.transactions.set(n,a),e.prev=6,e.t0=this.transactions,e.t1=n,e.next=11,a;case 11:e.t2=e.sent,this.transactions=e.t0.set.call(e.t0,e.t1,e.t2),e.next=18;break;case 15:e.prev=15,e.t3=e.catch(6),this.transactions=this.transactions.remove(n);case 18:return e.next=20,r;case 20:return e.abrupt("return",e.sent);case 21:case"end":return e.stop()}}),e,this,[[6,15]])})))}},{key:"on",value:function(t,e){return this.eventEmitter.on(t,e),this}},{key:"getter",value:function(t){if(void 0===this[t])throw new Error("Must call 'initialize' before accessing '".concat(t,"'."));return this[t]}},{key:"wait",value:function(){return ut(this,void 0,void 0,h.a.mark((function t(){var e,n,r,a=this;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.gatewayAddress&&Object(k.z)(this.fromChain)&&this.fromChain.watchForDeposits){t.next=2;break}return t.abrupt("return");case 2:if(e=function(){return 0===a.eventEmitter.listenerCount("transaction")},t.prev=4,!e()){t.next=9;break}return t.next=8,Object(k.G)(1*k.k);case 8:return t.abrupt("continue",2);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),this.config.logger.error(Object(k.o)(t.t0));case 14:return n=function(t){try{a.processDeposit(t).catch(console.error)}catch(e){a.config.logger.error(e)}},r=function(){},t.prev=16,t.next=19,this.fromChain.watchForDeposits(this.params.asset,this.params.from,this.gatewayAddress,n,r,e);case 19:t.next=24;break;case 21:t.prev=21,t.t1=t.catch(16),this.config.logger.error(Object(k.o)(t.t1));case 24:return t.next=26,Object(k.G)(this.config.networkDelay);case 26:t.next=2;break;case 28:case"end":return t.stop()}}),t,this,[[4,11],[16,21]])})))}}]),t}(),ht=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},ft=1e4,lt=function(t,e,n,r){return ht(void 0,void 0,void 0,h.a.mark((function a(){var i,s,c,o,u,d,p,f,l,b,y,m,v,g;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.queryBlockState(e,5);case 2:if((i=a.sent)[e]){a.next=5;break}throw Object(k.L)(new Error("No fee details found for ".concat(e)),k.i.UNKNOWN_ERROR);case 5:return s=i[e],c=s.gasLimit,o=s.gasCap,u=s.minimumAmount,d=s.dustAmount,p=i[e].fees.chains.filter((function(t){return t.chain===r.chain}))[0],a.next=9,n.isLockAsset(e);case 9:if(!(f=a.sent)){a.next=19;break}if(a.t1=Object(k.z)(n),!a.t1){a.next=16;break}return a.next=15,n.isDepositAsset(e);case 15:a.t1=a.sent;case 16:a.t0=a.t1,a.next=25;break;case 19:if(a.t2=Object(k.z)(r),!a.t2){a.next=24;break}return a.next=23,r.isDepositAsset(e);case 23:a.t2=a.sent;case 24:a.t0=a.t2;case 25:return l=a.t0,b=l?c.times(o).plus(d).plus(1):new tt.a(0),y=p&&p.mintFee?p.mintFee.toNumber():15,m=p&&p.burnFee?p.burnFee.toNumber():15,v=function(t){return f?new tt.a(t).minus(b).times(ft-y).dividedBy(ft).decimalPlaces(0):new tt.a(t).times(ft-m).dividedBy(ft).minus(b).decimalPlaces(0)},g=u.plus(b).times((f?y:m)+ft).dividedBy(ft).decimalPlaces(0),a.abrupt("return",{lock:b,release:b,mint:y,burn:m,minimumAmount:g,estimateOutput:v});case 32:case"end":return a.stop()}}),a)})))},bt=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},yt=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.j.Mainnet,r=arguments.length>1?arguments[1]:void 0;Object(j.a)(this,t),this.chains={},this.withChains=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var s=i[a];e.chains[s.chain]=s}return e},this.withChain=this.withChains,this.getChain=function(t){if(!e.chains[t])throw Object(k.L)(new Error("Chain ".concat(t," not found. (Must call 'renJS.withChains(").concat(t.toLowerCase(),")')")),k.i.PARAMETER_ERROR);return e.chains[t]},this.getFees=function(t){var n=t.asset,r=t.from,a=t.to;return bt(e,void 0,void 0,h.a.mark((function t(){var e,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.getChain("string"===typeof r?r:r.chain),i=this.getChain("string"===typeof a?a:a.chain),t.next=4,e.isLockAsset(n);case 4:if(t.t0=t.sent,t.t0){t.next=12;break}if(t.t1=Object(k.x)(e),!t.t1){t.next=11;break}return t.next=10,e.isMintAsset(n);case 10:t.t1=t.sent;case 11:t.t0=t.t1;case 12:if(t.t0){t.next=14;break}throw Object(k.L)(new Error("Asset not supported by chain ".concat(e.chain,".")),k.i.PARAMETER_ERROR);case 14:return t.next=16,i.isLockAsset(n);case 16:if(t.t2=t.sent,t.t2){t.next=24;break}if(t.t3=Object(k.x)(i),!t.t3){t.next=23;break}return t.next=22,i.isMintAsset(n);case 22:t.t3=t.sent;case 23:t.t2=t.t3;case 24:if(t.t2){t.next=26;break}throw Object(k.L)(new Error("Asset not supported by chain ".concat(i.chain,".")),k.i.PARAMETER_ERROR);case 26:return t.next=28,lt(this.provider,n,i,e);case 28:return t.abrupt("return",t.sent);case 29:case"end":return t.stop()}}),t,this)})))},this.selectShard=function(t){return bt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.provider.selectShard(t));case 1:case"end":return e.stop()}}),e,this)})))},this.gateway=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return bt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new pt(this.provider,this.getChain(t.from.chain),this.getChain(t.to.chain),t,Object.assign(Object.assign({},this._config),n)).initialize());case 1:case"end":return e.stop()}}),e,this)})))},this.gatewayTransaction=function(t,n){return bt(e,void 0,void 0,h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new z.a(this.provider,this.getChain(t.fromTx.chain),this.getChain(t.to.chain),t,void 0,Object.assign(Object.assign({},this._config),n)).initialize());case 1:case"end":return e.stop()}}),e,this)})))},this._config=r||{},this.provider="string"===typeof n?new Q.a(n,this._config.logger):n};yt.Networks=k.j,yt.defaultDepositHandler=Z;var mt=yt;var vt=Object(X.a)((function(){var t=Object(r.useState)((function(){return new mt(G)})),e=Object(l.a)(t,1)[0],n=Object(r.useState)((function(){return function(){var t,e=K(V,G),n=K(U,G),r=K(B,G),a=K(P,G),i=K(R,G),s={chain:new x.a(G)};return t={},Object(m.a)(t,V.chain,e),Object(m.a)(t,U.chain,n),Object(m.a)(t,B.chain,r),Object(m.a)(t,P.chain,a),Object(m.a)(t,R.chain,i),Object(m.a)(t,x.a.chain,s),t}()})),a=Object(l.a)(n,2),i=a[0],s=a[1],c=Object(r.useState)([]),o=Object(l.a)(c,2),u=o[0],d=o[1],p=Object(r.useState)(),h=Object(l.a)(p,2),f=h[0],b=h[1];Object(r.useEffect)((function(){e.withChains.apply(e,Object(W.a)(Object.values(i).map((function(t){return t.chain}))))}),[e,i]);var y=Object(r.useCallback)((function(t,e,n){var r=i[t];r.chain.withProvider&&r.chain.withProvider(e),i[t].accounts=[].concat(Object(W.a)(r.accounts||[]),[n]),i[t].connectionRequired=!1,s(i)}),[i]),v=Object(r.useCallback)((function(t){try{b(t),i.Ethereum.chain.withProvider({signer:new Y.a.providers.Web3Provider(t,"any").getSigner()}),i.BinanceSmartChain.chain.withProvider({signer:new Y.a.providers.Web3Provider(t,"any").getSigner()}),i.Polygon.chain.withProvider({signer:new Y.a.providers.Web3Provider(t,"any").getSigner()}),i.Fantom.chain.withProvider({signer:new Y.a.providers.Web3Provider(t,"any").getSigner()}),i.Avalanche.chain.withProvider({signer:new Y.a.providers.Web3Provider(t,"any").getSigner()})}catch(e){throw console.error(e),e}}),[i]),g=Object(r.useCallback)((function(t){d((function(e){return[t].concat(Object(W.a)(e))}))}),[]);return{renJS:e,chains:i,connect:y,injectedWeb3:f,setInjectedWeb3:v,transactions:u,addTransaction:g}})),gt=n(73),xt=n(91),Ot=function(t){var e=t.className;return Object(c.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white "+(e||""),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(c.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(c.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},wt=n(423),jt=n(424),Tt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},Et=function(t){var e=t.option,n=t.validOptions,a=t.onSelectOption,i=t.onCancelOption;return Object(c.jsxs)("div",{className:"w-full flex items-center",children:[Object(c.jsxs)(wt.a,{as:"div",className:"w-full relative inline-block text-left",children:[Object(c.jsx)("div",{children:Object(c.jsxs)(wt.a.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",children:[e?Object(c.jsxs)(c.Fragment,{children:[e.asset," on ",e.chain]}):Object(c.jsx)(c.Fragment,{children:"Select a token"}),Object(c.jsx)(xt.b,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),Object(c.jsx)(jt.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(c.jsx)(wt.a.Items,{className:"origin-top-right absolute mt-2 w-full rounded-md border-2 border-indigo-600 shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none z-50",children:Object(c.jsx)("div",{className:"py-1",children:n.map((function(t){return Object(c.jsx)(wt.a.Item,{onClick:function(){return a(t)},children:function(e){var n=e.active;return Object(c.jsxs)("span",{className:Tt(n?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:[t.asset," on"," ",t.chain]})}},t.asset+"-"+t.chain)}))})})})]}),Object(c.jsx)("div",{className:"ml-2 w-5",children:e?Object(c.jsx)("button",{onClick:i,children:Object(c.jsx)(xt.c,{className:"text-indigo-600 -mb-1 h-5 w-5","aria-hidden":"true"})}):null})]})};var kt=function(t){var e,n,a,i,s=t.connectFrom,o=t.createGatewayParams,u=t.validFromOptions,d=t.validToOptions,p=t.updateCreateGatewayParams,b=t.handleCreateGateway,y=Object(r.useState)(!1),m=Object(l.a)(y,2),v=m[0],g=m[1],x=Object(r.useState)(),O=Object(l.a)(x,2),w=O[0],j=O[1],T=Object(r.useState)(!1),E=Object(l.a)(T,2),k=E[0],_=E[1],A=Object(r.useState)(),P=Object(l.a)(A,2),S=P[0],R=P[1],M=Object(r.useState)(!1),C=Object(l.a)(M,2),N=C[0],B=C[1],D=Object(r.useCallback)((function(t){p(Object(gt.a)(Object(gt.a)({},o),{},{from:t}))}),[o,p]),I=Object(r.useCallback)((function(t){p(Object(gt.a)(Object(gt.a)({},o),{},{to:t}))}),[o,p]),H=Object(r.useCallback)((function(){p(Object(gt.a)(Object(gt.a)({},o),{},{from:void 0}))}),[o,p]),U=Object(r.useCallback)((function(){p(Object(gt.a)(Object(gt.a)({},o),{},{to:void 0}))}),[o,p]),L=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s){t.next=2;break}return t.abrupt("return");case 2:return g(!0),t.prev=3,t.next=6,s();case 6:B(!0),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(3),console.error(t.t0),j(t.t0);case 13:g(!1);case 14:case"end":return t.stop()}}),t,null,[[3,9]])}))),[s]),F=Object(r.useCallback)((function(t){p(Object(gt.a)(Object(gt.a)({},o),{},{amount:t.target.value}))}),[p,o]),V=Object(r.useCallback)((function(t){p(Object(gt.a)(Object(gt.a)({},o),{},{toAddress:t.target.value}))}),[p,o]),G=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.prev=1,t.next=4,b();case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0),R(t.t0);case 10:_(!1);case 11:case"end":return t.stop()}}),t,null,[[1,6]])}))),[b]);return Object(c.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[Object(c.jsx)("h3",{className:"font-bold",children:"Create Gateway"}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"Amount:"}),Object(c.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.amount,onChange:F}),Object(c.jsx)("div",{className:"ml-2 w-5"})]}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"From:"}),Object(c.jsx)(Et,{option:o.from,validOptions:u,onSelectOption:D,onCancelOption:H})]}),Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"To:"}),Object(c.jsx)(Et,{option:o.to,validOptions:d,onSelectOption:I,onCancelOption:U})]}),(null===(e=o.to)||void 0===e?void 0:e.toAddressRequired)?Object(c.jsxs)("div",{className:"flex items-center",children:[Object(c.jsx)("span",{className:"mr-2",children:"Address:"}),Object(c.jsx)("input",{type:"text",className:"p-2 mt-1 border focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md",value:o.toAddress,onChange:V})]}):null,s?Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsx)("button",{disabled:v,onClick:L,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:v?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ot,{})," Connecting"," ",null===(n=o.from)||void 0===n?void 0:n.chain," wallet"]}):Object(c.jsxs)(c.Fragment,{children:["Connect ",null===(a=o.from)||void 0===a?void 0:a.chain," wallet"]})}),w?Object(c.jsx)("p",{className:"text-red-500",children:String(w.message)}):null]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{disabled:!o.from||!o.to||k||(null===(i=o.to)||void 0===i?void 0:i.toAddressRequired)&&!o.toAddress,onClick:G,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:k?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ot,{})," Creating gateway"]}):Object(c.jsxs)(c.Fragment,{children:[N?Object(c.jsxs)(c.Fragment,{children:["Connected",Object(c.jsx)(xt.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(c.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Create gateway"]})}),S?Object(c.jsx)("p",{className:"text-red-500",children:String(S.message)}):null]})]})},_t=function(t){var e=t.amount,n=t.fromAsset,r=t.fromChain,a=t.toAsset,i=t.toChain,s=n===a;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"font-bold",children:[s?"Move":"Convert",e?Object(c.jsxs)(c.Fragment,{children:[" ",e]}):Object(c.jsx)(c.Fragment,{})," ",n," from ",r," ","to ",s?Object(c.jsxs)(c.Fragment,{children:[a," on"]}):null," ",i]})})},At=function(t){var e=t.gatewayAddress,n=t.fromAsset,r=t.fromChain,a=t.toAsset,i=t.toChain,s=n===a;return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[s?"Move":"Convert"," ",n," from ",r," ","to ",s?Object(c.jsxs)(c.Fragment,{children:[a," on"]}):null," ",i,Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:["Deposit ",n," to ",e]})})]})})},Pt=n(204),St=n.n(Pt),Rt=function(t){var e,n,a=t.tx,i=t.target,s=t.autoSubmit,o=t.onDone,u=vt.useContainer(),d=u.injectedWeb3,p=u.chains,b=Object(r.useState)(!!s),y=Object(l.a)(b,2),m=y[0],v=y[1],g=Object(r.useState)(!1),x=Object(l.a)(g,2),O=x[0],w=x[1],j=Object(r.useState)(),T=Object(l.a)(j,2),E=T[0],_=T[1],A=Object(r.useState)(),P=Object(l.a)(A,2),S=P[0],R=P[1],M=Object(r.useState)(),C=Object(l.a)(M,2),N=C[0],B=C[1],D=Object(r.useState)(!1),I=Object(l.a)(D,2),H=I[0],U=I[1],L=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return _(void 0),R(void 0),t.prev=2,w(!0),t.next=6,a.wait(i);case 6:o(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),R(t.t0);case 12:w(!1);case 13:case"end":return t.stop()}}),t,null,[[2,9]])}))),[a,o,i]),F=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_(void 0),R(void 0),!a.submit||a.status.status!==k.a.Ready){t.next=14;break}return t.prev=3,v(!0),t.next=7,a.submit();case 7:L().catch(console.error),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),_(t.t0);case 13:v(!1);case 14:case"end":return t.stop()}}),t,null,[[3,10]])}))),[a,L]);Object(r.useEffect)((function(){s&&F().catch(console.error),a.status.status!==k.a.Ready&&(w(!0),L().catch(console.error))}),[F,s,L,a.status.status]),Object(r.useEffect)((function(){Object(f.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=3;break}return B(!1),t.abrupt("return");case 3:return t.t0=St.a,t.next=6,d.request({method:"eth_chainId"});case 6:t.t1=t.sent,new t.t0(t.t1).toNumber()!==new St.a(null===(e=p[a.chain].chain.network.network)||void 0===e?void 0:e.chainId).toNumber()?B(!0):B(!1);case 9:case"end":return t.stop()}}),t)})))().catch(console.error)}));var V=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("RenVM"!==a.chain){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,d.request({method:"wallet_switchEthereumChain",params:[{chainId:p[a.chain].chain.network.network.chainId}]});case 5:U(!0),t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),t.next=12,d.request({method:"wallet_addEthereumChain",params:[p[a.chain].chain.network.network]});case 12:B(!1);case 13:case"end":return t.stop()}}),t,null,[[2,8]])}))),[d,p,a]);if(void 0===N)return Object(c.jsxs)("div",{children:[Object(c.jsx)(Ot,{})," Loading..."]});switch(a.status.status){case k.a.Done:return Object(c.jsxs)("p",{children:["Transaction done! ",Object(c.jsx)("button",{onClick:o,children:"Continue"})]});case k.a.Reverted:return Object(c.jsxs)("p",{children:["Transaction reverted: ",a.status.revertReason]});default:return Object(c.jsx)(c.Fragment,{children:E?Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{className:"text-red-500",children:["Error submitting:"," ",String(E.message),"."]})," ",Object(c.jsxs)("button",{onClick:F,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Retry submitting to ",a.chain]})]}):S?Object(c.jsxs)("p",{children:[Object(c.jsxs)("span",{className:"text-red-500",children:["Error waiting for ",a.chain," transaction confirmations: ",String(S.message),"."]})," ",Object(c.jsx)("button",{onClick:L,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:"Retry"})]}):m?Object(c.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(c.jsx)(Ot,{})," Submitting to ",a.chain]}):O?Object(c.jsxs)("button",{disabled:!0,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[Object(c.jsx)(Ot,{})," Waiting for ",a.chain," ",1===a.status.target?"confirmation":"confirmations","...",(null===(e=a.status.response)||void 0===e?void 0:e.txStatus)?Object(c.jsxs)(c.Fragment,{children:[" ","(",null===(n=a.status.response)||void 0===n?void 0:n.txStatus,")"]}):null]}):N?Object(c.jsxs)("button",{onClick:V,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:["Switch to ",a.chain," in MetaMask"]}):Object(c.jsxs)("button",{onClick:F,className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:[H?Object(c.jsxs)(c.Fragment,{children:["Switched",Object(c.jsx)(xt.a,{className:"text-white h-5 w-5 inline-block ml-2"}),Object(c.jsx)("span",{className:"mx-4",children:"-"})]}):null,"Submit to ",a.chain]})})}};var Mt=function(t){var e=t.gateway,n=t.onDone,a=Object(r.useState)(!1),i=Object(l.a)(a,2),s=i[0],o=i[1],u=Object(r.useState)(!1),d=Object(l.a)(u,2),p=d[0],b=d[1],y=Object(r.useState)(!1),m=Object(l.a)(y,2),v=m[0],g=m[1],x=Object(r.useState)(),O=Object(l.a)(x,2),w=O[0],j=O[1];Object(r.useEffect)((function(){Object(f.a)(h.a.mark((function t(){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.fromChain.assetDecimals(e.params.asset);case 3:return n=t.sent,t.next=6,e.fromChain.getBalance(e.params.asset);case 6:r=t.sent,j(r.shiftedBy(-n).toFixed()),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))().catch(console.error)}),[e.params.asset,e.fromChain]);var T=e.params.asset,E=e.fromChain.chain,_=e.params.asset,A=e.toChain.chain,P=Object(r.useCallback)((function(){o(!0)}),[]),S=Object(r.useCallback)((function(){b(!0)}),[]);return Object(r.useEffect)((function(){e.on("transaction",(function(t){g(!0)}))}),[e]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"flex justify-between",children:[Object(c.jsx)(_t,{fromAsset:T,fromChain:E,toAsset:_,toChain:A}),Object(c.jsx)("button",{className:"h-5 w-5 -mt-4 -mr-4",onClick:n,children:Object(c.jsx)(xt.c,{className:"text-black h-5 w-5","aria-hidden":"true"})})]}),s?v?Object(c.jsxs)("div",{className:"mt-4",children:[Object(c.jsx)("p",{className:"text-sm font-medium",children:"Submitted - view your in-progress transaction under Transactions."}),Object(c.jsx)("button",{className:"group w-full mt-4 relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-black bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 disabled:opacity-50",onClick:n,children:"Return"})]}):Object(c.jsx)("div",{className:"mt-4",children:Object(c.jsxs)("p",{className:"text-sm font-medium",children:[Object(c.jsx)(Ot,{className:"text-indigo-600 inline-block"})," ","Loading transaction..."]})}):!p&&e.setup.approval&&e.setup.approval.status.status!==k.a.Done?Object(c.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset,Object(c.jsx)(Rt,{tx:e.setup.approval,target:1,onDone:S})]}):e.in?Object(c.jsxs)(c.Fragment,{children:[e.setup.approval?Object(c.jsxs)("div",{className:"mt-4",children:["Step 1: Approve ",e.params.asset," ",Object(c.jsx)(xt.a,{className:"text-indigo-600 h-5 w-5 inline-block"})]}):null,Object(c.jsxs)("div",{className:"mt-4",children:[e.setup.approval?"Step 2: ":"","Submit gateway",Object(c.jsx)(Rt,{tx:e.in,onDone:P,target:1})]})]}):e.gatewayAddress?Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(At,{gatewayAddress:e.gatewayAddress,fromAsset:T,fromChain:E,toAsset:_,toChain:A})}):null,w?Object(c.jsxs)("p",{className:"text-sm text-gray-600 mt-4",children:["Balance: ",w," ",e.params.asset]}):null]})},Ct=[{asset:"BTC",chain:"Bitcoin",assetOrigin:"Bitcoin",toAddressRequired:!0},{asset:"BTC",chain:"Ethereum",assetOrigin:"Bitcoin"},{asset:"DAI",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"DAI",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Polygon",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Fantom",assetOrigin:"Ethereum"},{asset:"DAI",chain:"Avalanche",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"USDC",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Polygon",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Fantom",assetOrigin:"Ethereum"},{asset:"USDC",chain:"Avalanche",assetOrigin:"Ethereum"},{asset:"ETH",chain:"Ethereum",assetOrigin:"Ethereum"},{asset:"ETH",chain:"BinanceSmartChain",assetOrigin:"Ethereum"},{asset:"MATIC",chain:"Polygon",assetOrigin:"Polygon"},{asset:"MATIC",chain:"BinanceSmartChain",assetOrigin:"Polygon"},{asset:"MATIC",chain:"Ethereum",assetOrigin:"Polygon"}],Nt=Ct;var Bt=function(){var t=vt.useContainer(),e=t.renJS,n=t.chains,a=t.injectedWeb3,i=t.setInjectedWeb3,s=t.addTransaction,o=Object(r.useState)(),u=Object(l.a)(o,2),d=u[0],p=u[1],b=Object(r.useCallback)((function(){d&&d.eventEmitter.removeListener("transaction",s),p(void 0)}),[s,d,p]),m=Object(r.useState)({amount:"1.5",from:void 0,to:void 0}),v=Object(l.a)(m,2),g=v[0],x=v[1],O=Object(r.useState)(Ct),w=Object(l.a)(O,2),j=w[0],T=w[1],E=Object(r.useState)(Nt),k=Object(l.a)(E,2),_=k[0],A=k[1],P=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e,g,n);case 2:r=t.sent,p(r),r.on("transaction",s);case 5:case"end":return t.stop()}}),t)}))),[e,n,g,s]),S=Object(r.useCallback)(Object(f.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y()();case 2:if(!(e=t.sent)){t.next=9;break}return t.next=6,e.enable();case 6:i(e),t.next=10;break;case 9:throw new Error("Please install MetaMask.");case 10:case"end":return t.stop()}}),t)}))),[i]),R=Object(r.useCallback)((function(t){x(t);var e=Ct;t.to&&(e=e.filter((function(e){return e.asset===t.to.asset&&e.chain!==t.to.chain&&(t.to.chain===t.to.assetOrigin||e.chain===t.to.assetOrigin)})));var n=Nt;t.from&&(n=n.filter((function(e){return e.asset===t.from.asset&&e.chain!==t.from.chain&&(t.from.chain===t.from.assetOrigin||e.chain===t.from.assetOrigin)}))),T(e),A(n)}),[]);return Object(c.jsx)("div",{children:d?Object(c.jsx)(Mt,{gateway:d,onDone:b}):Object(c.jsx)(kt,{createGatewayParams:g,validFromOptions:j,validToOptions:_,updateCreateGatewayParams:R,handleCreateGateway:P,connectFrom:!a&&g.from?S:void 0})})},Dt=function(t){var e=t.fromAsset,n=t.fromChain,r=t.toChain,a=t.txHash,i=t.inTxDone,s=t.inTx,o=t.renVMDone,u=t.renVM,d=t.outTxDone,p=t.outTx,h=t.onInDone,f=t.onRenVMDone,l=t.onOutDone,b=vt.useContainer().chains;return Object(c.jsx)("div",{className:"rounded-md w-full mt-5",children:Object(c.jsxs)("div",{className:"px-4 py-5 space-y-2 sm:p-6 w-full h-full bg-white rounded-md p-4 flex flex-col border border-gray-300",children:[Object(c.jsxs)("h3",{className:"font-bold truncate",children:[e," on ",n," to ",r]}),Object(c.jsxs)("p",{className:"truncate",children:["Hash: ",a]}),s&&s.status.transaction?Object(c.jsxs)("p",{className:"truncate",children:[s.chain," tx:"," ",Object(c.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:b[s.chain].chain.transactionExplorerLink(s.status.transaction),children:s.status.transaction.txidFormatted})]}):null,p&&p.status.transaction?Object(c.jsxs)("p",{className:"truncate",children:[p.chain," tx:"," ",Object(c.jsx)("a",{className:"text-indigo-600",target:"_blank",rel:"noopener noreferrer",href:b[p.chain].chain.transactionExplorerLink(p.status.transaction),children:p.status.transaction.txidFormatted})]}):null,!i&&s&&s.status.status!==k.a.Done?Object(c.jsx)(Rt,{tx:s,onDone:h}):!o&&u&&u.status.status!==k.a.Done?Object(c.jsx)(Rt,{tx:u,onDone:f,autoSubmit:!0}):!d&&p&&p.status.status!==k.a.Done?Object(c.jsx)(Rt,{tx:p,onDone:l}):null]})})},It=function(t){var e=t.transaction,n=Object(r.useState)(!1),a=Object(l.a)(n,2),i=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(l.a)(o,2),d=u[0],p=u[1],h=Object(r.useState)(!1),f=Object(l.a)(h,2),b=f[0],y=f[1];return Object(c.jsx)(Dt,{fromAsset:e.params.asset,fromChain:e.fromChain.chain,toChain:e.toChain.chain,inTx:e.in,renVM:e.renVM,outTx:e.out,inTxDone:i,renVMDone:d,outTxDone:b,txHash:e.hash,onInDone:function(){s(!0)},onRenVMDone:function(){p(!0)},onOutDone:function(){y(!0)}})};var Ht=function(t){var e=t.transactions;return Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsx)("div",{className:"shadow rounded-md w-full",children:Object(c.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(c.jsx)("h2",{className:"font-bold",children:"Transactions"})})}),Object(c.jsx)("div",{className:"w-full",children:e.length?e.map((function(t){return Object(c.jsx)(It,{transaction:t},t.hash)})):Object(c.jsx)("p",{className:"text-sm font-medium m-4",children:"No transactions"})})]})},Ut=function(){var t=vt.useContainer().transactions;return Object(c.jsx)(Ht,{transactions:t})};var Lt=function(){return Object(c.jsx)("div",{className:"antialiased font-sans bg-gray-100 h-screen w-screen flex justify-center py-12 px-4 sm:px-6 lg:px-8",children:Object(c.jsxs)("div",{className:"max-w-screen-2xl flex flex-col w-full",children:[Object(c.jsx)("div",{className:"py-4",children:Object(c.jsx)("h1",{className:"font-bold",children:"RenJS v3 Demo"})}),Object(c.jsxs)("div",{className:"flex w-full flex-col h-full md:flex-row md:justify-center",children:[Object(c.jsx)("div",{className:"shadow rounded-md w-full md:w-2/5 ",children:Object(c.jsx)("div",{className:"px-4 py-5 bg-white space-y-6 sm:p-6 w-full h-full rounded-md",children:Object(c.jsx)(Bt,{})})}),Object(c.jsx)("div",{className:"w-full mt-4 md:w-3/5 md:ml-5 md:mt-0",children:Object(c.jsx)(Ut,{})}),Object(c.jsx)(d,{})]})]})})};s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(vt.Provider,{children:Object(c.jsx)(Lt,{})})}),document.getElementById("root"))},48:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return v}));n(24);var r=n(1),a=n.n(r),i=n(18),s=n.n(i),c=n(259),o=n.n(c),u=n(129),d=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},p=1e3,h=60*p,f=function(t){return d(void 0,void 0,void 0,a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1*p,r=arguments.length>3?arguments[3]:void 0;return d(void 0,void 0,void 0,a.a.mark((function i(){var s,c,o,d;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0!==e&&"number"===typeof e&&!isNaN(e)){a.next=2;break}throw Object(u.e)(new Error("Invalid retry amount '".concat(e,"'.")),u.b.PARAMETER_ERROR);case 2:c=new Set,o=0;case 4:if(!(-1===e||o<e)){a.next=23;break}return a.prev=5,a.next=8,t();case 8:return a.abrupt("return",a.sent);case 11:if(a.prev=11,a.t0=a.catch(5),d=Object(u.c)(a.t0),c.add(d),s=a.t0||s,!(o<e-1||-1===e)){a.next=20;break}return a.next=19,f(n);case 19:r&&r.warn(a.t0);case 20:o++,a.next=4;break;case 23:throw s?s.message=Array.from(c).join(", "):s=new Error(Array.from(c).join(", ")),s;case 25:case"end":return a.stop()}}),i,null,[[5,11]])})))},b=function(t){return null!==t&&void 0!==t},y=function(t){return function(){try{var e=t.apply(void 0,arguments);return void 0===e||!0===e}catch(n){return!1}}},m=function(e,n){if(e.length>n)throw new Error("byte array longer than desired length (".concat(String(e.length)," > ").concat(String(n),")"));if(e.length<n){var r=n-e.length,a=Array.from(new Array(r)).map((function(t){return 0}));e=t.concat([t.from(a),e])}return e},v=function(e,n){var r;if(t.isBuffer(e))r=e;else{var a=new s.a(e).toString(16);a=a.length%2?"0"+a:a,r=t.from(a,"hex")}r=m(r,n);var i=new o.a(s.a.isBigNumber(e)?e.toFixed():e).toArrayLike(t,"be",n);if(!r.equals(i)||r.length!==n)throw new Error("Failed to convert to ".concat(String(n),"-length bytes - got ").concat(String(r.toString("hex"))," (").concat(String(r.length)," bytes), expected ").concat(i.toString("hex")," (").concat(String(i.length)," bytes)"));return r}}).call(this,n(32).Buffer)},51:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return b})),n.d(e,"f",(function(){return y})),n.d(e,"h",(function(){return m})),n.d(e,"g",(function(){return v})),n.d(e,"e",(function(){return g}));var r=n(81),a=n(3),i=(n(263),n(264)),s=n(265),c=n(266),o=n(267),u=n(268),d=i,p=s,h=c,f=o,l=u,b=function(t,e){var n=t.filter((function(t){return t.name===e}))[0];if(!n)throw new Error('No ABI entry found for "'.concat(e,'".'));return n},y=function(e){var n=e.inputs&&e.inputs.length>0?e.inputs.map((function(t){return t.type})).join(","):"",r="".concat(e.name,"(").concat(n,")");return Object(a.C)(t.from(r))},m=function(t,e){return new r.a(e,f,t)},v=function(t,e){return new r.a(e,p,t)},g=function(t,e){return new r.a(e,d,t)}}).call(this,n(32).Buffer)},52:function(t,e,n){"use strict";n.d(e,"d",(function(){return b})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return m})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return x})),n.d(e,"a",(function(){return O})),n.d(e,"i",(function(){return j})),n.d(e,"j",(function(){return T})),n.d(e,"g",(function(){return E}));var r=n(42),a=n(1),i=n.n(a),s=n(24),c=n(18),o=n.n(c),u=n(205),d=n(111),p=n(3),h=n(51),f=n(104),l=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n=Object(s.a)(e.args,3),r=n[0],a=n[1],i=n[2];return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:a.toString(),toRecipient:r,nonce:Object(p.I)(Object(p.H)(i.toString(),32))})},y=function(t,e){var n=Object(s.a)(e.args,5),r=n[0],a=n[1],i=n[2],c=n[3],u=n[4],d=Object(p.H)(new o.a(u.toString()),32);if(32!==d.length)throw new Error("Invalid nonce length");return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:c.toString(),nonce:Object(p.I)(d),toRecipient:r,toChain:a,toPayload:Object(p.I)(Object(p.r)(i))})},m=function(t,e){var n=Object(s.a)(e.args,3),r=(n[0],n[1],n[2]);return Object.assign(Object.assign({},v(t,e.transactionHash)),{amount:r.toString()})},v=function(t,e){return{chain:t,txidFormatted:e,txid:Object(p.I)(Object(p.r)(e)),txindex:"0"}},g=function(t,e,n,r,a,s){return l(void 0,void 0,void 0,i.a.mark((function c(){var o,u,d,l;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(f.c)(t,e,n);case 2:return o=i.sent,u=Object(h.h)(e,o),d=Object(h.d)(h.b,"LogMint"),i.next=7,w(e,o,d,[null,null,Object(p.g)(r)],s);case 7:if(!(l=i.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length){i.next=11;break}return l.length>1&&console.warn("Found more than one mint log."),i.abrupt("return",l[0]);case 11:if(!a){i.next=17;break}return i.next=14,u.status(Object(p.g)(a));case 14:if(!i.sent){i.next=17;break}return i.abrupt("return",v(t.selector,""));case 17:return i.abrupt("return",void 0);case 18:case"end":return i.stop()}}),c)})))},x=function(t,e,n,r,a){return l(void 0,void 0,void 0,i.a.mark((function s(){var c,o,u;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(f.b)(t,e,n);case 2:return c=i.sent,o=Object(h.d)(h.a,"LogRelease"),i.next=6,w(e,c,o,[null,null,Object(p.g)(r)],a);case 6:return(u=i.sent.map((function(e){return v(t.selector,e.transactionHash)}))).length>1&&console.warn("Found more than one release log."),i.abrupt("return",u.length?u[0]:void 0);case 9:case"end":return i.stop()}}),s)})))},O=function(t,e){if(!t)throw Error("No events found in transaction");var n=Object(p.g)(Object(h.f)(e)),r=new u.b.Interface([e]);return t.filter((function(t){return t.topics[0]===n})).map((function(t){return Object.assign(Object.assign({},r.parseLog(t)),{transactionHash:t.transactionHash})}))},w=function(t,e,n,a,s){return l(void 0,void 0,void 0,i.a.mark((function c(){var u,d,f;return i.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(u=1,d="latest",!s){i.next=9;break}return i.t0=o.a,i.next=6,t.getBlockNumber();case 6:i.t1=i.sent.toString(),d=new i.t0(i.t1).toNumber(),u=d-s+1;case 9:return i.next=11,t.getLogs({address:e,fromBlock:u,toBlock:d,topics:[Object(p.g)(Object(h.f)(n))].concat(Object(r.a)(a))});case 11:return f=i.sent,i.abrupt("return",O(f,n));case 13:case"end":return i.stop()}}),c)})))},j=function(t){if(/^.+\.eth$/.exec(t))return!0;try{return u.b.getAddress(t),!0}catch(e){return!1}},T=function(t){return null!==t&&Object(p.B)(t.txid,{length:32,prefix:!0})},E=function(t,e){return Object(p.r)(d.defaultAbiCoder.encode(t,e))}},58:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(3),a=n(160),i=function(t){return{url:t,address:function(e){return"".concat(t.replace(/\/$/,""),"/address/").concat(e)},transaction:function(e){return"".concat(t.replace(/\/$/,""),"/tx/").concat(e||"")}}},s=function(t,e){if(!e){var n=t[r.j.Mainnet]||t[r.j.Testnet]||t[r.j.Devnet];if(!n)throw new Error("Must provide network.");return n}var i;if(!(i=e&&Object(a.a)(e)?e:t[e]))throw new Error("Unsupported network '".concat(String(e?"string"===typeof e?e:e.selector:e),"'. Valid options are 'mainnet', 'testnet' or an EvmNetworkConfig object."));return i}},60:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return j}));var r=n(42),a=n(16),i=n(1),s=n.n(i),c=n(5),o=n(18),u=n.n(o),d=n(262),p=n.n(d),h=n(205),f=n(81),l=n(111),b=n(3),y=n(51),m=n(113),v=n(104),g=n(52),x=n(37),O=n(58),w=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},j=function e(n,i){var o=this,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(this,e),this.assets={},this.defaultTxConfig={},this.getRenAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getMintGateway=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.c)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.a)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.getLockGateway=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.b)(this.network,this.provider,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))})),this.validateAddress=g.i,this.validateTransaction=g.j,this.addressExplorerLink=function(t){return o.explorer.address(t)},this.formattedTransactionHash=function(t){return Object(b.g)(Object(b.q)(t.txid))},this.transactionExplorerLink=function(t){return o.explorer.transaction(o.formattedTransactionHash(t))},this.withProvider=function(t){if(t.signer||t.provider){if(o.provider=t.provider||o.provider,o.signer=t.signer||o.signer,o.signer)try{o.signer.connect(o.provider)}catch(n){}}else{var e=t._isProvider?t:new h.a.Web3Provider(t);o.provider=e,o.signer=e.getSigner()}return o},this.getOutputPayload=function(t,e,n){return w(o,void 0,void 0,s.a.mark((function r(){var a;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type)).getPayload){r.next=3;break}throw Object(b.L)(new Error("'".concat(n.type,"' payload type can only be used as a setup payload.")),b.i.PARAMETER_ERROR);case 3:return r.abrupt("return",a.getPayload(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler));case 4:case"end":return r.stop()}}),r,this)})))},this.isLockAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object.keys(this.assets).includes(t)&&t!==this.network.asset){e.next=2;break}return e.abrupt("return",!0);case 2:return e.prev=2,e.next=5,this.getLockAsset(t);case 5:if(!e.sent){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:return e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[2,9]])})))})),this.isDepositAsset=function(t){return t===o.network.asset},this.isMintAsset=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getRenAsset(t);case 3:return e.t0=e.sent,e.t1=void 0,e.abrupt("return",e.t0!==e.t1);case 8:return e.prev=8,e.t2=e.catch(0),e.t2 instanceof Error&&/(Empty address returned)|(Asset not supported on mint-chain)/.exec(String((e.t2||{}).message))||console.warn(e.t2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})))})),this.assetDecimals=Object(b.D)((function(t){return w(o,void 0,void 0,s.a.mark((function e(){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.network.asset){e.next=2;break}return e.abrupt("return",this.network.network.nativeCurrency.decimals);case 2:return e.next=4,this.isLockAsset(t);case 4:if(!e.sent){e.next=10;break}return e.next=7,this.getLockAsset(t);case 7:case 15:n=e.sent,e.next=19;break;case 10:return e.next=12,this.isMintAsset(t);case 12:if(!e.sent){e.next=18;break}return e.next=15,this.getRenAsset(t);case 18:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 19:return r={constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},a=new f.a(n,[r],this.provider),e.next=23,a.decimals();case 23:return i=e.sent,e.abrupt("return",new u.a(i.toString()).toNumber());case 25:case"end":return e.stop()}}),e,this)})))}),{expiry:!1}),this.transactionConfidence=function(t){return w(o,void 0,void 0,s.a.mark((function e(){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.txid){e.next=2;break}throw new Error("Unable to fetch transaction confidence, transaction hash not set.");case 2:return e.t0=u.a,e.next=5,this.provider.getBlockNumber();case 5:return e.t1=e.sent.toString(),n=new e.t0(e.t1),e.next=9,this.provider.getTransactionReceipt(this.formattedTransactionHash(t));case 9:if(null!==(r=e.sent)){e.next=12;break}throw Object(b.L)(new Error("".concat(t.chain," transaction not found: ").concat(t.txidFormatted)),b.i.TRANSACTION_NOT_FOUND);case 12:if(!r||!r.blockNumber){e.next=17;break}return a=new u.a(r.blockNumber.toString()),e.abrupt("return",n.minus(a).plus(1));case 17:return e.abrupt("return",new u.a(0));case 18:case"end":return e.stop()}}),e,this)})))},this.getBalance=function(t,e){return w(o,void 0,void 0,s.a.mark((function n(){var r,a,i,c;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=9;break}if(this.signer){n.next=3;break}throw new Error("Must connect signer or provider address.");case 3:if(n.t0=e,n.t0){n.next=8;break}return n.next=7,this.signer.getAddress();case 7:n.t0=n.sent;case 8:e=n.t0;case 9:if(t!==this.network.asset){n.next=15;break}return n.t1=u.a,n.next=13,this.provider.getBalance(e);case 13:return n.t2=n.sent.toString(),n.abrupt("return",new n.t1(n.t2));case 15:return r={constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},n.next=18,this.isMintAsset(t);case 18:if(!n.sent){n.next=24;break}return n.next=21,this.getRenAsset(t);case 21:a=n.sent,n.next=33;break;case 24:return n.next=26,this.isLockAsset(t);case 26:if(!n.sent){n.next=32;break}return n.next=29,this.getLockAsset(t);case 29:a=n.sent,n.next=33;break;case 32:throw new Error("Asset '".concat(t,"' not supported on ").concat(this.chain,"."));case 33:return i=new f.a(a,[r],this.provider),n.next=36,i.balanceOf(e);case 36:return n.next=38,n.sent;case 38:return c=n.sent,n.abrupt("return",new u.a(c.toString()));case 40:case"end":return n.stop()}}),n,this)})))},this.getOutputTx=function(t,e,n,r,a){return w(o,void 0,void 0,s.a.mark((function i(){var c,o,u,d,p,h=this;return s.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return c=r(),o=c.nHash,u=c.sigHash,d=function(){return w(h,void 0,void 0,s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==b.f.Release){n.next=6;break}return n.next=3,Object(g.c)(this.network,this.provider,e,o,this.network.logRequestLimit);case 3:case 8:return n.abrupt("return",n.sent);case 6:return n.next=8,Object(g.b)(this.network,this.provider,e,o,u,this.network.logRequestLimit);case 9:return n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n,this)})))},i.next=4,d();case 4:if(!(p=i.sent)){i.next=7;break}return i.abrupt("return",new b.b({chainTransaction:p,chain:this,target:a}));case 7:if(this.signer){i.next=9;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 9:return i.abrupt("return",new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return h.getEVMParams(e,t,r())},findExistingTransaction:d}));case 10:case"end":return i.stop()}}),i,this)})))},this.getInputTx=function(t,e,n,r,a,i){return w(o,void 0,void 0,s.a.mark((function c(){var o,u=this;return s.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(this.signer){s.next=2;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 2:return o=function(e){if(t===b.d.Burn){var n=Object(y.d)(y.b,"LogBurn");Object(g.a)(e.logs,n).map((function(t){return Object(g.d)(u.chain,t)})).map(i)}else{var r=Object(y.d)(y.a,"LogLockToChain"),a=Object(g.a)(e.logs,r).map((function(t){return Object(g.e)(u.chain,t)}));a.map(i);var s=Object(y.d)(y.c,"LogTransferred"),c=Object(g.a)(e.logs,s).map((function(t){return Object(g.f)(u.chain,t)}));if(c.map(i),0===a.length&&0===c.length)throw new Error("No inputs found in transaction ".concat(e.transactionHash,"."))}},s.abrupt("return",new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:n,target:a,getPayloadHandler:this.getPayloadHandler,getParams:function(){return u.getEVMParams(e,t,r())},onReceipt:o}));case 4:case"end":return s.stop()}}),c,this)})))},this.getInputSetup=function(t,e,n,r){return w(o,void 0,void 0,s.a.mark((function a(){var i,c,o,u,d,p,h=this;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((i=this.getPayloadHandler(n.type))&&i.getSetup){a.next=3;break}return a.abrupt("return",{});case 3:if(this.signer){a.next=5;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 5:return a.next=7,i.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,r()),this.getPayloadHandler);case 7:for(c=a.sent,o={},u=0,d=Object.keys(c);u<d.length;u++)p=d[u],o[p]=new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:c[p],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return h.getEVMParams(t,e,r())}});return a.abrupt("return",o);case 11:case"end":return a.stop()}}),a,this)})))},this.getOutputSetup=function(t,e,n){return w(o,void 0,void 0,s.a.mark((function r(){var a,i,c,o,u,d,p=this;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((a=this.getPayloadHandler(n.type))&&a.getSetup){r.next=3;break}return r.abrupt("return",{});case 3:if(this.signer){r.next=5;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 5:for(i=a.getSetup(this.network,this.signer,n,this.getEVMParams(t,e,{}),this.getPayloadHandler),c={},o=0,u=Object.keys(i);o<u.length;o++)d=u[o],c[d]=new m.a({signer:this.signer,network:this.network,chain:this.chain,payload:i[d],target:1,getPayloadHandler:this.getPayloadHandler,getParams:function(){return p.getEVMParams(t,e,{})}});return r.abrupt("return",c);case 9:case"end":return r.stop()}}),r,this)})))},this.getPayloadHandler=function(t){switch(t){case"approval":return x.c;case"contract":return x.d;case"address":return x.b}throw new Error("Unknown payload type ".concat(t))},this.createGatewayAddress=function(e,n,r,a){if(n.chain!==o.chain)throw new Error("Invalid payload for chain ".concat(n.chain," instead of ").concat(o.chain,"."));var i=new p.a.ec("secp256k1"),s=i.keyFromPublic(r),c=i.keyFromPrivate(a),u=i.keyFromPublic(s.getPublic().add(c.getPublic()));return Object(l.computeAddress)(t.from(u.getPublic(!1,"hex"),"hex"))},this.getEVMParams=function(e,n,r){var i;return i={},Object(a.a)(i,x.a.EVM_TRANSACTION_TYPE,n),Object(a.a)(i,x.a.EVM_TOKEN_ADDRESS,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockAsset(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getRenAsset(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_TOKEN_DECIMALS,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.assetDecimals(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_ACCOUNT,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.signer){t.next=2;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 2:return t.abrupt("return",this.signer.getAddress());case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_ACCOUNT_IS_CONTRACT,(function(){return w(o,void 0,void 0,s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.signer){t.next=2;break}throw Object(b.L)(new Error("Must connect signer."),b.i.PARAMETER_ERROR);case 2:return t.next=4,this.signer.getAddress();case 4:return e=t.sent,t.next=7,this.provider.getCode(e);case 7:return n=t.sent,t.abrupt("return",Object(b.r)(n).length>0);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_GATEWAY,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n!==b.d.Lock&&n!==b.f.Release){t.next=6;break}return t.next=3,this.getLockGateway(e);case 3:case 8:return t.abrupt("return",t.sent);case 6:return t.next=8,this.getMintGateway(e);case 9:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_TRANSFER_WITH_LOG_CONTRACT,(function(){return w(o,void 0,void 0,s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(y.g)(this.provider,this.network.addresses.GatewayRegistry).getTransferContract();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))})),Object(a.a)(i,x.a.EVM_ASSET,e),Object(a.a)(i,x.a.EVM_AMOUNT,Object(b.y)(r.amount)?r.amount.toString():void 0),Object(a.a)(i,x.a.EVM_NHASH,r.nHash),Object(a.a)(i,x.a.EVM_PHASH,r.pHash),Object(a.a)(i,x.a.EVM_SIGNATURE,r.signature),Object(a.a)(i,x.a.EVM_SIGNATURE_R,Object(b.y)(r.signature)?r.signature.slice(0,32):void 0),Object(a.a)(i,x.a.EVM_SIGNATURE_S,Object(b.y)(r.signature)?r.signature.slice(32,64):void 0),Object(a.a)(i,x.a.EVM_SIGNATURE_V,Object(b.y)(r.signature)?r.signature.slice(64,65)[0]:void 0),Object(a.a)(i,x.a.EVM_TO_CHAIN,r.toChain),Object(a.a)(i,x.a.EVM_TO_ADDRESS_BYTES,Object(b.y)(r.toPayload)?t.from(r.toPayload.to):void 0),Object(a.a)(i,x.a.EVM_TO_ADDRESS,Object(b.y)(r.toPayload)?r.toPayload.to:void 0),Object(a.a)(i,x.a.EVM_TO_PAYLOAD,Object(b.y)(r.toPayload)?r.toPayload.payload:void 0),Object(a.a)(i,x.a.EVM_GATEWAY_DEPOSIT_ADDRESS,r.gatewayAddress),Object(a.a)(i,x.a.EVM_GATEWAY_IS_DEPOSIT_ASSET,o.isDepositAsset(e)),i},this.Account=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.amount,r=e.convertToWei;if(Object(b.m)("BigNumber | string | number | undefined",{amount:n}),Object(b.m)("boolean | undefined",{convertToWei:r}),Object(b.y)(n)){if((t=u.a.isBigNumber(n)?n:new u.a(n.toString())).isNaN())throw Object(b.L)(new Error("Invalid numeric-value 'amount'. (amount: ".concat(n.toString(),")")),b.i.PARAMETER_ERROR);if(!r&&0!==t.decimalPlaces())throw Object(b.L)(new Error("Amount must be provided in Wei as an integer, or 'convertToWei' must be set to 'true'. (amount: ".concat(n.toString(),")")),b.i.PARAMETER_ERROR)}return{chain:o.chain,type:"address",params:{address:x.a.EVM_ACCOUNT,amount:t?t.toFixed():void 0,convertToWei:r}}},this.Address=function(t){return Object(b.m)("string",{address:t}),{chain:o.chain,type:"address",params:{address:t}}},this.Contract=function(t){return{chain:o.chain,type:"contract",params:{to:t.to,method:t.method,params:[].concat(Object(r.a)(t.params),Object(r.a)(t.withRenParams?[{name:"amount",type:"uint256",value:x.a.EVM_AMOUNT,notInPayload:!0},{name:"nHash",type:"bytes32",value:x.a.EVM_NHASH,notInPayload:!0},{name:"signature",type:"bytes",value:x.a.EVM_SIGNATURE,notInPayload:!0}]:[])),txConfig:t.txConfig}}},this.network=n,this.chain=this.network.selector,this.explorer=Object(O.a)(this.network.network.blockExplorerUrls[0]),this.logger=d.logger||b.F,this.provider=void 0,this.withProvider(i)};j.chain="Ethereum"}).call(this,n(32).Buffer)},67:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return y}));var r,a,i=n(1),s=n.n(i),c=n(5),o=n(16),u=n(18),d=n.n(u),p=n(3),h=n(170),f=n(279),l=n(171),b=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.FetchingStatus="fetching-status",t.Detected="detected",t.Confirmed="confirmed",t.Signed="signed",t.Reverted="reverted",t.Submitted="submitted"}(a||(a={}));r={},Object(o.a)(r,a.Detected,0),Object(o.a)(r,a.Confirmed,1),Object(o.a)(r,a.Signed,2),Object(o.a)(r,a.Reverted,3),Object(o.a)(r,a.Submitted,4);var y=function e(n,r,i,o,u,y){var m=this;Object(c.a)(this,e),this.initialize=function(){return b(m,void 0,void 0,s.a.mark((function e(){var n,r,a,i,c,o,u,h,b,y,m,v,g=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)({asset:this.params.asset,fromChain:this.fromChain,toChain:this.toChain});case 2:return n=e.sent,r=n.inputType,a=n.outputType,i=n.selector,this.inputType=r,this.outputType=a,this.selector=i,c=this.params,o=c.asset,u=c.nonce,h=c.to,e.next=12,this.toChain.getOutputPayload(o,this.outputType,h);case 12:if(b=e.sent,y=Object(p.v)("".concat(this.params.asset,"/to").concat(this.params.to.chain)),this.pHash=Object(p.u)(b.payload),m=u?t.isBuffer(u)?u:Object(p.q)(u):Object(p.H)(0,32),this.gHash=Object(p.s)(this.pHash,y,b.toBytes,m),v=this.params.shard?Object(p.q)(this.params.shard.gPubKey):t.from([]),this.in){e.next=27;break}return e.t0=p.b,e.t1=this.params.fromTx,e.t2=this.fromChain,e.next=24,this.provider.getConfirmationTarget(this.fromChain.chain);case 24:e.t3=e.sent,e.t4={chainTransaction:e.t1,chain:e.t2,target:e.t3},this.in=new e.t0(e.t4);case 27:if(this.renVM=new f.a(this.provider,this.selector,{txid:Object(p.q)(this.params.fromTx.txid),txindex:new d.a(this.params.fromTx.txindex),amount:new d.a(this.params.fromTx.amount),payload:b.payload,phash:this.pHash,to:b.to,nonce:m,nhash:this.nHash,gpubkey:v,ghash:this.gHash},this.onSignatureReady),this.hash=this.renVM._hash,this.renVM.eventEmitter.on("status",(function(t){g.queryTxResult=t.response})),e.t5=Object(p.z)(this.toChain),!e.t5){e.next=35;break}return e.next=34,this.toChain.isDepositAsset(this.params.asset);case 34:e.t5=e.sent;case 35:if(!e.t5){e.next=39;break}this.out=new p.b({chain:this.toChain,target:0}),e.next=46;break;case 39:if(!Object(p.x)(this.toChain)){e.next=45;break}return e.next=42,this.toChain.getOutputTx(this.outputType,this.params.asset,this.params.to,(function(){return{amount:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.amount:void 0,nHash:g.nHash,sHash:Object(p.C)(t.from(g.selector)),pHash:g.pHash,sigHash:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.sighash:void 0,signature:g.queryTxResult&&g.queryTxResult.tx.out?g.queryTxResult.tx.out.sig:void 0}}),1);case 42:this.out=e.sent,e.next=46;break;case 45:throw new Error("Error setting 'out' transaction submitter.");case 46:return e.abrupt("return",this);case 47:case"end":return e.stop()}}),e,this)})))},this.queryTx=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return b(m,void 0,void 0,s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.queryTxResult||this.queryTxResult.txStatus!==p.l.TxStatusDone){e.next=2;break}return e.abrupt("return",this.queryTxResult);case 2:return e.next=4,this.provider.queryTx(this.hash,t);case 4:return n=e.sent,this.queryTxResult=n,n.tx.out&&n.tx.out.revert&&n.tx.out.revert.length>0&&n.tx.out.sig&&n.tx.out.sig.length>0&&this.onSignatureReady(n),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})))},this.fetchStatus=function(t){return b(m,void 0,void 0,s.a.mark((function e(){var n,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){return b(r,void 0,void 0,s.a.mark((function t(){var e;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.queryTx(1);case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e=null;case 9:if(t.prev=9,void 0===(this.out&&this.out.status)){t.next=13;break}return t.abrupt("return",a.Submitted);case 13:t.next=17;break;case 15:t.prev=15,t.t1=t.catch(9);case 17:if(t.prev=17,void 0!==e){t.next=24;break}return t.next=21,this.queryTx(1);case 21:t.t2=t.sent,t.next=25;break;case 24:t.t2=e;case 25:if(!(e=t.t2)||e.txStatus!==p.l.TxStatusDone){t.next=33;break}if(!e.tx.out||!e.tx.out.revert||""===e.tx.out.revert){t.next=32;break}this.status=a.Reverted,this.revertReason=e.tx.out.revert.toString(),t.next=33;break;case 32:return t.abrupt("return",a.Signed);case 33:t.next=37;break;case 35:t.prev=35,t.t3=t.catch(17);case 37:if(t.prev=37,!(Object(p.y)(this.in.status.confirmations)&&this.in.status.confirmations>=this.in.status.target)){t.next=40;break}return t.abrupt("return",a.Confirmed);case 40:t.next=44;break;case 42:t.prev=42,t.t4=t.catch(37);case 44:return t.abrupt("return",a.Detected);case 45:case"end":return t.stop()}}),t,this,[[0,6],[9,15],[17,35],[37,42]])})))},!t){e.next=18;break}case 2:return e.prev=3,e.next=6,n();case 6:this.status=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),this._config.logger.error(e.t0),e.next=14,Object(p.G)(this._config.networkDelay);case 14:e.next=2;break;case 16:e.next=21;break;case 18:return e.next=20,n();case 20:this.status=e.sent;case 21:return e.abrupt("return",this.status);case 22:case"end":return e.stop()}}),e,this,[[3,9]])})))},this.onSignatureReady=function(t){m.queryTxResult=t;var e=t.tx;if(e.out&&e.out.revert&&""!==e.out.revert)return m.status=a.Reverted,void(m.revertReason=e.out.revert);if(m.status=a.Signed,e.out&&e.out.txid&&e.out.txid.length>0){var n=Object(p.I)(e.out.txid),r=e.out.txindex.toFixed();m.out.setTransaction({chain:m.toChain.chain,txid:n,txindex:r,txidFormatted:m.toChain.formattedTransactionHash({txid:n,txindex:r})})}},this.provider=n,this.params=o,this._config=Object.assign(Object.assign({},h.a),y),this.fromChain=r,this.toChain=i,this.status=a.FetchingStatus,this.hash="";var v=Object(p.y)(o.nonce)?Object(p.q)(o.nonce):Object(p.H)(0,32);this.nHash=Object(p.t)(v,Object(p.q)(o.fromTx.txid),o.fromTx.txindex),this.in=u||void 0,this.selector=void 0,this.out=void 0,this.pHash=void 0,this.gHash=void 0,this.renVM=void 0}}).call(this,n(32).Buffer)},77:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return v}));var r=n(50),a=n(1),i=n.n(a),s=n(5),c=n(9),o=n(18),u=n.n(o),d=n(128),p=n.n(d),h=n(3),f=n(17),l=n(260),b=n(124),y=n(38),m=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))},v=function(){function e(t){var n=this;Object(s.a)(this,e),this.assets={},this.configMap={},this.api=new f.a,this.getBalance=function(t,e){return m(n,void 0,void 0,i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._assertAssetIsSupported(t),this.validateAddress(e)){n.next=3;break}throw new Error("Invalid address ".concat(e,"."));case 3:return n.abrupt("return",new u.a(0));case 4:case"end":return n.stop()}}),n,this)})))},this.transactionConfidence=function(t){return m(n,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.fetchUTXO(this.formattedTransactionHash(t),t.txindex);case 2:if(n=e.sent,r=n.height){e.next=8;break}return e.abrupt("return",new u.a(0));case 8:return e.t0=u.a,e.next=11,this.api.fetchHeight();case 11:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",a.minus(r).plus(1));case 14:case"end":return e.stop()}}),e,this)})))},this.createGatewayAddress=function(t,e,r,a){if(n._assertAssetIsSupported(t),e.chain!==n.chain)throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(n.chain,"."));return n.encodeAddress(Object(l.a)(Object(y.c)(r),a,n.network.p2shPrefix))},this.Address=function(t){if(Object(h.m)("string",{address:t}),!n.validateAddress(t))throw Object(h.L)(new Error("Invalid ".concat(n.chain," address: ").concat(String(t))),h.i.PARAMETER_ERROR);return{chain:n.chain,address:t}},this.GatewayAddress=function(){return{chain:n.chain}},this.toSats=function(t){return new u.a(t).shiftedBy(8).decimalPlaces(0).toFixed()},this.fromSats=function(t){return new u.a(t).shiftedBy(-8).toFixed()};var a=Object(b.a)(t)?t:this.configMap[t];if(!a)throw"string"===typeof t?new Error("Unknown network ".concat(t,".")):new Error("Invalid network config.");this.network=a,this.chain=this.network.selector;var c,o=Object(r.a)(this.network.providers);try{for(o.s();!(c=o.n()).done;){var d=c.value;this.withAPI(d)}}catch(p){o.e(p)}finally{o.f()}}return Object(c.a)(e,[{key:"withAPI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.priority,r=void 0===n?0:n;return this.api.withAPI(t,{priority:r}),this}},{key:"getOutputPayload",value:function(e,n,r){return this._assertAssetIsSupported(e),{to:r.address,toBytes:p.a.decode(r.address),payload:t.from([])}}},{key:"addressExplorerLink",value:function(t){return this.network.explorer.address(t)}},{key:"transactionExplorerLink",value:function(t){return this.network.explorer.transaction(this.formattedTransactionHash(t))}},{key:"encodeAddress",value:function(t){return p.a.encode(t)}},{key:"validateAddress",value:function(t){return Object(y.f)(t,this.network.nativeAsset.symbol,this.network.isTestnet?"testnet":"prod")}},{key:"formattedTransactionHash",value:function(t){return Object(h.q)(t.txid).reverse().toString("hex")}},{key:"validateTransaction",value:function(t){return 32===Object(h.q)(t.txid).length&&!new u.a(t.txindex).isNaN()}},{key:"isLockAsset",value:function(t){return t===this.network.nativeAsset.symbol}},{key:"isDepositAsset",value:function(t){return this._assertAssetIsSupported(t),!0}},{key:"_assertAssetIsSupported",value:function(t){if(!this.isLockAsset(t))throw new Error("Asset ".concat(t," not supported on ").concat(this.chain,"."))}},{key:"assetDecimals",value:function(t){return this._assertAssetIsSupported(t),8}},{key:"watchForDeposits",value:function(t,e,n,r,a,s){return m(this,void 0,void 0,i.a.mark((function a(){var c=this;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(this._assertAssetIsSupported(t),e.chain===this.chain){a.next=3;break}throw new Error("Invalid payload for chain ".concat(e.chain," instead of ").concat(this.chain,"."));case 3:return a.prev=3,a.next=6,Object(h.J)((function(){return m(c,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.api.fetchTXs(n));case 1:case"end":return t.stop()}}),t,this)})))}),2);case 6:a.sent.map((function(t){return m(c,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({chain:this.chain,txid:Object(h.I)(Object(h.r)(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount}));case 1:case"end":return e.stop()}}),e,this)})))})),a.next=12;break;case 10:a.prev=10,a.t0=a.catch(3);case 12:if(!s()){a.next=15;break}return a.abrupt("return");case 15:return a.prev=15,a.next=18,this.api.fetchUTXOs(n);case 18:a.sent.map((function(t){return m(c,void 0,void 0,i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r({chain:this.chain,txid:Object(h.I)(Object(h.r)(t.txid).reverse()),txidFormatted:t.txid,txindex:t.txindex,amount:t.amount}));case 1:case"end":return e.stop()}}),e,this)})))})),a.next=25;break;case 22:a.prev=22,a.t1=a.catch(15),console.error(a.t1);case 25:return a.next=27,Object(h.G)(15*h.k);case 27:a.next=12;break;case 29:case"end":return a.stop()}}),a,this,[[3,10],[15,22]])})))}}]),e}();v.chain="Bitcoin",v.configMap={}}).call(this,n(32).Buffer)},82:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return f}));var r,a=n(1),i=n.n(a),s=n(5),c=n(28),o=n.n(c),u=n(18),d=n.n(u),p=n(17),h=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.BTC="BTC",t.LTC="LTC",t.ZEC="ZEC",t.DOGE="DOGE",t.DASH="DASH",t.BTCTEST="BTCTEST",t.LTCTEST="LTCTEST",t.ZECTEST="ZECTEST",t.DOGETEST="DOGETEST",t.DASHTEST="DASHTEST"}(r||(r={}));var f=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BTC;Object(s.a)(this,t),this.fetchHeight=function(){return h(e,void 0,void 0,i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("https://sochain.com/api/v2/get_info/".concat(this.network),{timeout:p.b});case 2:return t.abrupt("return",t.sent.data.blocks.toString());case 3:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return h(e,void 0,void 0,i.a.mark((function e(){var r,a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://sochain.com/api/v2/get_tx/".concat(this.network,"/").concat(t),e.next=3,o.a.get(r,{timeout:p.b});case 3:return a=e.sent,s=a.data.data,e.t0=d.a,e.next=8,this.fetchHeight();case 8:return e.t1=e.sent,c=new e.t0(e.t1),e.abrupt("return",Object(p.c)({txid:s.txid,amount:s.outputs[parseInt(n,10)].value.toString(),txindex:n,height:s.confirmations&&s.confirmations>0?c.minus(s.confirmations).plus(1).toFixed():null},8));case 11:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_unspent/".concat(this.network,"/").concat(t,"/",0),e.next=3,o.a.get(n,{timeout:p.b});case 3:return r=e.sent,e.t0=d.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(p.d)(r.data.data.txs.map((function(t){return{txid:t.txid,txindex:t.output_no.toString(),amount:t.value.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(p.f));case 10:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n,r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://sochain.com/api/v2/get_tx_received/".concat(this.network,"/").concat(t,"/",0),e.next=3,o.a.get(n,{timeout:p.b});case 3:return r=e.sent,e.t0=d.a,e.next=7,this.fetchHeight();case 7:return e.t1=e.sent,a=new e.t0(e.t1),e.abrupt("return",Object(p.d)(r.data.data.txs.map((function(t){return{txid:t.txid,amount:t.value.toString(),txindex:t.output_no.toString(),height:t.confirmations&&t.confirmations>0?a.minus(t.confirmations).plus(1).toFixed():null}})),8).sort(p.f));case 10:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return h(e,void 0,void 0,i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post("https://sochain.com/api/v2/send_tx/".concat(this.network),{tx_hex:t},{timeout:p.b});case 2:return n=e.sent,e.abrupt("return",n.data.data.txid);case 4:case"end":return e.stop()}}),e,this)})))},this.network=n}},86:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return h}));var r,a=n(50),i=n(1),s=n.n(i),c=n(5),o=n(28),u=n.n(o),d=n(17),p=function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function s(t){try{o(r.next(t))}catch(e){i(e)}}function c(t){try{o(r.throw(t))}catch(e){i(e)}}function o(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,c)}o((r=r.apply(t,e||[])).next())}))};!function(t){t.BITCOIN="bitcoin",t.BITCOIN_CASH="bitcoin-cash",t.DOGECOIN="dogecoin",t.ZCASH="zcash",t.BITCOIN_TESTNET="bitcoin/testnet"}(r||(r={}));var h=function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.BITCOIN;Object(c.a)(this,t),this.endpoint=function(){return"https://api.blockchair.com/".concat(e.network)},this.fetchHeight=function(){return p(e,void 0,void 0,s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.endpoint(),"/stats"),t.next=3,u.a.get("".concat(e),{timeout:d.b});case 3:return n=t.sent.data,t.abrupt("return",n.data.best_block_height.toString());case 5:case"end":return t.stop()}}),t,this)})))},this.fetchUTXO=function(t,n){return p(e,void 0,void 0,s.a.mark((function e(){var r,a,i,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.endpoint(),"/dashboards/transaction/").concat(t),e.next=3,u.a.get("".concat(r),{timeout:d.b});case 3:if((a=e.sent.data).data[t]){e.next=6;break}throw new Error("Transaction not found.");case 6:if(i=a.data[t],0!==a.context.state){e.next=14;break}return c="".concat(this.endpoint(),"/stats"),e.next=12,u.a.get(c,{timeout:d.b});case 12:o=e.sent.data,o.data.blocks-1;case 14:return e.abrupt("return",{txid:t,txindex:n,amount:i.outputs[parseInt(n,10)].value.toString(),height:i.transaction.block_id&&i.transaction.block_id>0?i.transaction.block_id.toString():null});case 15:case"end":return e.stop()}}),e,this)})))},this.fetchUTXOs=function(t){return p(e,void 0,void 0,s.a.mark((function e(){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=0,100"),e.next=3,u.a.get(n,{timeout:d.b});case 3:if(r=e.sent.data,0!==r.context.state){e.next=11;break}return a="".concat(this.endpoint(),"/stats"),e.next=9,u.a.get(a,{timeout:d.b});case 9:i=e.sent.data,i.data.blocks-1;case 11:return e.abrupt("return",r.data[t].utxo.map((function(t){return{txid:t.transaction_hash,amount:t.value.toString(),txindex:t.index.toString(),height:t.block_id&&t.block_id>0?t.block_id.toString():null}})).sort(d.f));case 12:case"end":return e.stop()}}),e,this)})))},this.fetchTXs=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return p(e,void 0,void 0,s.a.mark((function e(){var r,i,c,o,p,h,f,l,b,y,m,v,g,x;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.endpoint(),"/dashboards/address/").concat(t,"?limit=").concat(n,",0"),e.next=3,u.a.get(r,{timeout:d.b});case 3:i=e.sent.data,c=i.data[t].transactions,o={},p=0;case 7:if(!(p<Math.ceil(c.length/10))){e.next=16;break}return h="".concat(this.endpoint(),"/dashboards/transactions/").concat(c.slice(10*p,10*(p+1)).join(",")),e.next=11,u.a.get(h,{timeout:d.b});case 11:f=e.sent.data,o=Object.assign(Object.assign({},o),f.data);case 13:p++,e.next=7;break;case 16:l=[],b=Object(a.a)(c);try{for(b.s();!(y=b.n()).done;)for(m=y.value,v=o[m],g=0;g<v.outputs.length;g++)(x=v.outputs[g]).recipient===t&&l.push({txid:v.transaction.hash,amount:x.value.toString(),txindex:g.toString(),height:x.block_id&&x.block_id>0?x.block_id.toString():null})}catch(s){b.e(s)}finally{b.f()}return e.abrupt("return",l.sort(d.f));case 20:case"end":return e.stop()}}),e,this)})))},this.broadcastTransaction=function(t){return p(e,void 0,void 0,s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(this.endpoint(),"/push/transaction"),e.next=3,u.a.post(n,{data:t},{timeout:d.b});case 3:if(!(r=e.sent).data.error){e.next=6;break}throw new Error(r.data.error);case 6:return e.abrupt("return",r.data.data.transaction_hash);case 7:case"end":return e.stop()}}),e,this)})))},this.network=n}},95:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return u}));var r=n(40),a=n(48),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"0x"},n=e.prefix,r="number"===typeof t?t.toString(16):"string"===typeof t?t:t.toString("hex");return r.length%2===1&&(r="0"+r),r.substring(0,2)===n?r:"".concat(n).concat(r)},s=function(e){return Object(r.b)("string",{hex:e}),t.from(function(t){return Object(r.b)("string",{hex:t}),"0x"===t.substring(0,2)?t.slice(2):t}(e),"hex")},c=function(e){return Object(r.b)("string",{base64:e}),t.from(e,"base64")},o=function(e){return Object(r.b)("Buffer",{input:e}),(t.isBuffer(e)?t.from(e):s(e)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},u=(Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.from(e,"base64");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(a.toString("base64")===e)})),Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.from(e,"base64");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(o(a)===e)})),Object(a.c)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.prefix&&(Object(r.a)("0x"===e.slice(0,2)),e=e.slice(2));var a=t.from(e,"hex");Object(r.a)(void 0===n.length||a.length===n.length,"Expected ".concat(String(n.length)," bytes.")),Object(r.a)(a.toString("hex")===e)})))}).call(this,n(32).Buffer)}},[[404,1,2]]]);
//# sourceMappingURL=main.f7b1387b.chunk.js.map